!function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Collapsed connected users list (press ENTER to open it)":"Collapsed connected users list (press ENTER to open it)","Connected users list":"Connected users list","Connected users list dropdown menu":"Connected users list dropdown menu",CONNECTED_USERS:["1 connected user (me)","%0 connected users"],PENDING_ACTION_SENDING_DATA:"Sending data to the server.","Synchronization issue":"Synchronization issue","The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.":"The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.","The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.":"The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.","The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.":"The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.","The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.":"The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor."})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var __webpack_modules__={310:e=>{"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,s=2,o=!0;for(;s<arguments.length;)n[r++]=arguments[s++];return new Promise((function(s,i){n[r]=function(e){if(o)if(o=!1,e)i(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];s.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,i(e))}}))}},662:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),s=new Array(123),o=0;o<64;)s[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(e,t,n){for(var s,o=null,i=[],a=0,c=0;t<n;){var d=e[t++];switch(c){case 0:i[a++]=r[d>>2],s=(3&d)<<4,c=1;break;case 1:i[a++]=r[s|d>>4],s=(15&d)<<2,c=2;break;case 2:i[a++]=r[s|d>>6],i[a++]=r[63&d],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0)}return c&&(i[a++]=r[s],i[a++]=61,1===c&&(i[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))};var i="invalid encoding";n.decode=function(e,t,n){for(var r,o=n,a=0,c=0;c<e.length;){var d=e.charCodeAt(c++);if(61===d&&a>1)break;if(void 0===(d=s[d]))throw Error(i);switch(a){case 0:r=d,a=1;break;case 1:t[n++]=r<<2|(48&d)>>4,r=d,a=2;break;case 2:t[n++]=(15&r)<<4|(60&d)>>2,r=d,a=3;break;case 3:t[n++]=(3&r)<<6|d,a=0}}if(1===a)throw Error(i);return n-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},707:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},365:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function s(e,r,s){t[0]=e,r[s]=n[0],r[s+1]=n[1],r[s+2]=n[2],r[s+3]=n[3]}function o(e,r,s){t[0]=e,r[s]=n[3],r[s+1]=n[2],r[s+2]=n[1],r[s+3]=n[0]}function i(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?s:o,e.writeFloatBE=r?o:s,e.readFloatLE=r?i:a,e.readFloatBE=r?a:i}():function(){function t(e,t,n,r){var s=t<0?1:0;if(s&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((s<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((s<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((s<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function i(e,t,n){var r=e(t,n),s=2*(r>>31)+1,o=r>>>23&255,i=8388607&r;return 255===o?i?NaN:s*(1/0):0===o?1401298464324817e-60*s*i:s*Math.pow(2,o-150)*(i+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=i.bind(null,s),e.readFloatBE=i.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function s(e,r,s){t[0]=e,r[s]=n[0],r[s+1]=n[1],r[s+2]=n[2],r[s+3]=n[3],r[s+4]=n[4],r[s+5]=n[5],r[s+6]=n[6],r[s+7]=n[7]}function o(e,r,s){t[0]=e,r[s]=n[7],r[s+1]=n[6],r[s+2]=n[5],r[s+3]=n[4],r[s+4]=n[3],r[s+5]=n[2],r[s+6]=n[1],r[s+7]=n[0]}function i(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?s:o,e.writeDoubleBE=r?o:s,e.readDoubleLE=r?i:a,e.readDoubleBE=r?a:i}():function(){function t(e,t,n,r,s,o){var i=r<0?1:0;if(i&&(r=-r),0===r)e(0,s,o+t),e(1/r>0?0:2147483648,s,o+n);else if(isNaN(r))e(0,s,o+t),e(2146959360,s,o+n);else if(r>17976931348623157e292)e(0,s,o+t),e((i<<31|2146435072)>>>0,s,o+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,s,o+t),e((i<<31|a/4294967296)>>>0,s,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,s,o+t),e((i<<31|c+1023<<20|1048576*a&1048575)>>>0,s,o+n)}}}function i(e,t,n,r,s){var o=e(r,s+t),i=e(r,s+n),a=2*(i>>31)+1,c=i>>>20&2047,d=4294967296*(1048575&i)+o;return 2047===c?d?NaN:a*(1/0):0===c?5e-324*a*d:a*Math.pow(2,c-1075)*(d+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=i.bind(null,s,0,4),e.readDoubleBE=i.bind(null,o,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},230:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},319:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,s=r>>>1,o=null,i=r;return function(n){if(n<1||n>s)return e(n);i+n>r&&(o=e(r),i=0);var a=t.call(o,i,i+=n);return 7&i&&(i=1+(7|i)),a}}},742:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,s=null,o=[],i=0;t<n;)(r=e[t++])<128?o[i++]=r:r>191&&r<224?o[i++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[i++]=55296+(r>>10),o[i++]=56320+(1023&r)):o[i++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],i>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),i=0);return s?(i&&s.push(String.fromCharCode.apply(String,o.slice(0,i))),s.join("")):String.fromCharCode.apply(String,o.slice(0,i))},n.write=function(e,t,n){for(var r,s,o=n,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(s=e.charCodeAt(i+1)))?(r=65536+((1023&r)<<10)+(1023&s),++i,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},106:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(168),s=n.n(r),o=n(433),i=n.n(o)()(s());i.push([e.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100)}:root{--ck-color-presence-list-dropdown-background:#fff;--ck-color-presence-list-dropdown-arrow-border:#ebebeb;--ck-presence-list-dropdown-list-max-width:250px;--ck-presence-list-dropdown-list-min-width:180px;--ck-presence-list-users-tooltip-max-width:120px;--ck-presence-list-users-tooltip-min-width:25px}.ck.ck-presence-list{align-items:center;display:flex;font-size:var(--ck-font-size-base);margin-right:var(--ck-spacing-standard);transition:margin-right .2s ease-in-out}.ck.ck-presence-list *{box-sizing:border-box}.ck.ck-presence-list__list{display:flex;flex-direction:row;justify-content:flex-end}.ck.ck-presence-list__counter{color:var(--ck-color-base-text);margin-right:var(--ck-spacing-large)}.ck.ck-presence-list__counter--hidden{display:none}.ck.ck-presence-list__list-item{background:none;border:1px solid transparent;color:inherit;font:inherit;margin-left:var(--ck-spacing-small);outline:none;position:relative}.ck.ck-presence-list__list-item:focus{border:var(--ck-focus-ring);border-radius:0;box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck-rounded-corners .ck.ck-presence-list__list-item:focus,.ck.ck-presence-list__list-item.ck-rounded-corners:focus{border-radius:var(--ck-border-radius)}.ck.ck-presence-list__list-item .ck-label{height:0;overflow:hidden;width:0}.ck.ck-tooltip.ck-presence-list__list-item__tooltip>.ck-tooltip__text{display:inline-block;max-width:var(--ck-presence-list-users-tooltip-max-width);overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck.ck-presence-list__marker{display:block;height:3px;margin-top:3px;position:relative;width:100%}.ck-presence-list__balloon button.ck-presence-list__dropdown-list-item *,.ck-presence-list__list button.ck-presence-list__list-item *{cursor:pointer}.ck.ck-presence-list--collapsed .ck-presence-list__list{border:1px solid transparent;min-width:calc(var(--ck-user-avatar-size)*2)}.ck.ck-presence-list--collapsed .ck-presence-list__list *{cursor:pointer;transition:all .4s ease-in-out}.ck.ck-presence-list--collapsed .ck-presence-list__list:focus{border:var(--ck-focus-ring);border-radius:0;box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck-rounded-corners .ck.ck-presence-list--collapsed .ck-presence-list__list:focus,.ck.ck-presence-list--collapsed .ck-presence-list__list.ck-rounded-corners:focus{border-radius:var(--ck-border-radius)}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item{border:0;margin-left:calc(var(--ck-user-avatar-size)*-1 + 7px);padding:0}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:last-child{order:unset}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(2){opacity:.75}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(3){opacity:.55}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(4){opacity:.35}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(5){opacity:.15}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(n+6){display:none}.ck.ck-presence-list__balloon{--ck-color-panel-border:var(--ck-color-presence-list-dropdown-arrow-border);--ck-color-panel-background:var(--ck-color-presence-list-dropdown-background);animation:fadeIn .3s ease-in-out;background-color:var(--ck-color-presence-list-dropdown-background);border:0;opacity:1}@media (prefers-reduced-motion:reduce){.ck.ck-presence-list__balloon{animation:none}}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-wrapper{border-radius:var(--ck-border-radius);max-width:var(--ck-presence-list-dropdown-list-max-width);min-width:var(--ck-presence-list-dropdown-list-min-width)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-wrapper.ck-presence-list__dropdown-list-wrapper_scrollable{max-height:80vh;overflow-x:hidden;overflow-y:auto}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item{align-items:center;background:none;border:0;color:inherit;display:flex;font:inherit;outline:none;padding:var(--ck-spacing-standard);position:relative}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:focus{box-shadow:var(--ck-focus-outer-shadow),0 0;outline:var(--ck-focus-ring);outline-offset:-1px;position:relative;z-index:1}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:first-of-type .ck-presence-list__marker{border-top-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:last-of-type .ck-presence-list__marker{border-bottom-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck-user__full-name{color:var(--ck-color-base-text);margin-left:var(--ck-spacing-standard);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck.ck-presence-list__marker{height:100%;left:0;margin:0;position:absolute;width:3px}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const a=i},535:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(168),s=n.n(r),o=n(433),i=n.n(o)()(s());i.push([e.id,".ck .ck-user__marker-dot{border-radius:50%;cursor:default;display:block;height:var(--ck-user-dot-size);left:50%;position:absolute;top:calc((var(--ck-user-dot-size)/2)*-1);transform:translate(-50%,-50%);width:var(--ck-user-dot-size)}.ck .ck-user__marker-tooltip{color:#fff;display:none;font-family:Georgia,sans-serif;font-size:var(--ck-font-size-base);font-style:normal;font-weight:400;left:0;line-height:1;opacity:0;padding:var(--ck-spacing-small);position:absolute;top:-20px;transition:opacity .2s linear,transform .3s ease-in-out;white-space:nowrap;z-index:99999}@media (prefers-reduced-motion:reduce){.ck .ck-user__marker-tooltip{transition:none}}.ck .ck-user__marker-line{bottom:0;height:100%;position:absolute;width:0}.ck .ck-user__marker{cursor:default;display:inline;position:relative}.ck .ck-user__marker.ck-user__marker_hovered .ck-user__marker-dot{width:0}.ck .ck-user__marker.ck-user__marker_hovered .ck-user__marker-tooltip{animation:fadeInLeft .3s ease-in-out;display:block;opacity:1}.ck .ck-placeholder .ck-user__marker{display:none}@media (prefers-reduced-motion:reduce){.ck .ck-user__marker,.ck .ck-user__marker *,.ck .ck-user__marker:after{animation:none!important}}@keyframes fadeInLeft{0%{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}",""]);const a=i},433:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(i[c]=!0)}for(var d=0;d<e.length;d++){var u=[].concat(e[d]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),s&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=s):u[4]="".concat(s)),t.push(u))}},t}},168:e=>{"use strict";e.exports=function(e){return e[1]}},199:(e,t,n)=>{"use strict";e.exports=n(995)},995:(e,t,n)=>{"use strict";var r=t;function s(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(6),r.BufferWriter=n(623),r.Reader=n(366),r.BufferReader=n(895),r.util=n(737),r.rpc=n(178),r.roots=n(156),r.configure=s,s()},366:(e,t,n)=>{"use strict";e.exports=c;var r,s=n(737),o=s.LongBits,i=s.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var d,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},l=function(){return s.Buffer?function(e){return(c.create=function(e){return s.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function p(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=s.Array.prototype.subarray||s.Array.prototype.slice,c.prototype.uint32=(d=4294967295,function(){if(d=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return d;if(d=(d|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return d;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return d}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=s.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=s.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,n);if(t===n){var r=s.Buffer;return r?r.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return i.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=l(),r._configure();var t=s.Long?"toLong":"toNumber";s.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},895:(e,t,n)=>{"use strict";e.exports=o;var r=n(366);(o.prototype=Object.create(r.prototype)).constructor=o;var s=n(737);function o(e){r.call(this,e)}o._configure=function(){s.Buffer&&(o.prototype._slice=s.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},156:e=>{"use strict";e.exports={}},178:(e,t,n)=>{"use strict";t.Service=n(418)},418:(e,t,n)=>{"use strict";e.exports=s;var r=n(737);function s(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(s.prototype=Object.create(r.EventEmitter.prototype)).constructor=s,s.prototype.rpcCall=function e(t,n,s,o,i){if(!o)throw TypeError("request must be specified");var a=this;if(!i)return r.asPromise(e,a,t,n,s,o);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return a.emit("error",e,t),i(e);if(null!==n){if(!(n instanceof s))try{n=s[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),i(e)}return a.emit("data",n,t),i(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){i(e)}),0)}else setTimeout((function(){i(Error("already ended"))}),0)},s.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},130:(e,t,n)=>{"use strict";e.exports=s;var r=n(737);function s(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=s.zero=new s(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var i=s.zeroHash="\0\0\0\0\0\0\0\0";s.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new s(n,r)},s.from=function(e){if("number"==typeof e)return s.fromNumber(e);if(r.isString(e)){if(!r.Long)return s.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new s(e.low>>>0,e.high>>>0):o},s.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},s.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;s.fromHash=function(e){return e===i?o:new s((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},s.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},s.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},s.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},s.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},737:function(e,t,n){"use strict";var r=t;function s(e,t,n){for(var r=Object.keys(t),s=0;s<r.length;++s)void 0!==e[r[s]]&&n||(e[r[s]]=t[r[s]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&s(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}r.asPromise=n(310),r.base64=n(662),r.EventEmitter=n(707),r.float=n(365),r.inquire=n(230),r.utf8=n(742),r.pool=n(319),r.LongBits=n(130),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=s,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},6:(e,t,n)=>{"use strict";e.exports=l;var r,s=n(737),o=s.LongBits,i=s.base64,a=s.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function d(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new c(d,0,0),this.tail=this.head,this.states=null}var p=function(){return s.Buffer?function(){return(l.create=function(){return new r})()}:function(){return new l}};function h(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function y(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=p(),l.alloc=function(e){return new s.Array(e)},s.Array!==Array&&(l.alloc=s.pool(l.alloc,s.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},l.prototype.bool=function(e){return this._push(h,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(s.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(s.float.writeDoubleLE,8,e)};var g=s.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(s.isString(e)){var n=l.alloc(t=i.length(e));i.decode(e,n,0),e=n}return this.uint32(t)._push(g,t,e)},l.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(d,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(d,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l._configure=function(e){r=e,l.create=p(),r._configure()}},623:(e,t,n)=>{"use strict";e.exports=o;var r=n(6);(o.prototype=Object.create(r.prototype)).constructor=o;var s=n(737);function o(){r.call(this)}function i(e,t,n){e.length<40?s.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=s._Buffer_allocUnsafe,o.writeBytesBuffer=s.Buffer&&s.Buffer.prototype instanceof Uint8Array&&"set"===s.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){s.isString(e)&&(e=s._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=s.Buffer.byteLength(e);return this.uint32(t),t&&this._push(i,t,e),this},o._configure()},553:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function s(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,o,i=[];for(o in"string"!=typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!=r&&!isNaN(r)||(r=""),o=s(o),r=s(r),null===o||null===r)continue;i.push(o+"="+r)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,s={};t=n.exec(e);){var o=r(t[1]),i=r(t[2]);null===o||null===i||o in s||(s[o]=i)}return s}},696:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},673:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],a=0;a<e.length;a++){var c=e[a],d=r.base?c[0]+r.base:c[0],u=o[d]||0,l="".concat(d," ").concat(u);o[d]=u+1;var p=n(l),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=s(h,r);r.byIndex=a,t.splice(a,0,{identifier:l,updater:f,references:1})}i.push(l)}return i}function s(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var o=r(e=e||[],s=s||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var a=n(o[i]);t[a].references--}for(var c=r(e,s),d=0;d<o.length;d++){var u=n(o[d]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},262:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},357:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},667:e=>{"use strict";e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},545:e=>{"use strict";var t,n=(t=[],function(e,n){return t[e]=n,t.filter(Boolean).join("\n")});function r(e,t,r,s){var o;if(r)o="";else{o="",s.supports&&(o+="@supports (".concat(s.supports,") {")),s.media&&(o+="@media ".concat(s.media," {"));var i=void 0!==s.layer;i&&(o+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),o+=s.css,i&&(o+="}"),s.media&&(o+="}"),s.supports&&(o+="}")}if(e.styleSheet)e.styleSheet.cssText=n(t,o);else{var a=document.createTextNode(o),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(a,c[t]):e.appendChild(a)}}var s={singleton:null,singletonCounter:0};e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=s.singletonCounter++,n=s.singleton||(s.singleton=e.insertStyleElement(e));return{update:function(e){r(n,t,!1,e)},remove:function(e){r(n,t,!0,e)}}}},835:(e,t,n)=>{"use strict";var r=n(696),s=n(553),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,i=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,d=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function l(e){return(e||"").toString().replace(o,"")}var p=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function f(e){var t,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},s={},o=typeof(e=e||r);if("blob:"===e.protocol)s=new g(unescape(e.pathname),{});else if("string"===o)for(t in s=new g(e,{}),h)delete s[t];else if("object"===o){for(t in e)t in h||(s[t]=e[t]);void 0===s.slashes&&(s.slashes=a.test(e.href))}return s}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function y(e,t){e=(e=l(e)).replace(i,""),t=t||{};var n,r=d.exec(e),s=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],c=0;return o?a?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):a?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===s?c>=2&&(n=n.slice(2)):m(s)?n=r[4]:s?o&&(n=n.slice(2)):c>=2&&m(t.protocol)&&(n=r[4]),{protocol:s,slashes:o||m(s),slashesCount:c,rest:n}}function g(e,t,n){if(e=(e=l(e)).replace(i,""),!(this instanceof g))return new g(e,t,n);var o,a,c,d,h,b,O=p.slice(),w=typeof t,v=this,I=0;for("object"!==w&&"string"!==w&&(n=t,t=null),n&&"function"!=typeof n&&(n=s.parse),o=!(a=y(e||"",t=f(t))).protocol&&!a.slashes,v.slashes=a.slashes||o&&t.slashes,v.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||u.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!m(v.protocol)))&&(O[3]=[/(.*)/,"pathname"]);I<O.length;I++)"function"!=typeof(d=O[I])?(c=d[0],b=d[1],c!=c?v[b]=e:"string"==typeof c?~(h="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof d[2]?(v[b]=e.slice(0,h),e=e.slice(h+d[2])):(v[b]=e.slice(h),e=e.slice(0,h))):(h=c.exec(e))&&(v[b]=h[1],e=e.slice(0,h.index)),v[b]=v[b]||o&&d[3]&&t[b]||"",d[4]&&(v[b]=v[b].toLowerCase())):e=d(e,v);n&&(v.query=n(v.query)),o&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],o=!1,i=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),i++):i&&(0===r&&(o=!0),n.splice(r,1),i--);return o&&n.unshift(""),"."!==s&&".."!==s||n.push(""),n.join("/")}(v.pathname,t.pathname)),"/"!==v.pathname.charAt(0)&&m(v.protocol)&&(v.pathname="/"+v.pathname),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(~(h=v.auth.indexOf(":"))?(v.username=v.auth.slice(0,h),v.username=encodeURIComponent(decodeURIComponent(v.username)),v.password=v.auth.slice(h+1),v.password=encodeURIComponent(decodeURIComponent(v.password))):v.username=encodeURIComponent(decodeURIComponent(v.auth)),v.auth=v.password?v.username+":"+v.password:v.username),v.origin="file:"!==v.protocol&&m(v.protocol)&&v.host?v.protocol+"//"+v.host:"null",v.href=v.toString()}g.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||s.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,c.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";o[e]=t.charAt(0)!==i?i+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(o.username=t.slice(0,a),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(a+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var d=0;d<p.length;d++){var u=p[d];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&m(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=s.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var i=o+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(i+=n.username,n.password&&(i+=":"+n.password),i+="@"):n.password?(i+=":"+n.password,i+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(i+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),i+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},g.extractProtocol=y,g.location=f,g.trimLeft=l,g.qs=s,e.exports=g},211:(e,t,n)=>{e.exports=n(312)("./src/collaboration-core.js")},782:(e,t,n)=>{e.exports=n(237)("./src/core.js")},783:(e,t,n)=>{e.exports=n(237)("./src/engine.js")},311:(e,t,n)=>{e.exports=n(237)("./src/ui.js")},584:(e,t,n)=>{e.exports=n(237)("./src/utils.js")},312:e=>{"use strict";e.exports=CKEditor5.collaborationDll},237:e=>{"use strict";e.exports=CKEditor5.dll}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CloudServicesCommentsAdapter:()=>td,CloudServicesRevisionHistoryAdapter:()=>Pd,CloudServicesTrackChangesAdapter:()=>dd,PresenceList:()=>yu,RealTimeCollaborationClient:()=>Gc,RealTimeCollaborativeComments:()=>md,RealTimeCollaborativeEditing:()=>Qc,RealTimeCollaborativeRevisionHistory:()=>Td,RealTimeCollaborativeTrackChanges:()=>Od});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{Decoder:()=>Ve,Encoder:()=>Re,PacketType:()=>xe,protocol:()=>De});var t=__webpack_require__(782),n=__webpack_require__(584),r=__webpack_require__(311),s=__webpack_require__(783);class o{constructor(...e){}}class i extends o{constructor(...e){super()}static fromJSON(e){throw new TypeError("Must be implemented in a child class!")}}i.TYPE="1000";const a=i;class c extends a{constructor(e){super(),this.id=e}toJSON(){return{id:this.id}}static fromJSON(e){return new c(e.id)}}c.TYPE="21",c.READABLE_TYPE_NAME="getUser",c.DESCRIPTOR_NAME="GetUserMessage",c.DESCRIPTOR={fields:{id:{type:"string",id:1}}};const d=c;class u extends a{constructor(e){super(),this.attributes=e}toJSON(){return{attributes:Object.keys(this.attributes).map((e=>({key:e,value:JSON.stringify(this.attributes[e])})))}}static fromJSON(e){const t=e.attributes.reduce(((e,t)=>(e[t.key]=t.value?JSON.parse(t.value):null,e)),{});return new u(t)}}u.DESCRIPTOR_NAME="GetUserResponse",u.DESCRIPTOR={fields:{attributes:{rule:"repeated",type:"KeyValueDescriptor",id:1}}};const l=u;var p=__webpack_require__(199);const h=(()=>{var e=p.Reader,t=p.Writer,n=p.util,r=p.roots.default||(p.roots.default={});return r.OperationMetadataDescriptor=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.userId="",s.prototype.type="",s.prototype.createdAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(10).string(e.userId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&n.uint32(18).string(e.type),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(26).string(e.createdAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.OperationMetadataDescriptor;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.userId=t.string();break;case 2:o.type=t.string();break;case 3:o.createdAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.userId&&e.hasOwnProperty("userId")&&!n.isString(e.userId)?"userId: string expected":null!=e.type&&e.hasOwnProperty("type")&&!n.isString(e.type)?"type: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null},s.fromObject=function(e){if(e instanceof r.OperationMetadataDescriptor)return e;var t=new r.OperationMetadataDescriptor;return null!=e.userId&&(t.userId=String(e.userId)),null!=e.type&&(t.type=String(e.type)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.userId="",n.type="",n.createdAt=""),null!=e.userId&&e.hasOwnProperty("userId")&&(n.userId=e.userId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/OperationMetadataDescriptor"},s}(),r.CollaborativeEditingConnectMessage=function(){function s(e){if(this.buffers=[],this.types=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.bundleVersion="",s.prototype.buffers=n.emptyArray,s.prototype.types=n.emptyArray,s.prototype.lastOperationId="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.bundleVersion&&Object.hasOwnProperty.call(e,"bundleVersion")&&n.uint32(18).string(e.bundleVersion),null!=e.buffers&&e.buffers.length)for(var r=0;r<e.buffers.length;++r)n.uint32(26).bytes(e.buffers[r]);if(null!=e.types&&e.types.length){for(n.uint32(34).fork(),r=0;r<e.types.length;++r)n.uint32(e.types[r]);n.ldelim()}return null!=e.lastOperationId&&Object.hasOwnProperty.call(e,"lastOperationId")&&n.uint32(42).string(e.lastOperationId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CollaborativeEditingConnectMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.bundleVersion=t.string();break;case 3:o.buffers&&o.buffers.length||(o.buffers=[]),o.buffers.push(t.bytes());break;case 4:if(o.types&&o.types.length||(o.types=[]),2==(7&i))for(var a=t.uint32()+t.pos;t.pos<a;)o.types.push(t.uint32());else o.types.push(t.uint32());break;case 5:o.lastOperationId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id))return"id: string expected";if(null!=e.bundleVersion&&e.hasOwnProperty("bundleVersion")&&!n.isString(e.bundleVersion))return"bundleVersion: string expected";if(null!=e.buffers&&e.hasOwnProperty("buffers")){if(!Array.isArray(e.buffers))return"buffers: array expected";for(var t=0;t<e.buffers.length;++t)if(!(e.buffers[t]&&"number"==typeof e.buffers[t].length||n.isString(e.buffers[t])))return"buffers: buffer[] expected"}if(null!=e.types&&e.hasOwnProperty("types")){if(!Array.isArray(e.types))return"types: array expected";for(t=0;t<e.types.length;++t)if(!n.isInteger(e.types[t]))return"types: integer[] expected"}return null!=e.lastOperationId&&e.hasOwnProperty("lastOperationId")&&!n.isString(e.lastOperationId)?"lastOperationId: string expected":null},s.fromObject=function(e){if(e instanceof r.CollaborativeEditingConnectMessage)return e;var t=new r.CollaborativeEditingConnectMessage;if(null!=e.id&&(t.id=String(e.id)),null!=e.bundleVersion&&(t.bundleVersion=String(e.bundleVersion)),e.buffers){if(!Array.isArray(e.buffers))throw TypeError(".CollaborativeEditingConnectMessage.buffers: array expected");t.buffers=[];for(var s=0;s<e.buffers.length;++s)"string"==typeof e.buffers[s]?n.base64.decode(e.buffers[s],t.buffers[s]=n.newBuffer(n.base64.length(e.buffers[s])),0):e.buffers[s].length>=0&&(t.buffers[s]=e.buffers[s])}if(e.types){if(!Array.isArray(e.types))throw TypeError(".CollaborativeEditingConnectMessage.types: array expected");for(t.types=[],s=0;s<e.types.length;++s)t.types[s]=e.types[s]>>>0}return null!=e.lastOperationId&&(t.lastOperationId=String(e.lastOperationId)),t},s.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.buffers=[],r.types=[]),t.defaults&&(r.id="",r.bundleVersion="",r.lastOperationId=""),null!=e.id&&e.hasOwnProperty("id")&&(r.id=e.id),null!=e.bundleVersion&&e.hasOwnProperty("bundleVersion")&&(r.bundleVersion=e.bundleVersion),e.buffers&&e.buffers.length){r.buffers=[];for(var s=0;s<e.buffers.length;++s)r.buffers[s]=t.bytes===String?n.base64.encode(e.buffers[s],0,e.buffers[s].length):t.bytes===Array?Array.prototype.slice.call(e.buffers[s]):e.buffers[s]}if(e.types&&e.types.length)for(r.types=[],s=0;s<e.types.length;++s)r.types[s]=e.types[s];return null!=e.lastOperationId&&e.hasOwnProperty("lastOperationId")&&(r.lastOperationId=e.lastOperationId),r},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CollaborativeEditingConnectMessage"},s}(),r.CollaborativeEditingReconnectMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.bundleVersion="",s.prototype.lastKnowVersion=0,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.bundleVersion&&Object.hasOwnProperty.call(e,"bundleVersion")&&n.uint32(18).string(e.bundleVersion),null!=e.lastKnowVersion&&Object.hasOwnProperty.call(e,"lastKnowVersion")&&n.uint32(24).uint32(e.lastKnowVersion),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CollaborativeEditingReconnectMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.bundleVersion=t.string();break;case 3:o.lastKnowVersion=t.uint32();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null!=e.bundleVersion&&e.hasOwnProperty("bundleVersion")&&!n.isString(e.bundleVersion)?"bundleVersion: string expected":null!=e.lastKnowVersion&&e.hasOwnProperty("lastKnowVersion")&&!n.isInteger(e.lastKnowVersion)?"lastKnowVersion: integer expected":null},s.fromObject=function(e){if(e instanceof r.CollaborativeEditingReconnectMessage)return e;var t=new r.CollaborativeEditingReconnectMessage;return null!=e.id&&(t.id=String(e.id)),null!=e.bundleVersion&&(t.bundleVersion=String(e.bundleVersion)),null!=e.lastKnowVersion&&(t.lastKnowVersion=e.lastKnowVersion>>>0),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.bundleVersion="",n.lastKnowVersion=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.bundleVersion&&e.hasOwnProperty("bundleVersion")&&(n.bundleVersion=e.bundleVersion),null!=e.lastKnowVersion&&e.hasOwnProperty("lastKnowVersion")&&(n.lastKnowVersion=e.lastKnowVersion),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CollaborativeEditingReconnectMessage"},s}(),r.CollaborativeEditingUpdateMessage=function(){function s(e){if(this.buffers=[],this.types=[],this.metadata=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.baseVersion=0,s.prototype.buffers=n.emptyArray,s.prototype.types=n.emptyArray,s.prototype.metadata=n.emptyArray,s.prototype.lastOperationId="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.baseVersion&&Object.hasOwnProperty.call(e,"baseVersion")&&n.uint32(16).uint32(e.baseVersion),null!=e.buffers&&e.buffers.length)for(var s=0;s<e.buffers.length;++s)n.uint32(26).bytes(e.buffers[s]);if(null!=e.types&&e.types.length){for(n.uint32(34).fork(),s=0;s<e.types.length;++s)n.uint32(e.types[s]);n.ldelim()}if(null!=e.metadata&&e.metadata.length)for(s=0;s<e.metadata.length;++s)r.OperationMetadataDescriptor.encode(e.metadata[s],n.uint32(50).fork()).ldelim();return null!=e.lastOperationId&&Object.hasOwnProperty.call(e,"lastOperationId")&&n.uint32(58).string(e.lastOperationId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CollaborativeEditingUpdateMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.baseVersion=t.uint32();break;case 3:o.buffers&&o.buffers.length||(o.buffers=[]),o.buffers.push(t.bytes());break;case 4:if(o.types&&o.types.length||(o.types=[]),2==(7&i))for(var a=t.uint32()+t.pos;t.pos<a;)o.types.push(t.uint32());else o.types.push(t.uint32());break;case 6:o.metadata&&o.metadata.length||(o.metadata=[]),o.metadata.push(r.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 7:o.lastOperationId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id))return"id: string expected";if(null!=e.baseVersion&&e.hasOwnProperty("baseVersion")&&!n.isInteger(e.baseVersion))return"baseVersion: integer expected";if(null!=e.buffers&&e.hasOwnProperty("buffers")){if(!Array.isArray(e.buffers))return"buffers: array expected";for(var t=0;t<e.buffers.length;++t)if(!(e.buffers[t]&&"number"==typeof e.buffers[t].length||n.isString(e.buffers[t])))return"buffers: buffer[] expected"}if(null!=e.types&&e.hasOwnProperty("types")){if(!Array.isArray(e.types))return"types: array expected";for(t=0;t<e.types.length;++t)if(!n.isInteger(e.types[t]))return"types: integer[] expected"}if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!Array.isArray(e.metadata))return"metadata: array expected";for(t=0;t<e.metadata.length;++t){var s=r.OperationMetadataDescriptor.verify(e.metadata[t]);if(s)return"metadata."+s}}return null!=e.lastOperationId&&e.hasOwnProperty("lastOperationId")&&!n.isString(e.lastOperationId)?"lastOperationId: string expected":null},s.fromObject=function(e){if(e instanceof r.CollaborativeEditingUpdateMessage)return e;var t=new r.CollaborativeEditingUpdateMessage;if(null!=e.id&&(t.id=String(e.id)),null!=e.baseVersion&&(t.baseVersion=e.baseVersion>>>0),e.buffers){if(!Array.isArray(e.buffers))throw TypeError(".CollaborativeEditingUpdateMessage.buffers: array expected");t.buffers=[];for(var s=0;s<e.buffers.length;++s)"string"==typeof e.buffers[s]?n.base64.decode(e.buffers[s],t.buffers[s]=n.newBuffer(n.base64.length(e.buffers[s])),0):e.buffers[s].length>=0&&(t.buffers[s]=e.buffers[s])}if(e.types){if(!Array.isArray(e.types))throw TypeError(".CollaborativeEditingUpdateMessage.types: array expected");for(t.types=[],s=0;s<e.types.length;++s)t.types[s]=e.types[s]>>>0}if(e.metadata){if(!Array.isArray(e.metadata))throw TypeError(".CollaborativeEditingUpdateMessage.metadata: array expected");for(t.metadata=[],s=0;s<e.metadata.length;++s){if("object"!=typeof e.metadata[s])throw TypeError(".CollaborativeEditingUpdateMessage.metadata: object expected");t.metadata[s]=r.OperationMetadataDescriptor.fromObject(e.metadata[s])}}return null!=e.lastOperationId&&(t.lastOperationId=String(e.lastOperationId)),t},s.toObject=function(e,t){t||(t={});var s={};if((t.arrays||t.defaults)&&(s.buffers=[],s.types=[],s.metadata=[]),t.defaults&&(s.id="",s.baseVersion=0,s.lastOperationId=""),null!=e.id&&e.hasOwnProperty("id")&&(s.id=e.id),null!=e.baseVersion&&e.hasOwnProperty("baseVersion")&&(s.baseVersion=e.baseVersion),e.buffers&&e.buffers.length){s.buffers=[];for(var o=0;o<e.buffers.length;++o)s.buffers[o]=t.bytes===String?n.base64.encode(e.buffers[o],0,e.buffers[o].length):t.bytes===Array?Array.prototype.slice.call(e.buffers[o]):e.buffers[o]}if(e.types&&e.types.length)for(s.types=[],o=0;o<e.types.length;++o)s.types[o]=e.types[o];if(e.metadata&&e.metadata.length)for(s.metadata=[],o=0;o<e.metadata.length;++o)s.metadata[o]=r.OperationMetadataDescriptor.toObject(e.metadata[o],t);return null!=e.lastOperationId&&e.hasOwnProperty("lastOperationId")&&(s.lastOperationId=e.lastOperationId),s},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CollaborativeEditingUpdateMessage"},s}(),r.GetDocumentDetailsMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.prototype.environmentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),null!=e.environmentId&&Object.hasOwnProperty.call(e,"environmentId")&&n.uint32(18).string(e.environmentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.GetDocumentDetailsMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.documentId=t.string();break;case 2:o.environmentId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.environmentId&&e.hasOwnProperty("environmentId")&&!n.isString(e.environmentId)?"environmentId: string expected":null},s.fromObject=function(e){if(e instanceof r.GetDocumentDetailsMessage)return e;var t=new r.GetDocumentDetailsMessage;return null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.environmentId&&(t.environmentId=String(e.environmentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.documentId="",n.environmentId=""),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.environmentId&&e.hasOwnProperty("environmentId")&&(n.environmentId=e.environmentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GetDocumentDetailsMessage"},s}(),r.CollaborativeEditingConnectResponse=function(){function s(e){if(this.buffers=[],this.types=[],this.metadata=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.channel="",s.prototype.offset=0,s.prototype.version=0,s.prototype.buffers=n.emptyArray,s.prototype.types=n.emptyArray,s.prototype.metadata=n.emptyArray,s.prototype.initData="",s.prototype.isInitialized=!1,s.prototype.sessionId="",s.prototype.lastOperationId="",s.prototype.sessionCreatedAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&n.uint32(10).string(e.channel),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&n.uint32(16).uint32(e.offset),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&n.uint32(24).uint32(e.version),null!=e.buffers&&e.buffers.length)for(var s=0;s<e.buffers.length;++s)n.uint32(34).bytes(e.buffers[s]);if(null!=e.types&&e.types.length){for(n.uint32(42).fork(),s=0;s<e.types.length;++s)n.uint32(e.types[s]);n.ldelim()}if(null!=e.metadata&&e.metadata.length)for(s=0;s<e.metadata.length;++s)r.OperationMetadataDescriptor.encode(e.metadata[s],n.uint32(58).fork()).ldelim();return null!=e.initData&&Object.hasOwnProperty.call(e,"initData")&&n.uint32(66).string(e.initData),null!=e.isInitialized&&Object.hasOwnProperty.call(e,"isInitialized")&&n.uint32(72).bool(e.isInitialized),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&n.uint32(82).string(e.sessionId),null!=e.lastOperationId&&Object.hasOwnProperty.call(e,"lastOperationId")&&n.uint32(90).string(e.lastOperationId),null!=e.sessionCreatedAt&&Object.hasOwnProperty.call(e,"sessionCreatedAt")&&n.uint32(98).string(e.sessionCreatedAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CollaborativeEditingConnectResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.channel=t.string();break;case 2:o.offset=t.uint32();break;case 3:o.version=t.uint32();break;case 4:o.buffers&&o.buffers.length||(o.buffers=[]),o.buffers.push(t.bytes());break;case 5:if(o.types&&o.types.length||(o.types=[]),2==(7&i))for(var a=t.uint32()+t.pos;t.pos<a;)o.types.push(t.uint32());else o.types.push(t.uint32());break;case 7:o.metadata&&o.metadata.length||(o.metadata=[]),o.metadata.push(r.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 8:o.initData=t.string();break;case 9:o.isInitialized=t.bool();break;case 10:o.sessionId=t.string();break;case 11:o.lastOperationId=t.string();break;case 12:o.sessionCreatedAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.channel&&e.hasOwnProperty("channel")&&!n.isString(e.channel))return"channel: string expected";if(null!=e.offset&&e.hasOwnProperty("offset")&&!n.isInteger(e.offset))return"offset: integer expected";if(null!=e.version&&e.hasOwnProperty("version")&&!n.isInteger(e.version))return"version: integer expected";if(null!=e.buffers&&e.hasOwnProperty("buffers")){if(!Array.isArray(e.buffers))return"buffers: array expected";for(var t=0;t<e.buffers.length;++t)if(!(e.buffers[t]&&"number"==typeof e.buffers[t].length||n.isString(e.buffers[t])))return"buffers: buffer[] expected"}if(null!=e.types&&e.hasOwnProperty("types")){if(!Array.isArray(e.types))return"types: array expected";for(t=0;t<e.types.length;++t)if(!n.isInteger(e.types[t]))return"types: integer[] expected"}if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!Array.isArray(e.metadata))return"metadata: array expected";for(t=0;t<e.metadata.length;++t){var s=r.OperationMetadataDescriptor.verify(e.metadata[t]);if(s)return"metadata."+s}}return null!=e.initData&&e.hasOwnProperty("initData")&&!n.isString(e.initData)?"initData: string expected":null!=e.isInitialized&&e.hasOwnProperty("isInitialized")&&"boolean"!=typeof e.isInitialized?"isInitialized: boolean expected":null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!n.isString(e.sessionId)?"sessionId: string expected":null!=e.lastOperationId&&e.hasOwnProperty("lastOperationId")&&!n.isString(e.lastOperationId)?"lastOperationId: string expected":null!=e.sessionCreatedAt&&e.hasOwnProperty("sessionCreatedAt")&&!n.isString(e.sessionCreatedAt)?"sessionCreatedAt: string expected":null},s.fromObject=function(e){if(e instanceof r.CollaborativeEditingConnectResponse)return e;var t=new r.CollaborativeEditingConnectResponse;if(null!=e.channel&&(t.channel=String(e.channel)),null!=e.offset&&(t.offset=e.offset>>>0),null!=e.version&&(t.version=e.version>>>0),e.buffers){if(!Array.isArray(e.buffers))throw TypeError(".CollaborativeEditingConnectResponse.buffers: array expected");t.buffers=[];for(var s=0;s<e.buffers.length;++s)"string"==typeof e.buffers[s]?n.base64.decode(e.buffers[s],t.buffers[s]=n.newBuffer(n.base64.length(e.buffers[s])),0):e.buffers[s].length>=0&&(t.buffers[s]=e.buffers[s])}if(e.types){if(!Array.isArray(e.types))throw TypeError(".CollaborativeEditingConnectResponse.types: array expected");for(t.types=[],s=0;s<e.types.length;++s)t.types[s]=e.types[s]>>>0}if(e.metadata){if(!Array.isArray(e.metadata))throw TypeError(".CollaborativeEditingConnectResponse.metadata: array expected");for(t.metadata=[],s=0;s<e.metadata.length;++s){if("object"!=typeof e.metadata[s])throw TypeError(".CollaborativeEditingConnectResponse.metadata: object expected");t.metadata[s]=r.OperationMetadataDescriptor.fromObject(e.metadata[s])}}return null!=e.initData&&(t.initData=String(e.initData)),null!=e.isInitialized&&(t.isInitialized=Boolean(e.isInitialized)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),null!=e.lastOperationId&&(t.lastOperationId=String(e.lastOperationId)),null!=e.sessionCreatedAt&&(t.sessionCreatedAt=String(e.sessionCreatedAt)),t},s.toObject=function(e,t){t||(t={});var s={};if((t.arrays||t.defaults)&&(s.buffers=[],s.types=[],s.metadata=[]),t.defaults&&(s.channel="",s.offset=0,s.version=0,s.initData="",s.isInitialized=!1,s.sessionId="",s.lastOperationId="",s.sessionCreatedAt=""),null!=e.channel&&e.hasOwnProperty("channel")&&(s.channel=e.channel),null!=e.offset&&e.hasOwnProperty("offset")&&(s.offset=e.offset),null!=e.version&&e.hasOwnProperty("version")&&(s.version=e.version),e.buffers&&e.buffers.length){s.buffers=[];for(var o=0;o<e.buffers.length;++o)s.buffers[o]=t.bytes===String?n.base64.encode(e.buffers[o],0,e.buffers[o].length):t.bytes===Array?Array.prototype.slice.call(e.buffers[o]):e.buffers[o]}if(e.types&&e.types.length)for(s.types=[],o=0;o<e.types.length;++o)s.types[o]=e.types[o];if(e.metadata&&e.metadata.length)for(s.metadata=[],o=0;o<e.metadata.length;++o)s.metadata[o]=r.OperationMetadataDescriptor.toObject(e.metadata[o],t);return null!=e.initData&&e.hasOwnProperty("initData")&&(s.initData=e.initData),null!=e.isInitialized&&e.hasOwnProperty("isInitialized")&&(s.isInitialized=e.isInitialized),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(s.sessionId=e.sessionId),null!=e.lastOperationId&&e.hasOwnProperty("lastOperationId")&&(s.lastOperationId=e.lastOperationId),null!=e.sessionCreatedAt&&e.hasOwnProperty("sessionCreatedAt")&&(s.sessionCreatedAt=e.sessionCreatedAt),s},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CollaborativeEditingConnectResponse"},s}(),r.CollaborativeEditingResponse=function(){function s(e){if(this.buffers=[],this.types=[],this.metadata=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.version=0,s.prototype.buffers=n.emptyArray,s.prototype.types=n.emptyArray,s.prototype.metadata=n.emptyArray,s.prototype.lastOperationId="",s.prototype.lastOperationAcceptedAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&n.uint32(8).uint32(e.version),null!=e.buffers&&e.buffers.length)for(var s=0;s<e.buffers.length;++s)n.uint32(18).bytes(e.buffers[s]);if(null!=e.types&&e.types.length){for(n.uint32(26).fork(),s=0;s<e.types.length;++s)n.uint32(e.types[s]);n.ldelim()}if(null!=e.metadata&&e.metadata.length)for(s=0;s<e.metadata.length;++s)r.OperationMetadataDescriptor.encode(e.metadata[s],n.uint32(42).fork()).ldelim();return null!=e.lastOperationId&&Object.hasOwnProperty.call(e,"lastOperationId")&&n.uint32(50).string(e.lastOperationId),null!=e.lastOperationAcceptedAt&&Object.hasOwnProperty.call(e,"lastOperationAcceptedAt")&&n.uint32(58).string(e.lastOperationAcceptedAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CollaborativeEditingResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.version=t.uint32();break;case 2:o.buffers&&o.buffers.length||(o.buffers=[]),o.buffers.push(t.bytes());break;case 3:if(o.types&&o.types.length||(o.types=[]),2==(7&i))for(var a=t.uint32()+t.pos;t.pos<a;)o.types.push(t.uint32());else o.types.push(t.uint32());break;case 5:o.metadata&&o.metadata.length||(o.metadata=[]),o.metadata.push(r.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 6:o.lastOperationId=t.string();break;case 7:o.lastOperationAcceptedAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!n.isInteger(e.version))return"version: integer expected";if(null!=e.buffers&&e.hasOwnProperty("buffers")){if(!Array.isArray(e.buffers))return"buffers: array expected";for(var t=0;t<e.buffers.length;++t)if(!(e.buffers[t]&&"number"==typeof e.buffers[t].length||n.isString(e.buffers[t])))return"buffers: buffer[] expected"}if(null!=e.types&&e.hasOwnProperty("types")){if(!Array.isArray(e.types))return"types: array expected";for(t=0;t<e.types.length;++t)if(!n.isInteger(e.types[t]))return"types: integer[] expected"}if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!Array.isArray(e.metadata))return"metadata: array expected";for(t=0;t<e.metadata.length;++t){var s=r.OperationMetadataDescriptor.verify(e.metadata[t]);if(s)return"metadata."+s}}return null!=e.lastOperationId&&e.hasOwnProperty("lastOperationId")&&!n.isString(e.lastOperationId)?"lastOperationId: string expected":null!=e.lastOperationAcceptedAt&&e.hasOwnProperty("lastOperationAcceptedAt")&&!n.isString(e.lastOperationAcceptedAt)?"lastOperationAcceptedAt: string expected":null},s.fromObject=function(e){if(e instanceof r.CollaborativeEditingResponse)return e;var t=new r.CollaborativeEditingResponse;if(null!=e.version&&(t.version=e.version>>>0),e.buffers){if(!Array.isArray(e.buffers))throw TypeError(".CollaborativeEditingResponse.buffers: array expected");t.buffers=[];for(var s=0;s<e.buffers.length;++s)"string"==typeof e.buffers[s]?n.base64.decode(e.buffers[s],t.buffers[s]=n.newBuffer(n.base64.length(e.buffers[s])),0):e.buffers[s].length>=0&&(t.buffers[s]=e.buffers[s])}if(e.types){if(!Array.isArray(e.types))throw TypeError(".CollaborativeEditingResponse.types: array expected");for(t.types=[],s=0;s<e.types.length;++s)t.types[s]=e.types[s]>>>0}if(e.metadata){if(!Array.isArray(e.metadata))throw TypeError(".CollaborativeEditingResponse.metadata: array expected");for(t.metadata=[],s=0;s<e.metadata.length;++s){if("object"!=typeof e.metadata[s])throw TypeError(".CollaborativeEditingResponse.metadata: object expected");t.metadata[s]=r.OperationMetadataDescriptor.fromObject(e.metadata[s])}}return null!=e.lastOperationId&&(t.lastOperationId=String(e.lastOperationId)),null!=e.lastOperationAcceptedAt&&(t.lastOperationAcceptedAt=String(e.lastOperationAcceptedAt)),t},s.toObject=function(e,t){t||(t={});var s={};if((t.arrays||t.defaults)&&(s.buffers=[],s.types=[],s.metadata=[]),t.defaults&&(s.version=0,s.lastOperationId="",s.lastOperationAcceptedAt=""),null!=e.version&&e.hasOwnProperty("version")&&(s.version=e.version),e.buffers&&e.buffers.length){s.buffers=[];for(var o=0;o<e.buffers.length;++o)s.buffers[o]=t.bytes===String?n.base64.encode(e.buffers[o],0,e.buffers[o].length):t.bytes===Array?Array.prototype.slice.call(e.buffers[o]):e.buffers[o]}if(e.types&&e.types.length)for(s.types=[],o=0;o<e.types.length;++o)s.types[o]=e.types[o];if(e.metadata&&e.metadata.length)for(s.metadata=[],o=0;o<e.metadata.length;++o)s.metadata[o]=r.OperationMetadataDescriptor.toObject(e.metadata[o],t);return null!=e.lastOperationId&&e.hasOwnProperty("lastOperationId")&&(s.lastOperationId=e.lastOperationId),null!=e.lastOperationAcceptedAt&&e.hasOwnProperty("lastOperationAcceptedAt")&&(s.lastOperationAcceptedAt=e.lastOperationAcceptedAt),s},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CollaborativeEditingResponse"},s}(),r.GetDocumentDetailsResponse=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.lastDocumentSessionId="",s.prototype.lastDocumentSessionOperationId="",s.prototype.currentDocumentSessionId="",s.prototype.currentDocumentSessionVersion=0,s.prototype.currentDocumentSessionOperationId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.lastDocumentSessionId&&Object.hasOwnProperty.call(e,"lastDocumentSessionId")&&n.uint32(10).string(e.lastDocumentSessionId),null!=e.lastDocumentSessionOperationId&&Object.hasOwnProperty.call(e,"lastDocumentSessionOperationId")&&n.uint32(18).string(e.lastDocumentSessionOperationId),null!=e.currentDocumentSessionId&&Object.hasOwnProperty.call(e,"currentDocumentSessionId")&&n.uint32(26).string(e.currentDocumentSessionId),null!=e.currentDocumentSessionVersion&&Object.hasOwnProperty.call(e,"currentDocumentSessionVersion")&&n.uint32(32).uint32(e.currentDocumentSessionVersion),null!=e.currentDocumentSessionOperationId&&Object.hasOwnProperty.call(e,"currentDocumentSessionOperationId")&&n.uint32(42).string(e.currentDocumentSessionOperationId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.GetDocumentDetailsResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.lastDocumentSessionId=t.string();break;case 2:o.lastDocumentSessionOperationId=t.string();break;case 3:o.currentDocumentSessionId=t.string();break;case 4:o.currentDocumentSessionVersion=t.uint32();break;case 5:o.currentDocumentSessionOperationId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.lastDocumentSessionId&&e.hasOwnProperty("lastDocumentSessionId")&&!n.isString(e.lastDocumentSessionId)?"lastDocumentSessionId: string expected":null!=e.lastDocumentSessionOperationId&&e.hasOwnProperty("lastDocumentSessionOperationId")&&!n.isString(e.lastDocumentSessionOperationId)?"lastDocumentSessionOperationId: string expected":null!=e.currentDocumentSessionId&&e.hasOwnProperty("currentDocumentSessionId")&&!n.isString(e.currentDocumentSessionId)?"currentDocumentSessionId: string expected":null!=e.currentDocumentSessionVersion&&e.hasOwnProperty("currentDocumentSessionVersion")&&!n.isInteger(e.currentDocumentSessionVersion)?"currentDocumentSessionVersion: integer expected":null!=e.currentDocumentSessionOperationId&&e.hasOwnProperty("currentDocumentSessionOperationId")&&!n.isString(e.currentDocumentSessionOperationId)?"currentDocumentSessionOperationId: string expected":null},s.fromObject=function(e){if(e instanceof r.GetDocumentDetailsResponse)return e;var t=new r.GetDocumentDetailsResponse;return null!=e.lastDocumentSessionId&&(t.lastDocumentSessionId=String(e.lastDocumentSessionId)),null!=e.lastDocumentSessionOperationId&&(t.lastDocumentSessionOperationId=String(e.lastDocumentSessionOperationId)),null!=e.currentDocumentSessionId&&(t.currentDocumentSessionId=String(e.currentDocumentSessionId)),null!=e.currentDocumentSessionVersion&&(t.currentDocumentSessionVersion=e.currentDocumentSessionVersion>>>0),null!=e.currentDocumentSessionOperationId&&(t.currentDocumentSessionOperationId=String(e.currentDocumentSessionOperationId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.lastDocumentSessionId="",n.lastDocumentSessionOperationId="",n.currentDocumentSessionId="",n.currentDocumentSessionVersion=0,n.currentDocumentSessionOperationId=""),null!=e.lastDocumentSessionId&&e.hasOwnProperty("lastDocumentSessionId")&&(n.lastDocumentSessionId=e.lastDocumentSessionId),null!=e.lastDocumentSessionOperationId&&e.hasOwnProperty("lastDocumentSessionOperationId")&&(n.lastDocumentSessionOperationId=e.lastDocumentSessionOperationId),null!=e.currentDocumentSessionId&&e.hasOwnProperty("currentDocumentSessionId")&&(n.currentDocumentSessionId=e.currentDocumentSessionId),null!=e.currentDocumentSessionVersion&&e.hasOwnProperty("currentDocumentSessionVersion")&&(n.currentDocumentSessionVersion=e.currentDocumentSessionVersion),null!=e.currentDocumentSessionOperationId&&e.hasOwnProperty("currentDocumentSessionOperationId")&&(n.currentDocumentSessionOperationId=e.currentDocumentSessionOperationId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GetDocumentDetailsResponse"},s}(),r.CommentDescriptor=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentId="",s.prototype.commentThreadId="",s.prototype.userId="",s.prototype.content="",s.prototype.documentId="",s.prototype.createdAt="",s.prototype.attributes="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentId&&Object.hasOwnProperty.call(e,"commentId")&&n.uint32(10).string(e.commentId),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(18).string(e.commentThreadId),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(26).string(e.userId),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&n.uint32(34).string(e.content),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(42).string(e.documentId),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(50).string(e.createdAt),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(58).string(e.attributes),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentDescriptor;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentId=t.string();break;case 2:o.commentThreadId=t.string();break;case 3:o.userId=t.string();break;case 4:o.content=t.string();break;case 5:o.documentId=t.string();break;case 6:o.createdAt=t.string();break;case 7:o.attributes=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentId&&e.hasOwnProperty("commentId")&&!n.isString(e.commentId)?"commentId: string expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.userId&&e.hasOwnProperty("userId")&&!n.isString(e.userId)?"userId: string expected":null!=e.content&&e.hasOwnProperty("content")&&!n.isString(e.content)?"content: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentDescriptor)return e;var t=new r.CommentDescriptor;return null!=e.commentId&&(t.commentId=String(e.commentId)),null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.userId&&(t.userId=String(e.userId)),null!=e.content&&(t.content=String(e.content)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.attributes&&(t.attributes=String(e.attributes)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentId="",n.commentThreadId="",n.userId="",n.content="",n.documentId="",n.createdAt="",n.attributes=""),null!=e.commentId&&e.hasOwnProperty("commentId")&&(n.commentId=e.commentId),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.userId&&e.hasOwnProperty("userId")&&(n.userId=e.userId),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentDescriptor"},s}(),r.CommentsThreadDescriptor=function(){function s(e){if(this.comments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.comments=n.emptyArray,s.prototype.resolvedAt="",s.prototype.resolvedBy="",s.prototype.context="",s.prototype.createdAt="",s.prototype.deletedAt="",s.prototype.attributes="",s.prototype.unlinkedAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.comments&&e.comments.length)for(var s=0;s<e.comments.length;++s)r.CommentDescriptor.encode(e.comments[s],n.uint32(18).fork()).ldelim();return null!=e.resolvedAt&&Object.hasOwnProperty.call(e,"resolvedAt")&&n.uint32(26).string(e.resolvedAt),null!=e.resolvedBy&&Object.hasOwnProperty.call(e,"resolvedBy")&&n.uint32(34).string(e.resolvedBy),null!=e.context&&Object.hasOwnProperty.call(e,"context")&&n.uint32(42).string(e.context),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(50).string(e.createdAt),null!=e.deletedAt&&Object.hasOwnProperty.call(e,"deletedAt")&&n.uint32(58).string(e.deletedAt),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(66).string(e.attributes),null!=e.unlinkedAt&&Object.hasOwnProperty.call(e,"unlinkedAt")&&n.uint32(74).string(e.unlinkedAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsThreadDescriptor;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.comments&&o.comments.length||(o.comments=[]),o.comments.push(r.CommentDescriptor.decode(t,t.uint32()));break;case 3:o.resolvedAt=t.string();break;case 4:o.resolvedBy=t.string();break;case 5:o.context=t.string();break;case 6:o.createdAt=t.string();break;case 7:o.deletedAt=t.string();break;case 8:o.attributes=t.string();break;case 9:o.unlinkedAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId))return"commentThreadId: string expected";if(null!=e.comments&&e.hasOwnProperty("comments")){if(!Array.isArray(e.comments))return"comments: array expected";for(var t=0;t<e.comments.length;++t){var s=r.CommentDescriptor.verify(e.comments[t]);if(s)return"comments."+s}}return null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&!n.isString(e.resolvedAt)?"resolvedAt: string expected":null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&!n.isString(e.resolvedBy)?"resolvedBy: string expected":null!=e.context&&e.hasOwnProperty("context")&&!n.isString(e.context)?"context: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null!=e.deletedAt&&e.hasOwnProperty("deletedAt")&&!n.isString(e.deletedAt)?"deletedAt: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null!=e.unlinkedAt&&e.hasOwnProperty("unlinkedAt")&&!n.isString(e.unlinkedAt)?"unlinkedAt: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsThreadDescriptor)return e;var t=new r.CommentsThreadDescriptor;if(null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),e.comments){if(!Array.isArray(e.comments))throw TypeError(".CommentsThreadDescriptor.comments: array expected");t.comments=[];for(var n=0;n<e.comments.length;++n){if("object"!=typeof e.comments[n])throw TypeError(".CommentsThreadDescriptor.comments: object expected");t.comments[n]=r.CommentDescriptor.fromObject(e.comments[n])}}return null!=e.resolvedAt&&(t.resolvedAt=String(e.resolvedAt)),null!=e.resolvedBy&&(t.resolvedBy=String(e.resolvedBy)),null!=e.context&&(t.context=String(e.context)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.deletedAt&&(t.deletedAt=String(e.deletedAt)),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.unlinkedAt&&(t.unlinkedAt=String(e.unlinkedAt)),t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.comments=[]),t.defaults&&(n.commentThreadId="",n.resolvedAt="",n.resolvedBy="",n.context="",n.createdAt="",n.deletedAt="",n.attributes="",n.unlinkedAt=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),e.comments&&e.comments.length){n.comments=[];for(var s=0;s<e.comments.length;++s)n.comments[s]=r.CommentDescriptor.toObject(e.comments[s],t)}return null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&(n.resolvedAt=e.resolvedAt),null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&(n.resolvedBy=e.resolvedBy),null!=e.context&&e.hasOwnProperty("context")&&(n.context=e.context),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.deletedAt&&e.hasOwnProperty("deletedAt")&&(n.deletedAt=e.deletedAt),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),null!=e.unlinkedAt&&e.hasOwnProperty("unlinkedAt")&&(n.unlinkedAt=e.unlinkedAt),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsThreadDescriptor"},s}(),r.CommentThreadAddedCommentDescriptor=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentId="",s.prototype.createdAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentId&&Object.hasOwnProperty.call(e,"commentId")&&n.uint32(10).string(e.commentId),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(18).string(e.createdAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentThreadAddedCommentDescriptor;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentId=t.string();break;case 2:o.createdAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentId&&e.hasOwnProperty("commentId")&&!n.isString(e.commentId)?"commentId: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentThreadAddedCommentDescriptor)return e;var t=new r.CommentThreadAddedCommentDescriptor;return null!=e.commentId&&(t.commentId=String(e.commentId)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentId="",n.createdAt=""),null!=e.commentId&&e.hasOwnProperty("commentId")&&(n.commentId=e.commentId),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentThreadAddedCommentDescriptor"},s}(),r.CommentsV2AddCommentMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.content="",s.prototype.documentId="",s.prototype.commentId="",s.prototype.createdAt="",s.prototype.userId="",s.prototype.attributes="",s.prototype.commentThread=null,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&n.uint32(18).string(e.content),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(26).string(e.documentId),null!=e.commentId&&Object.hasOwnProperty.call(e,"commentId")&&n.uint32(34).string(e.commentId),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(42).string(e.createdAt),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(50).string(e.userId),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(58).string(e.attributes),null!=e.commentThread&&Object.hasOwnProperty.call(e,"commentThread")&&r.CommentsThreadDescriptor.encode(e.commentThread,n.uint32(66).fork()).ldelim(),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2AddCommentMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.content=t.string();break;case 3:o.documentId=t.string();break;case 4:o.commentId=t.string();break;case 5:o.createdAt=t.string();break;case 6:o.userId=t.string();break;case 7:o.attributes=t.string();break;case 8:o.commentThread=r.CommentsThreadDescriptor.decode(t,t.uint32());break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId))return"commentThreadId: string expected";if(null!=e.content&&e.hasOwnProperty("content")&&!n.isString(e.content))return"content: string expected";if(null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId))return"documentId: string expected";if(null!=e.commentId&&e.hasOwnProperty("commentId")&&!n.isString(e.commentId))return"commentId: string expected";if(null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt))return"createdAt: string expected";if(null!=e.userId&&e.hasOwnProperty("userId")&&!n.isString(e.userId))return"userId: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes))return"attributes: string expected";if(null!=e.commentThread&&e.hasOwnProperty("commentThread")){var t=r.CommentsThreadDescriptor.verify(e.commentThread);if(t)return"commentThread."+t}return null},s.fromObject=function(e){if(e instanceof r.CommentsV2AddCommentMessage)return e;var t=new r.CommentsV2AddCommentMessage;if(null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.content&&(t.content=String(e.content)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.commentId&&(t.commentId=String(e.commentId)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.userId&&(t.userId=String(e.userId)),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.commentThread){if("object"!=typeof e.commentThread)throw TypeError(".CommentsV2AddCommentMessage.commentThread: object expected");t.commentThread=r.CommentsThreadDescriptor.fromObject(e.commentThread)}return t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.content="",n.documentId="",n.commentId="",n.createdAt="",n.userId="",n.attributes="",n.commentThread=null),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.commentId&&e.hasOwnProperty("commentId")&&(n.commentId=e.commentId),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.userId&&e.hasOwnProperty("userId")&&(n.userId=e.userId),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),null!=e.commentThread&&e.hasOwnProperty("commentThread")&&(n.commentThread=r.CommentsThreadDescriptor.toObject(e.commentThread,t)),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2AddCommentMessage"},s}(),r.CommentsV2AddCommentThreadMessage=function(){function s(e){if(this.comments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.prototype.commentThreadId="",s.prototype.context="",s.prototype.createdAt="",s.prototype.resolvedAt="",s.prototype.resolvedBy="",s.prototype.attributes="",s.prototype.deletedAt="",s.prototype.comments=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(18).string(e.commentThreadId),null!=e.context&&Object.hasOwnProperty.call(e,"context")&&n.uint32(26).string(e.context),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(34).string(e.createdAt),null!=e.resolvedAt&&Object.hasOwnProperty.call(e,"resolvedAt")&&n.uint32(42).string(e.resolvedAt),null!=e.resolvedBy&&Object.hasOwnProperty.call(e,"resolvedBy")&&n.uint32(50).string(e.resolvedBy),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(58).string(e.attributes),null!=e.deletedAt&&Object.hasOwnProperty.call(e,"deletedAt")&&n.uint32(66).string(e.deletedAt),null!=e.comments&&e.comments.length)for(var s=0;s<e.comments.length;++s)r.CommentDescriptor.encode(e.comments[s],n.uint32(74).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2AddCommentThreadMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.documentId=t.string();break;case 2:o.commentThreadId=t.string();break;case 3:o.context=t.string();break;case 4:o.createdAt=t.string();break;case 5:o.resolvedAt=t.string();break;case 6:o.resolvedBy=t.string();break;case 7:o.attributes=t.string();break;case 8:o.deletedAt=t.string();break;case 9:o.comments&&o.comments.length||(o.comments=[]),o.comments.push(r.CommentDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId))return"documentId: string expected";if(null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId))return"commentThreadId: string expected";if(null!=e.context&&e.hasOwnProperty("context")&&!n.isString(e.context))return"context: string expected";if(null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt))return"createdAt: string expected";if(null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&!n.isString(e.resolvedAt))return"resolvedAt: string expected";if(null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&!n.isString(e.resolvedBy))return"resolvedBy: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes))return"attributes: string expected";if(null!=e.deletedAt&&e.hasOwnProperty("deletedAt")&&!n.isString(e.deletedAt))return"deletedAt: string expected";if(null!=e.comments&&e.hasOwnProperty("comments")){if(!Array.isArray(e.comments))return"comments: array expected";for(var t=0;t<e.comments.length;++t){var s=r.CommentDescriptor.verify(e.comments[t]);if(s)return"comments."+s}}return null},s.fromObject=function(e){if(e instanceof r.CommentsV2AddCommentThreadMessage)return e;var t=new r.CommentsV2AddCommentThreadMessage;if(null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.context&&(t.context=String(e.context)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.resolvedAt&&(t.resolvedAt=String(e.resolvedAt)),null!=e.resolvedBy&&(t.resolvedBy=String(e.resolvedBy)),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.deletedAt&&(t.deletedAt=String(e.deletedAt)),e.comments){if(!Array.isArray(e.comments))throw TypeError(".CommentsV2AddCommentThreadMessage.comments: array expected");t.comments=[];for(var n=0;n<e.comments.length;++n){if("object"!=typeof e.comments[n])throw TypeError(".CommentsV2AddCommentThreadMessage.comments: object expected");t.comments[n]=r.CommentDescriptor.fromObject(e.comments[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.comments=[]),t.defaults&&(n.documentId="",n.commentThreadId="",n.context="",n.createdAt="",n.resolvedAt="",n.resolvedBy="",n.attributes="",n.deletedAt=""),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.context&&e.hasOwnProperty("context")&&(n.context=e.context),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&(n.resolvedAt=e.resolvedAt),null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&(n.resolvedBy=e.resolvedBy),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),null!=e.deletedAt&&e.hasOwnProperty("deletedAt")&&(n.deletedAt=e.deletedAt),e.comments&&e.comments.length){n.comments=[];for(var s=0;s<e.comments.length;++s)n.comments[s]=r.CommentDescriptor.toObject(e.comments[s],t)}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2AddCommentThreadMessage"},s}(),r.CommentsV2ReopenCommentThreadMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2ReopenCommentThreadMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.documentId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2ReopenCommentThreadMessage)return e;var t=new r.CommentsV2ReopenCommentThreadMessage;return null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.documentId=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2ReopenCommentThreadMessage"},s}(),r.CommentsV2ResolveCommentThreadMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.documentId="",s.prototype.resolvedBy="",s.prototype.resolvedAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),null!=e.resolvedBy&&Object.hasOwnProperty.call(e,"resolvedBy")&&n.uint32(26).string(e.resolvedBy),null!=e.resolvedAt&&Object.hasOwnProperty.call(e,"resolvedAt")&&n.uint32(34).string(e.resolvedAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2ResolveCommentThreadMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.documentId=t.string();break;case 3:o.resolvedBy=t.string();break;case 4:o.resolvedAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&!n.isString(e.resolvedBy)?"resolvedBy: string expected":null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&!n.isString(e.resolvedAt)?"resolvedAt: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2ResolveCommentThreadMessage)return e;var t=new r.CommentsV2ResolveCommentThreadMessage;return null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.resolvedBy&&(t.resolvedBy=String(e.resolvedBy)),null!=e.resolvedAt&&(t.resolvedAt=String(e.resolvedAt)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.documentId="",n.resolvedBy="",n.resolvedAt=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&(n.resolvedBy=e.resolvedBy),null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&(n.resolvedAt=e.resolvedAt),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2ResolveCommentThreadMessage"},s}(),r.CommentsV2UpdateCommentThreadMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.documentId="",s.prototype.context="",s.prototype.attributes="",s.prototype.unlinkedAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),null!=e.context&&Object.hasOwnProperty.call(e,"context")&&n.uint32(26).string(e.context),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(34).string(e.attributes),null!=e.unlinkedAt&&Object.hasOwnProperty.call(e,"unlinkedAt")&&n.uint32(42).string(e.unlinkedAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2UpdateCommentThreadMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.documentId=t.string();break;case 3:o.context=t.string();break;case 4:o.attributes=t.string();break;case 5:o.unlinkedAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.context&&e.hasOwnProperty("context")&&!n.isString(e.context)?"context: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null!=e.unlinkedAt&&e.hasOwnProperty("unlinkedAt")&&!n.isString(e.unlinkedAt)?"unlinkedAt: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2UpdateCommentThreadMessage)return e;var t=new r.CommentsV2UpdateCommentThreadMessage;return null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.context&&(t.context=String(e.context)),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.unlinkedAt&&(t.unlinkedAt=String(e.unlinkedAt)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.documentId="",n.context="",n.attributes="",n.unlinkedAt=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.context&&e.hasOwnProperty("context")&&(n.context=e.context),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),null!=e.unlinkedAt&&e.hasOwnProperty("unlinkedAt")&&(n.unlinkedAt=e.unlinkedAt),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2UpdateCommentThreadMessage"},s}(),r.CommentsV2ConnectMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2ConnectMessage;t.pos<s;){var i=t.uint32();i>>>3==1?o.documentId=t.string():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2ConnectMessage)return e;var t=new r.CommentsV2ConnectMessage;return null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.documentId=""),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2ConnectMessage"},s}(),r.CommentsV2GetCommentThreadMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2GetCommentThreadMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.documentId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2GetCommentThreadMessage)return e;var t=new r.CommentsV2GetCommentThreadMessage;return null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.documentId=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2GetCommentThreadMessage"},s}(),r.CommentsV2GetDocumentThreadsMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2GetDocumentThreadsMessage;t.pos<s;){var i=t.uint32();i>>>3==1?o.documentId=t.string():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2GetDocumentThreadsMessage)return e;var t=new r.CommentsV2GetDocumentThreadsMessage;return null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.documentId=""),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2GetDocumentThreadsMessage"},s}(),r.CommentsV2RemoveCommentMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.commentId="",s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.commentId&&Object.hasOwnProperty.call(e,"commentId")&&n.uint32(18).string(e.commentId),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(26).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2RemoveCommentMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.commentId=t.string();break;case 3:o.documentId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.commentId&&e.hasOwnProperty("commentId")&&!n.isString(e.commentId)?"commentId: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2RemoveCommentMessage)return e;var t=new r.CommentsV2RemoveCommentMessage;return null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.commentId&&(t.commentId=String(e.commentId)),null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.commentId="",n.documentId=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.commentId&&e.hasOwnProperty("commentId")&&(n.commentId=e.commentId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2RemoveCommentMessage"},s}(),r.CommentsV2RemoveCommentThreadMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2RemoveCommentThreadMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.documentId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2RemoveCommentThreadMessage)return e;var t=new r.CommentsV2RemoveCommentThreadMessage;return null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.documentId=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2RemoveCommentThreadMessage"},s}(),r.CommentsV2UpdateCommentMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.commentId="",s.prototype.content="",s.prototype.documentId="",s.prototype.attributes="",s.prototype.isAttributesUpdated=!1,s.prototype.commentThread=null,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.commentId&&Object.hasOwnProperty.call(e,"commentId")&&n.uint32(18).string(e.commentId),null!=e.content&&Object.hasOwnProperty.call(e,"content")&&n.uint32(26).string(e.content),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(34).string(e.documentId),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(42).string(e.attributes),null!=e.isAttributesUpdated&&Object.hasOwnProperty.call(e,"isAttributesUpdated")&&n.uint32(48).bool(e.isAttributesUpdated),null!=e.commentThread&&Object.hasOwnProperty.call(e,"commentThread")&&r.CommentsThreadDescriptor.encode(e.commentThread,n.uint32(58).fork()).ldelim(),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2UpdateCommentMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.commentId=t.string();break;case 3:o.content=t.string();break;case 4:o.documentId=t.string();break;case 5:o.attributes=t.string();break;case 6:o.isAttributesUpdated=t.bool();break;case 7:o.commentThread=r.CommentsThreadDescriptor.decode(t,t.uint32());break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId))return"commentThreadId: string expected";if(null!=e.commentId&&e.hasOwnProperty("commentId")&&!n.isString(e.commentId))return"commentId: string expected";if(null!=e.content&&e.hasOwnProperty("content")&&!n.isString(e.content))return"content: string expected";if(null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId))return"documentId: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes))return"attributes: string expected";if(null!=e.isAttributesUpdated&&e.hasOwnProperty("isAttributesUpdated")&&"boolean"!=typeof e.isAttributesUpdated)return"isAttributesUpdated: boolean expected";if(null!=e.commentThread&&e.hasOwnProperty("commentThread")){var t=r.CommentsThreadDescriptor.verify(e.commentThread);if(t)return"commentThread."+t}return null},s.fromObject=function(e){if(e instanceof r.CommentsV2UpdateCommentMessage)return e;var t=new r.CommentsV2UpdateCommentMessage;if(null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.commentId&&(t.commentId=String(e.commentId)),null!=e.content&&(t.content=String(e.content)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.isAttributesUpdated&&(t.isAttributesUpdated=Boolean(e.isAttributesUpdated)),null!=e.commentThread){if("object"!=typeof e.commentThread)throw TypeError(".CommentsV2UpdateCommentMessage.commentThread: object expected");t.commentThread=r.CommentsThreadDescriptor.fromObject(e.commentThread)}return t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.commentId="",n.content="",n.documentId="",n.attributes="",n.isAttributesUpdated=!1,n.commentThread=null),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.commentId&&e.hasOwnProperty("commentId")&&(n.commentId=e.commentId),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),null!=e.isAttributesUpdated&&e.hasOwnProperty("isAttributesUpdated")&&(n.isAttributesUpdated=e.isAttributesUpdated),null!=e.commentThread&&e.hasOwnProperty("commentThread")&&(n.commentThread=r.CommentsThreadDescriptor.toObject(e.commentThread,t)),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2UpdateCommentMessage"},s}(),r.CommentsV2AddCommentResponse=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.commentId="",s.prototype.createdAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.commentId&&Object.hasOwnProperty.call(e,"commentId")&&n.uint32(18).string(e.commentId),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(26).string(e.createdAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2AddCommentResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.commentId=t.string();break;case 3:o.createdAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.commentId&&e.hasOwnProperty("commentId")&&!n.isString(e.commentId)?"commentId: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2AddCommentResponse)return e;var t=new r.CommentsV2AddCommentResponse;return null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.commentId&&(t.commentId=String(e.commentId)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.commentId="",n.createdAt=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.commentId&&e.hasOwnProperty("commentId")&&(n.commentId=e.commentId),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2AddCommentResponse"},s}(),r.CommentsV2AddCommentThreadResponse=function(){function s(e){if(this.comments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.createdAt="",s.prototype.comments=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(18).string(e.createdAt),null!=e.comments&&e.comments.length)for(var s=0;s<e.comments.length;++s)r.CommentThreadAddedCommentDescriptor.encode(e.comments[s],n.uint32(26).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2AddCommentThreadResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.createdAt=t.string();break;case 3:o.comments&&o.comments.length||(o.comments=[]),o.comments.push(r.CommentThreadAddedCommentDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId))return"commentThreadId: string expected";if(null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt))return"createdAt: string expected";if(null!=e.comments&&e.hasOwnProperty("comments")){if(!Array.isArray(e.comments))return"comments: array expected";for(var t=0;t<e.comments.length;++t){var s=r.CommentThreadAddedCommentDescriptor.verify(e.comments[t]);if(s)return"comments."+s}}return null},s.fromObject=function(e){if(e instanceof r.CommentsV2AddCommentThreadResponse)return e;var t=new r.CommentsV2AddCommentThreadResponse;if(null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),e.comments){if(!Array.isArray(e.comments))throw TypeError(".CommentsV2AddCommentThreadResponse.comments: array expected");t.comments=[];for(var n=0;n<e.comments.length;++n){if("object"!=typeof e.comments[n])throw TypeError(".CommentsV2AddCommentThreadResponse.comments: object expected");t.comments[n]=r.CommentThreadAddedCommentDescriptor.fromObject(e.comments[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.comments=[]),t.defaults&&(n.commentThreadId="",n.createdAt=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),e.comments&&e.comments.length){n.comments=[];for(var s=0;s<e.comments.length;++s)n.comments[s]=r.CommentThreadAddedCommentDescriptor.toObject(e.comments[s],t)}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2AddCommentThreadResponse"},s}(),r.CommentsV2ResolveCommentThreadResponse=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.documentId="",s.prototype.resolvedAt="",s.prototype.resolvedBy="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),null!=e.resolvedAt&&Object.hasOwnProperty.call(e,"resolvedAt")&&n.uint32(26).string(e.resolvedAt),null!=e.resolvedBy&&Object.hasOwnProperty.call(e,"resolvedBy")&&n.uint32(34).string(e.resolvedBy),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2ResolveCommentThreadResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.documentId=t.string();break;case 3:o.resolvedAt=t.string();break;case 4:o.resolvedBy=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId)?"commentThreadId: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&!n.isString(e.resolvedAt)?"resolvedAt: string expected":null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&!n.isString(e.resolvedBy)?"resolvedBy: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2ResolveCommentThreadResponse)return e;var t=new r.CommentsV2ResolveCommentThreadResponse;return null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.resolvedAt&&(t.resolvedAt=String(e.resolvedAt)),null!=e.resolvedBy&&(t.resolvedBy=String(e.resolvedBy)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.commentThreadId="",n.documentId="",n.resolvedAt="",n.resolvedBy=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&(n.resolvedAt=e.resolvedAt),null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&(n.resolvedBy=e.resolvedBy),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2ResolveCommentThreadResponse"},s}(),r.CommentsV2ConnectResponse=function(){function s(e){if(this.threads=[],this.threadsV2=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.channel="",s.prototype.threads=n.emptyArray,s.prototype.threadsV2=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&n.uint32(10).string(e.channel),null!=e.threads&&e.threads.length)for(var s=0;s<e.threads.length;++s)n.uint32(18).string(e.threads[s]);if(null!=e.threadsV2&&e.threadsV2.length)for(s=0;s<e.threadsV2.length;++s)r.CommentsThreadDescriptor.encode(e.threadsV2[s],n.uint32(26).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2ConnectResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.channel=t.string();break;case 2:o.threads&&o.threads.length||(o.threads=[]),o.threads.push(t.string());break;case 3:o.threadsV2&&o.threadsV2.length||(o.threadsV2=[]),o.threadsV2.push(r.CommentsThreadDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.channel&&e.hasOwnProperty("channel")&&!n.isString(e.channel))return"channel: string expected";if(null!=e.threads&&e.hasOwnProperty("threads")){if(!Array.isArray(e.threads))return"threads: array expected";for(var t=0;t<e.threads.length;++t)if(!n.isString(e.threads[t]))return"threads: string[] expected"}if(null!=e.threadsV2&&e.hasOwnProperty("threadsV2")){if(!Array.isArray(e.threadsV2))return"threadsV2: array expected";for(t=0;t<e.threadsV2.length;++t){var s=r.CommentsThreadDescriptor.verify(e.threadsV2[t]);if(s)return"threadsV2."+s}}return null},s.fromObject=function(e){if(e instanceof r.CommentsV2ConnectResponse)return e;var t=new r.CommentsV2ConnectResponse;if(null!=e.channel&&(t.channel=String(e.channel)),e.threads){if(!Array.isArray(e.threads))throw TypeError(".CommentsV2ConnectResponse.threads: array expected");t.threads=[];for(var n=0;n<e.threads.length;++n)t.threads[n]=String(e.threads[n])}if(e.threadsV2){if(!Array.isArray(e.threadsV2))throw TypeError(".CommentsV2ConnectResponse.threadsV2: array expected");for(t.threadsV2=[],n=0;n<e.threadsV2.length;++n){if("object"!=typeof e.threadsV2[n])throw TypeError(".CommentsV2ConnectResponse.threadsV2: object expected");t.threadsV2[n]=r.CommentsThreadDescriptor.fromObject(e.threadsV2[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.threads=[],n.threadsV2=[]),t.defaults&&(n.channel=""),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=e.channel),e.threads&&e.threads.length){n.threads=[];for(var s=0;s<e.threads.length;++s)n.threads[s]=e.threads[s]}if(e.threadsV2&&e.threadsV2.length)for(n.threadsV2=[],s=0;s<e.threadsV2.length;++s)n.threadsV2[s]=r.CommentsThreadDescriptor.toObject(e.threadsV2[s],t);return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2ConnectResponse"},s}(),r.CommentsV2GetCommentThreadResponse=function(){function s(e){if(this.comments=[],this.commentsV2=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.commentThreadId="",s.prototype.comments=n.emptyArray,s.prototype.commentsV2=n.emptyArray,s.prototype.resolvedAt="",s.prototype.resolvedBy="",s.prototype.context="",s.prototype.createdAt="",s.prototype.deletedAt="",s.prototype.attributes="",s.prototype.unlinkedAt="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.commentThreadId&&Object.hasOwnProperty.call(e,"commentThreadId")&&n.uint32(10).string(e.commentThreadId),null!=e.comments&&e.comments.length)for(var s=0;s<e.comments.length;++s)n.uint32(18).string(e.comments[s]);if(null!=e.commentsV2&&e.commentsV2.length)for(s=0;s<e.commentsV2.length;++s)r.CommentDescriptor.encode(e.commentsV2[s],n.uint32(26).fork()).ldelim();return null!=e.resolvedAt&&Object.hasOwnProperty.call(e,"resolvedAt")&&n.uint32(34).string(e.resolvedAt),null!=e.resolvedBy&&Object.hasOwnProperty.call(e,"resolvedBy")&&n.uint32(42).string(e.resolvedBy),null!=e.context&&Object.hasOwnProperty.call(e,"context")&&n.uint32(50).string(e.context),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(58).string(e.createdAt),null!=e.deletedAt&&Object.hasOwnProperty.call(e,"deletedAt")&&n.uint32(66).string(e.deletedAt),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(74).string(e.attributes),null!=e.unlinkedAt&&Object.hasOwnProperty.call(e,"unlinkedAt")&&n.uint32(82).string(e.unlinkedAt),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2GetCommentThreadResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.commentThreadId=t.string();break;case 2:o.comments&&o.comments.length||(o.comments=[]),o.comments.push(t.string());break;case 3:o.commentsV2&&o.commentsV2.length||(o.commentsV2=[]),o.commentsV2.push(r.CommentDescriptor.decode(t,t.uint32()));break;case 4:o.resolvedAt=t.string();break;case 5:o.resolvedBy=t.string();break;case 6:o.context=t.string();break;case 7:o.createdAt=t.string();break;case 8:o.deletedAt=t.string();break;case 9:o.attributes=t.string();break;case 10:o.unlinkedAt=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&!n.isString(e.commentThreadId))return"commentThreadId: string expected";if(null!=e.comments&&e.hasOwnProperty("comments")){if(!Array.isArray(e.comments))return"comments: array expected";for(var t=0;t<e.comments.length;++t)if(!n.isString(e.comments[t]))return"comments: string[] expected"}if(null!=e.commentsV2&&e.hasOwnProperty("commentsV2")){if(!Array.isArray(e.commentsV2))return"commentsV2: array expected";for(t=0;t<e.commentsV2.length;++t){var s=r.CommentDescriptor.verify(e.commentsV2[t]);if(s)return"commentsV2."+s}}return null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&!n.isString(e.resolvedAt)?"resolvedAt: string expected":null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&!n.isString(e.resolvedBy)?"resolvedBy: string expected":null!=e.context&&e.hasOwnProperty("context")&&!n.isString(e.context)?"context: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null!=e.deletedAt&&e.hasOwnProperty("deletedAt")&&!n.isString(e.deletedAt)?"deletedAt: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null!=e.unlinkedAt&&e.hasOwnProperty("unlinkedAt")&&!n.isString(e.unlinkedAt)?"unlinkedAt: string expected":null},s.fromObject=function(e){if(e instanceof r.CommentsV2GetCommentThreadResponse)return e;var t=new r.CommentsV2GetCommentThreadResponse;if(null!=e.commentThreadId&&(t.commentThreadId=String(e.commentThreadId)),e.comments){if(!Array.isArray(e.comments))throw TypeError(".CommentsV2GetCommentThreadResponse.comments: array expected");t.comments=[];for(var n=0;n<e.comments.length;++n)t.comments[n]=String(e.comments[n])}if(e.commentsV2){if(!Array.isArray(e.commentsV2))throw TypeError(".CommentsV2GetCommentThreadResponse.commentsV2: array expected");for(t.commentsV2=[],n=0;n<e.commentsV2.length;++n){if("object"!=typeof e.commentsV2[n])throw TypeError(".CommentsV2GetCommentThreadResponse.commentsV2: object expected");t.commentsV2[n]=r.CommentDescriptor.fromObject(e.commentsV2[n])}}return null!=e.resolvedAt&&(t.resolvedAt=String(e.resolvedAt)),null!=e.resolvedBy&&(t.resolvedBy=String(e.resolvedBy)),null!=e.context&&(t.context=String(e.context)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.deletedAt&&(t.deletedAt=String(e.deletedAt)),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.unlinkedAt&&(t.unlinkedAt=String(e.unlinkedAt)),t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.comments=[],n.commentsV2=[]),t.defaults&&(n.commentThreadId="",n.resolvedAt="",n.resolvedBy="",n.context="",n.createdAt="",n.deletedAt="",n.attributes="",n.unlinkedAt=""),null!=e.commentThreadId&&e.hasOwnProperty("commentThreadId")&&(n.commentThreadId=e.commentThreadId),e.comments&&e.comments.length){n.comments=[];for(var s=0;s<e.comments.length;++s)n.comments[s]=e.comments[s]}if(e.commentsV2&&e.commentsV2.length)for(n.commentsV2=[],s=0;s<e.commentsV2.length;++s)n.commentsV2[s]=r.CommentDescriptor.toObject(e.commentsV2[s],t);return null!=e.resolvedAt&&e.hasOwnProperty("resolvedAt")&&(n.resolvedAt=e.resolvedAt),null!=e.resolvedBy&&e.hasOwnProperty("resolvedBy")&&(n.resolvedBy=e.resolvedBy),null!=e.context&&e.hasOwnProperty("context")&&(n.context=e.context),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.deletedAt&&e.hasOwnProperty("deletedAt")&&(n.deletedAt=e.deletedAt),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),null!=e.unlinkedAt&&e.hasOwnProperty("unlinkedAt")&&(n.unlinkedAt=e.unlinkedAt),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2GetCommentThreadResponse"},s}(),r.CommentsV2GetDocumentThreadsResponse=function(){function s(e){if(this.threads=[],this.threadsV2=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.threads=n.emptyArray,s.prototype.threadsV2=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.threads&&e.threads.length)for(var s=0;s<e.threads.length;++s)n.uint32(10).string(e.threads[s]);if(null!=e.threadsV2&&e.threadsV2.length)for(s=0;s<e.threadsV2.length;++s)r.CommentsThreadDescriptor.encode(e.threadsV2[s],n.uint32(18).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.CommentsV2GetDocumentThreadsResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.threads&&o.threads.length||(o.threads=[]),o.threads.push(t.string());break;case 2:o.threadsV2&&o.threadsV2.length||(o.threadsV2=[]),o.threadsV2.push(r.CommentsThreadDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.threads&&e.hasOwnProperty("threads")){if(!Array.isArray(e.threads))return"threads: array expected";for(var t=0;t<e.threads.length;++t)if(!n.isString(e.threads[t]))return"threads: string[] expected"}if(null!=e.threadsV2&&e.hasOwnProperty("threadsV2")){if(!Array.isArray(e.threadsV2))return"threadsV2: array expected";for(t=0;t<e.threadsV2.length;++t){var s=r.CommentsThreadDescriptor.verify(e.threadsV2[t]);if(s)return"threadsV2."+s}}return null},s.fromObject=function(e){if(e instanceof r.CommentsV2GetDocumentThreadsResponse)return e;var t=new r.CommentsV2GetDocumentThreadsResponse;if(e.threads){if(!Array.isArray(e.threads))throw TypeError(".CommentsV2GetDocumentThreadsResponse.threads: array expected");t.threads=[];for(var n=0;n<e.threads.length;++n)t.threads[n]=String(e.threads[n])}if(e.threadsV2){if(!Array.isArray(e.threadsV2))throw TypeError(".CommentsV2GetDocumentThreadsResponse.threadsV2: array expected");for(t.threadsV2=[],n=0;n<e.threadsV2.length;++n){if("object"!=typeof e.threadsV2[n])throw TypeError(".CommentsV2GetDocumentThreadsResponse.threadsV2: object expected");t.threadsV2[n]=r.CommentsThreadDescriptor.fromObject(e.threadsV2[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.threads=[],n.threadsV2=[]),e.threads&&e.threads.length){n.threads=[];for(var s=0;s<e.threads.length;++s)n.threads[s]=e.threads[s]}if(e.threadsV2&&e.threadsV2.length)for(n.threadsV2=[],s=0;s<e.threadsV2.length;++s)n.threadsV2[s]=r.CommentsThreadDescriptor.toObject(e.threadsV2[s],t);return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/CommentsV2GetDocumentThreadsResponse"},s}(),r.KeyValueDescriptor=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.key="",s.prototype.value="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&n.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&n.uint32(18).string(e.value),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.KeyValueDescriptor;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.key=t.string();break;case 2:o.value=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!n.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!n.isString(e.value)?"value: string expected":null},s.fromObject=function(e){if(e instanceof r.KeyValueDescriptor)return e;var t=new r.KeyValueDescriptor;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/KeyValueDescriptor"},s}(),r.IsEditorBundleUploadedMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.bundleVersion="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.bundleVersion&&Object.hasOwnProperty.call(e,"bundleVersion")&&n.uint32(10).string(e.bundleVersion),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.IsEditorBundleUploadedMessage;t.pos<s;){var i=t.uint32();i>>>3==1?o.bundleVersion=t.string():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.bundleVersion&&e.hasOwnProperty("bundleVersion")&&!n.isString(e.bundleVersion)?"bundleVersion: string expected":null},s.fromObject=function(e){if(e instanceof r.IsEditorBundleUploadedMessage)return e;var t=new r.IsEditorBundleUploadedMessage;return null!=e.bundleVersion&&(t.bundleVersion=String(e.bundleVersion)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.bundleVersion=""),null!=e.bundleVersion&&e.hasOwnProperty("bundleVersion")&&(n.bundleVersion=e.bundleVersion),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/IsEditorBundleUploadedMessage"},s}(),r.IsEditorBundleUploadedResponse=function(){function n(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return n.prototype.isUploaded=!1,n.create=function(e){return new n(e)},n.encode=function(e,n){return n||(n=t.create()),null!=e.isUploaded&&Object.hasOwnProperty.call(e,"isUploaded")&&n.uint32(8).bool(e.isUploaded),n},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.IsEditorBundleUploadedResponse;t.pos<s;){var i=t.uint32();i>>>3==1?o.isUploaded=t.bool():t.skipType(7&i)}return o},n.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},n.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.isUploaded&&e.hasOwnProperty("isUploaded")&&"boolean"!=typeof e.isUploaded?"isUploaded: boolean expected":null},n.fromObject=function(e){if(e instanceof r.IsEditorBundleUploadedResponse)return e;var t=new r.IsEditorBundleUploadedResponse;return null!=e.isUploaded&&(t.isUploaded=Boolean(e.isUploaded)),t},n.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.isUploaded=!1),null!=e.isUploaded&&e.hasOwnProperty("isUploaded")&&(n.isUploaded=e.isUploaded),n},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/IsEditorBundleUploadedResponse"},n}(),r.RevisionDescriptor=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.revisionId="",s.prototype.name="",s.prototype.creatorId="",s.prototype.authorsIds="",s.prototype.diffData="",s.prototype.createdAt="",s.prototype.attributes="",s.prototype.toVersion=0,s.prototype.fromVersion=0,s.prototype.isEmptyCurrent=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.revisionId&&Object.hasOwnProperty.call(e,"revisionId")&&n.uint32(10).string(e.revisionId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&n.uint32(18).string(e.name),null!=e.creatorId&&Object.hasOwnProperty.call(e,"creatorId")&&n.uint32(26).string(e.creatorId),null!=e.authorsIds&&Object.hasOwnProperty.call(e,"authorsIds")&&n.uint32(34).string(e.authorsIds),null!=e.diffData&&Object.hasOwnProperty.call(e,"diffData")&&n.uint32(42).string(e.diffData),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(50).string(e.createdAt),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(58).string(e.attributes),null!=e.toVersion&&Object.hasOwnProperty.call(e,"toVersion")&&n.uint32(64).uint32(e.toVersion),null!=e.fromVersion&&Object.hasOwnProperty.call(e,"fromVersion")&&n.uint32(72).uint32(e.fromVersion),null!=e.isEmptyCurrent&&Object.hasOwnProperty.call(e,"isEmptyCurrent")&&n.uint32(80).bool(e.isEmptyCurrent),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RevisionDescriptor;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.revisionId=t.string();break;case 2:o.name=t.string();break;case 3:o.creatorId=t.string();break;case 4:o.authorsIds=t.string();break;case 5:o.diffData=t.string();break;case 6:o.createdAt=t.string();break;case 7:o.attributes=t.string();break;case 8:o.toVersion=t.uint32();break;case 9:o.fromVersion=t.uint32();break;case 10:o.isEmptyCurrent=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.revisionId&&e.hasOwnProperty("revisionId")&&!n.isString(e.revisionId)?"revisionId: string expected":null!=e.name&&e.hasOwnProperty("name")&&!n.isString(e.name)?"name: string expected":null!=e.creatorId&&e.hasOwnProperty("creatorId")&&!n.isString(e.creatorId)?"creatorId: string expected":null!=e.authorsIds&&e.hasOwnProperty("authorsIds")&&!n.isString(e.authorsIds)?"authorsIds: string expected":null!=e.diffData&&e.hasOwnProperty("diffData")&&!n.isString(e.diffData)?"diffData: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null!=e.toVersion&&e.hasOwnProperty("toVersion")&&!n.isInteger(e.toVersion)?"toVersion: integer expected":null!=e.fromVersion&&e.hasOwnProperty("fromVersion")&&!n.isInteger(e.fromVersion)?"fromVersion: integer expected":null!=e.isEmptyCurrent&&e.hasOwnProperty("isEmptyCurrent")&&"boolean"!=typeof e.isEmptyCurrent?"isEmptyCurrent: boolean expected":null},s.fromObject=function(e){if(e instanceof r.RevisionDescriptor)return e;var t=new r.RevisionDescriptor;return null!=e.revisionId&&(t.revisionId=String(e.revisionId)),null!=e.name&&(t.name=String(e.name)),null!=e.creatorId&&(t.creatorId=String(e.creatorId)),null!=e.authorsIds&&(t.authorsIds=String(e.authorsIds)),null!=e.diffData&&(t.diffData=String(e.diffData)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.toVersion&&(t.toVersion=e.toVersion>>>0),null!=e.fromVersion&&(t.fromVersion=e.fromVersion>>>0),null!=e.isEmptyCurrent&&(t.isEmptyCurrent=Boolean(e.isEmptyCurrent)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.revisionId="",n.name="",n.creatorId="",n.authorsIds="",n.diffData="",n.createdAt="",n.attributes="",n.toVersion=0,n.fromVersion=0,n.isEmptyCurrent=!1),null!=e.revisionId&&e.hasOwnProperty("revisionId")&&(n.revisionId=e.revisionId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.creatorId&&e.hasOwnProperty("creatorId")&&(n.creatorId=e.creatorId),null!=e.authorsIds&&e.hasOwnProperty("authorsIds")&&(n.authorsIds=e.authorsIds),null!=e.diffData&&e.hasOwnProperty("diffData")&&(n.diffData=e.diffData),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),null!=e.toVersion&&e.hasOwnProperty("toVersion")&&(n.toVersion=e.toVersion),null!=e.fromVersion&&e.hasOwnProperty("fromVersion")&&(n.fromVersion=e.fromVersion),null!=e.isEmptyCurrent&&e.hasOwnProperty("isEmptyCurrent")&&(n.isEmptyCurrent=e.isEmptyCurrent),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RevisionDescriptor"},s}(),r.RevisionHistoryConnectMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RevisionHistoryConnectMessage;t.pos<s;){var i=t.uint32();i>>>3==1?o.documentId=t.string():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.RevisionHistoryConnectMessage)return e;var t=new r.RevisionHistoryConnectMessage;return null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.documentId=""),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RevisionHistoryConnectMessage"},s}(),r.RevisionHistoryGetRevisionMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.prototype.revisionId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),null!=e.revisionId&&Object.hasOwnProperty.call(e,"revisionId")&&n.uint32(18).string(e.revisionId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RevisionHistoryGetRevisionMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.documentId=t.string();break;case 2:o.revisionId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.revisionId&&e.hasOwnProperty("revisionId")&&!n.isString(e.revisionId)?"revisionId: string expected":null},s.fromObject=function(e){if(e instanceof r.RevisionHistoryGetRevisionMessage)return e;var t=new r.RevisionHistoryGetRevisionMessage;return null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.revisionId&&(t.revisionId=String(e.revisionId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.documentId="",n.revisionId=""),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.revisionId&&e.hasOwnProperty("revisionId")&&(n.revisionId=e.revisionId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RevisionHistoryGetRevisionMessage"},s}(),r.RevisionHistoryReconnectMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.prototype.requestId=0,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),null!=e.requestId&&Object.hasOwnProperty.call(e,"requestId")&&n.uint32(16).uint32(e.requestId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RevisionHistoryReconnectMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.documentId=t.string();break;case 2:o.requestId=t.uint32();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.requestId&&e.hasOwnProperty("requestId")&&!n.isInteger(e.requestId)?"requestId: integer expected":null},s.fromObject=function(e){if(e instanceof r.RevisionHistoryReconnectMessage)return e;var t=new r.RevisionHistoryReconnectMessage;return null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.requestId&&(t.requestId=e.requestId>>>0),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.documentId="",n.requestId=0),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.requestId&&e.hasOwnProperty("requestId")&&(n.requestId=e.requestId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RevisionHistoryReconnectMessage"},s}(),r.RevisionHistoryUpdateRevisionsMessage=function(){function s(e){if(this.revisions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.prototype.requestId=0,s.prototype.revisions=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),null!=e.requestId&&Object.hasOwnProperty.call(e,"requestId")&&n.uint32(16).uint32(e.requestId),null!=e.revisions&&e.revisions.length)for(var s=0;s<e.revisions.length;++s)r.RevisionDescriptor.encode(e.revisions[s],n.uint32(26).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RevisionHistoryUpdateRevisionsMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.documentId=t.string();break;case 2:o.requestId=t.uint32();break;case 3:o.revisions&&o.revisions.length||(o.revisions=[]),o.revisions.push(r.RevisionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId))return"documentId: string expected";if(null!=e.requestId&&e.hasOwnProperty("requestId")&&!n.isInteger(e.requestId))return"requestId: integer expected";if(null!=e.revisions&&e.hasOwnProperty("revisions")){if(!Array.isArray(e.revisions))return"revisions: array expected";for(var t=0;t<e.revisions.length;++t){var s=r.RevisionDescriptor.verify(e.revisions[t]);if(s)return"revisions."+s}}return null},s.fromObject=function(e){if(e instanceof r.RevisionHistoryUpdateRevisionsMessage)return e;var t=new r.RevisionHistoryUpdateRevisionsMessage;if(null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.requestId&&(t.requestId=e.requestId>>>0),e.revisions){if(!Array.isArray(e.revisions))throw TypeError(".RevisionHistoryUpdateRevisionsMessage.revisions: array expected");t.revisions=[];for(var n=0;n<e.revisions.length;++n){if("object"!=typeof e.revisions[n])throw TypeError(".RevisionHistoryUpdateRevisionsMessage.revisions: object expected");t.revisions[n]=r.RevisionDescriptor.fromObject(e.revisions[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.revisions=[]),t.defaults&&(n.documentId="",n.requestId=0),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.requestId&&e.hasOwnProperty("requestId")&&(n.requestId=e.requestId),e.revisions&&e.revisions.length){n.revisions=[];for(var s=0;s<e.revisions.length;++s)n.revisions[s]=r.RevisionDescriptor.toObject(e.revisions[s],t)}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RevisionHistoryUpdateRevisionsMessage"},s}(),r.RevisionHistoryConnectResponse=function(){function s(e){if(this.revisions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.channel="",s.prototype.requestId=0,s.prototype.revisions=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&n.uint32(10).string(e.channel),null!=e.requestId&&Object.hasOwnProperty.call(e,"requestId")&&n.uint32(16).uint32(e.requestId),null!=e.revisions&&e.revisions.length)for(var s=0;s<e.revisions.length;++s)r.RevisionDescriptor.encode(e.revisions[s],n.uint32(26).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RevisionHistoryConnectResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.channel=t.string();break;case 2:o.requestId=t.uint32();break;case 3:o.revisions&&o.revisions.length||(o.revisions=[]),o.revisions.push(r.RevisionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.channel&&e.hasOwnProperty("channel")&&!n.isString(e.channel))return"channel: string expected";if(null!=e.requestId&&e.hasOwnProperty("requestId")&&!n.isInteger(e.requestId))return"requestId: integer expected";if(null!=e.revisions&&e.hasOwnProperty("revisions")){if(!Array.isArray(e.revisions))return"revisions: array expected";for(var t=0;t<e.revisions.length;++t){var s=r.RevisionDescriptor.verify(e.revisions[t]);if(s)return"revisions."+s}}return null},s.fromObject=function(e){if(e instanceof r.RevisionHistoryConnectResponse)return e;var t=new r.RevisionHistoryConnectResponse;if(null!=e.channel&&(t.channel=String(e.channel)),null!=e.requestId&&(t.requestId=e.requestId>>>0),e.revisions){if(!Array.isArray(e.revisions))throw TypeError(".RevisionHistoryConnectResponse.revisions: array expected");t.revisions=[];for(var n=0;n<e.revisions.length;++n){if("object"!=typeof e.revisions[n])throw TypeError(".RevisionHistoryConnectResponse.revisions: object expected");t.revisions[n]=r.RevisionDescriptor.fromObject(e.revisions[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.revisions=[]),t.defaults&&(n.channel="",n.requestId=0),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=e.channel),null!=e.requestId&&e.hasOwnProperty("requestId")&&(n.requestId=e.requestId),e.revisions&&e.revisions.length){n.revisions=[];for(var s=0;s<e.revisions.length;++s)n.revisions[s]=r.RevisionDescriptor.toObject(e.revisions[s],t)}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RevisionHistoryConnectResponse"},s}(),r.RevisionHistoryGetRevisionResponse=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.revisionId="",s.prototype.name="",s.prototype.creatorId="",s.prototype.authorsIds="",s.prototype.diffData="",s.prototype.createdAt="",s.prototype.attributes="",s.prototype.toVersion=0,s.prototype.fromVersion=0,s.prototype.isEmptyCurrent=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.revisionId&&Object.hasOwnProperty.call(e,"revisionId")&&n.uint32(10).string(e.revisionId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&n.uint32(18).string(e.name),null!=e.creatorId&&Object.hasOwnProperty.call(e,"creatorId")&&n.uint32(26).string(e.creatorId),null!=e.authorsIds&&Object.hasOwnProperty.call(e,"authorsIds")&&n.uint32(34).string(e.authorsIds),null!=e.diffData&&Object.hasOwnProperty.call(e,"diffData")&&n.uint32(42).string(e.diffData),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(50).string(e.createdAt),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(58).string(e.attributes),null!=e.toVersion&&Object.hasOwnProperty.call(e,"toVersion")&&n.uint32(64).uint32(e.toVersion),null!=e.fromVersion&&Object.hasOwnProperty.call(e,"fromVersion")&&n.uint32(72).uint32(e.fromVersion),null!=e.isEmptyCurrent&&Object.hasOwnProperty.call(e,"isEmptyCurrent")&&n.uint32(80).bool(e.isEmptyCurrent),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RevisionHistoryGetRevisionResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.revisionId=t.string();break;case 2:o.name=t.string();break;case 3:o.creatorId=t.string();break;case 4:o.authorsIds=t.string();break;case 5:o.diffData=t.string();break;case 6:o.createdAt=t.string();break;case 7:o.attributes=t.string();break;case 8:o.toVersion=t.uint32();break;case 9:o.fromVersion=t.uint32();break;case 10:o.isEmptyCurrent=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.revisionId&&e.hasOwnProperty("revisionId")&&!n.isString(e.revisionId)?"revisionId: string expected":null!=e.name&&e.hasOwnProperty("name")&&!n.isString(e.name)?"name: string expected":null!=e.creatorId&&e.hasOwnProperty("creatorId")&&!n.isString(e.creatorId)?"creatorId: string expected":null!=e.authorsIds&&e.hasOwnProperty("authorsIds")&&!n.isString(e.authorsIds)?"authorsIds: string expected":null!=e.diffData&&e.hasOwnProperty("diffData")&&!n.isString(e.diffData)?"diffData: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null!=e.toVersion&&e.hasOwnProperty("toVersion")&&!n.isInteger(e.toVersion)?"toVersion: integer expected":null!=e.fromVersion&&e.hasOwnProperty("fromVersion")&&!n.isInteger(e.fromVersion)?"fromVersion: integer expected":null!=e.isEmptyCurrent&&e.hasOwnProperty("isEmptyCurrent")&&"boolean"!=typeof e.isEmptyCurrent?"isEmptyCurrent: boolean expected":null},s.fromObject=function(e){if(e instanceof r.RevisionHistoryGetRevisionResponse)return e;var t=new r.RevisionHistoryGetRevisionResponse;return null!=e.revisionId&&(t.revisionId=String(e.revisionId)),null!=e.name&&(t.name=String(e.name)),null!=e.creatorId&&(t.creatorId=String(e.creatorId)),null!=e.authorsIds&&(t.authorsIds=String(e.authorsIds)),null!=e.diffData&&(t.diffData=String(e.diffData)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.toVersion&&(t.toVersion=e.toVersion>>>0),null!=e.fromVersion&&(t.fromVersion=e.fromVersion>>>0),null!=e.isEmptyCurrent&&(t.isEmptyCurrent=Boolean(e.isEmptyCurrent)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.revisionId="",n.name="",n.creatorId="",n.authorsIds="",n.diffData="",n.createdAt="",n.attributes="",n.toVersion=0,n.fromVersion=0,n.isEmptyCurrent=!1),null!=e.revisionId&&e.hasOwnProperty("revisionId")&&(n.revisionId=e.revisionId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.creatorId&&e.hasOwnProperty("creatorId")&&(n.creatorId=e.creatorId),null!=e.authorsIds&&e.hasOwnProperty("authorsIds")&&(n.authorsIds=e.authorsIds),null!=e.diffData&&e.hasOwnProperty("diffData")&&(n.diffData=e.diffData),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),null!=e.toVersion&&e.hasOwnProperty("toVersion")&&(n.toVersion=e.toVersion),null!=e.fromVersion&&e.hasOwnProperty("fromVersion")&&(n.fromVersion=e.fromVersion),null!=e.isEmptyCurrent&&e.hasOwnProperty("isEmptyCurrent")&&(n.isEmptyCurrent=e.isEmptyCurrent),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RevisionHistoryGetRevisionResponse"},s}(),r.RevisionHistoryUpdateRevisionsResponse=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.requestId=0,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.requestId&&Object.hasOwnProperty.call(e,"requestId")&&n.uint32(8).uint32(e.requestId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RevisionHistoryUpdateRevisionsResponse;t.pos<s;){var i=t.uint32();i>>>3==1?o.requestId=t.uint32():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.requestId&&e.hasOwnProperty("requestId")&&!n.isInteger(e.requestId)?"requestId: integer expected":null},s.fromObject=function(e){if(e instanceof r.RevisionHistoryUpdateRevisionsResponse)return e;var t=new r.RevisionHistoryUpdateRevisionsResponse;return null!=e.requestId&&(t.requestId=e.requestId>>>0),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.requestId=0),null!=e.requestId&&e.hasOwnProperty("requestId")&&(n.requestId=e.requestId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RevisionHistoryUpdateRevisionsResponse"},s}(),r.SessionsSocketDescriptor=function(){function s(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.session="",s.prototype.user="",s.prototype.role="",s.prototype.permissions=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.session&&Object.hasOwnProperty.call(e,"session")&&n.uint32(10).string(e.session),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&n.uint32(18).string(e.user),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&n.uint32(26).string(e.role),null!=e.permissions&&e.permissions.length)for(var r=0;r<e.permissions.length;++r)n.uint32(34).string(e.permissions[r]);return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.SessionsSocketDescriptor;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.session=t.string();break;case 2:o.user=t.string();break;case 3:o.role=t.string();break;case 4:o.permissions&&o.permissions.length||(o.permissions=[]),o.permissions.push(t.string());break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.session&&e.hasOwnProperty("session")&&!n.isString(e.session))return"session: string expected";if(null!=e.user&&e.hasOwnProperty("user")&&!n.isString(e.user))return"user: string expected";if(null!=e.role&&e.hasOwnProperty("role")&&!n.isString(e.role))return"role: string expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!n.isString(e.permissions[t]))return"permissions: string[] expected"}return null},s.fromObject=function(e){if(e instanceof r.SessionsSocketDescriptor)return e;var t=new r.SessionsSocketDescriptor;if(null!=e.session&&(t.session=String(e.session)),null!=e.user&&(t.user=String(e.user)),null!=e.role&&(t.role=String(e.role)),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".SessionsSocketDescriptor.permissions: array expected");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permissions=[]),t.defaults&&(n.session="",n.user="",n.role=""),null!=e.session&&e.hasOwnProperty("session")&&(n.session=e.session),null!=e.user&&e.hasOwnProperty("user")&&(n.user=e.user),null!=e.role&&e.hasOwnProperty("role")&&(n.role=e.role),e.permissions&&e.permissions.length){n.permissions=[];for(var r=0;r<e.permissions.length;++r)n.permissions[r]=e.permissions[r]}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SessionsSocketDescriptor"},s}(),r.SessionsConnectMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.sessionType=0,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.sessionType&&Object.hasOwnProperty.call(e,"sessionType")&&n.uint32(16).uint32(e.sessionType),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.SessionsConnectMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.sessionType=t.uint32();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null!=e.sessionType&&e.hasOwnProperty("sessionType")&&!n.isInteger(e.sessionType)?"sessionType: integer expected":null},s.fromObject=function(e){if(e instanceof r.SessionsConnectMessage)return e;var t=new r.SessionsConnectMessage;return null!=e.id&&(t.id=String(e.id)),null!=e.sessionType&&(t.sessionType=e.sessionType>>>0),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.sessionType=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.sessionType&&e.hasOwnProperty("sessionType")&&(n.sessionType=e.sessionType),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SessionsConnectMessage"},s}(),r.SocketConnectMessage=function(){function s(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.userId="",s.prototype.role="",s.prototype.permissions=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&n.uint32(26).string(e.role),null!=e.permissions&&e.permissions.length)for(var r=0;r<e.permissions.length;++r)n.uint32(34).string(e.permissions[r]);return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.SocketConnectMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.userId=t.string();break;case 3:o.role=t.string();break;case 4:o.permissions&&o.permissions.length||(o.permissions=[]),o.permissions.push(t.string());break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id))return"id: string expected";if(null!=e.userId&&e.hasOwnProperty("userId")&&!n.isString(e.userId))return"userId: string expected";if(null!=e.role&&e.hasOwnProperty("role")&&!n.isString(e.role))return"role: string expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!n.isString(e.permissions[t]))return"permissions: string[] expected"}return null},s.fromObject=function(e){if(e instanceof r.SocketConnectMessage)return e;var t=new r.SocketConnectMessage;if(null!=e.id&&(t.id=String(e.id)),null!=e.userId&&(t.userId=String(e.userId)),null!=e.role&&(t.role=String(e.role)),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".SocketConnectMessage.permissions: array expected");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.permissions=[]),t.defaults&&(n.id="",n.userId="",n.role=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.userId&&e.hasOwnProperty("userId")&&(n.userId=e.userId),null!=e.role&&e.hasOwnProperty("role")&&(n.role=e.role),e.permissions&&e.permissions.length){n.permissions=[];for(var r=0;r<e.permissions.length;++r)n.permissions[r]=e.permissions[r]}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SocketConnectMessage"},s}(),r.SocketDisconnectMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.SocketDisconnectMessage;t.pos<s;){var i=t.uint32();i>>>3==1?o.id=t.string():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null},s.fromObject=function(e){if(e instanceof r.SocketDisconnectMessage)return e;var t=new r.SocketDisconnectMessage;return null!=e.id&&(t.id=String(e.id)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SocketDisconnectMessage"},s}(),r.SessionsConnectResponse=function(){function s(e){if(this.sockets=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.channel="",s.prototype.sockets=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&n.uint32(10).string(e.channel),null!=e.sockets&&e.sockets.length)for(var s=0;s<e.sockets.length;++s)r.SessionsSocketDescriptor.encode(e.sockets[s],n.uint32(18).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.SessionsConnectResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.channel=t.string();break;case 2:o.sockets&&o.sockets.length||(o.sockets=[]),o.sockets.push(r.SessionsSocketDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.channel&&e.hasOwnProperty("channel")&&!n.isString(e.channel))return"channel: string expected";if(null!=e.sockets&&e.hasOwnProperty("sockets")){if(!Array.isArray(e.sockets))return"sockets: array expected";for(var t=0;t<e.sockets.length;++t){var s=r.SessionsSocketDescriptor.verify(e.sockets[t]);if(s)return"sockets."+s}}return null},s.fromObject=function(e){if(e instanceof r.SessionsConnectResponse)return e;var t=new r.SessionsConnectResponse;if(null!=e.channel&&(t.channel=String(e.channel)),e.sockets){if(!Array.isArray(e.sockets))throw TypeError(".SessionsConnectResponse.sockets: array expected");t.sockets=[];for(var n=0;n<e.sockets.length;++n){if("object"!=typeof e.sockets[n])throw TypeError(".SessionsConnectResponse.sockets: object expected");t.sockets[n]=r.SessionsSocketDescriptor.fromObject(e.sockets[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.sockets=[]),t.defaults&&(n.channel=""),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=e.channel),e.sockets&&e.sockets.length){n.sockets=[];for(var s=0;s<e.sockets.length;++s)n.sockets[s]=r.SessionsSocketDescriptor.toObject(e.sockets[s],t)}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SessionsConnectResponse"},s}(),r.SuggestionDescriptor=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.authorId="",s.prototype.type="",s.prototype.createdAt="",s.prototype.data="",s.prototype.hasComments=!1,s.prototype.state="",s.prototype.attributes="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.authorId&&Object.hasOwnProperty.call(e,"authorId")&&n.uint32(18).string(e.authorId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&n.uint32(26).string(e.type),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(34).string(e.createdAt),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(42).string(e.data),null!=e.hasComments&&Object.hasOwnProperty.call(e,"hasComments")&&n.uint32(48).bool(e.hasComments),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&n.uint32(58).string(e.state),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(66).string(e.attributes),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.SuggestionDescriptor;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.authorId=t.string();break;case 3:o.type=t.string();break;case 4:o.createdAt=t.string();break;case 5:o.data=t.string();break;case 6:o.hasComments=t.bool();break;case 7:o.state=t.string();break;case 8:o.attributes=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null!=e.authorId&&e.hasOwnProperty("authorId")&&!n.isString(e.authorId)?"authorId: string expected":null!=e.type&&e.hasOwnProperty("type")&&!n.isString(e.type)?"type: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.hasComments&&e.hasOwnProperty("hasComments")&&"boolean"!=typeof e.hasComments?"hasComments: boolean expected":null!=e.state&&e.hasOwnProperty("state")&&!n.isString(e.state)?"state: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null},s.fromObject=function(e){if(e instanceof r.SuggestionDescriptor)return e;var t=new r.SuggestionDescriptor;return null!=e.id&&(t.id=String(e.id)),null!=e.authorId&&(t.authorId=String(e.authorId)),null!=e.type&&(t.type=String(e.type)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.data&&(t.data=String(e.data)),null!=e.hasComments&&(t.hasComments=Boolean(e.hasComments)),null!=e.state&&(t.state=String(e.state)),null!=e.attributes&&(t.attributes=String(e.attributes)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.authorId="",n.type="",n.createdAt="",n.data="",n.hasComments=!1,n.state="",n.attributes=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.authorId&&e.hasOwnProperty("authorId")&&(n.authorId=e.authorId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.hasComments&&e.hasOwnProperty("hasComments")&&(n.hasComments=e.hasComments),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SuggestionDescriptor"},s}(),r.TrackChangesAddSuggestionMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.documentId="",s.prototype.type="",s.prototype.data="",s.prototype.originalSuggestionId="",s.prototype.attributes="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&n.uint32(26).string(e.type),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(34).string(e.data),null!=e.originalSuggestionId&&Object.hasOwnProperty.call(e,"originalSuggestionId")&&n.uint32(42).string(e.originalSuggestionId),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(50).string(e.attributes),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesAddSuggestionMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.documentId=t.string();break;case 3:o.type=t.string();break;case 4:o.data=t.string();break;case 5:o.originalSuggestionId=t.string();break;case 6:o.attributes=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.type&&e.hasOwnProperty("type")&&!n.isString(e.type)?"type: string expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.originalSuggestionId&&e.hasOwnProperty("originalSuggestionId")&&!n.isString(e.originalSuggestionId)?"originalSuggestionId: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null},s.fromObject=function(e){if(e instanceof r.TrackChangesAddSuggestionMessage)return e;var t=new r.TrackChangesAddSuggestionMessage;return null!=e.id&&(t.id=String(e.id)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.type&&(t.type=String(e.type)),null!=e.data&&(t.data=String(e.data)),null!=e.originalSuggestionId&&(t.originalSuggestionId=String(e.originalSuggestionId)),null!=e.attributes&&(t.attributes=String(e.attributes)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.documentId="",n.type="",n.data="",n.originalSuggestionId="",n.attributes=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.originalSuggestionId&&e.hasOwnProperty("originalSuggestionId")&&(n.originalSuggestionId=e.originalSuggestionId),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesAddSuggestionMessage"},s}(),r.TrackChangesBatchUpdateSuggestionsStateMessage=function(){function s(e){if(this.ids=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.ids=n.emptyArray,s.prototype.documentId="",s.prototype.state="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.ids&&e.ids.length)for(var r=0;r<e.ids.length;++r)n.uint32(10).string(e.ids[r]);return null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&n.uint32(26).string(e.state),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesBatchUpdateSuggestionsStateMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.ids&&o.ids.length||(o.ids=[]),o.ids.push(t.string());break;case 2:o.documentId=t.string();break;case 3:o.state=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ids&&e.hasOwnProperty("ids")){if(!Array.isArray(e.ids))return"ids: array expected";for(var t=0;t<e.ids.length;++t)if(!n.isString(e.ids[t]))return"ids: string[] expected"}return null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.state&&e.hasOwnProperty("state")&&!n.isString(e.state)?"state: string expected":null},s.fromObject=function(e){if(e instanceof r.TrackChangesBatchUpdateSuggestionsStateMessage)return e;var t=new r.TrackChangesBatchUpdateSuggestionsStateMessage;if(e.ids){if(!Array.isArray(e.ids))throw TypeError(".TrackChangesBatchUpdateSuggestionsStateMessage.ids: array expected");t.ids=[];for(var n=0;n<e.ids.length;++n)t.ids[n]=String(e.ids[n])}return null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.state&&(t.state=String(e.state)),t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.ids=[]),t.defaults&&(n.documentId="",n.state=""),e.ids&&e.ids.length){n.ids=[];for(var r=0;r<e.ids.length;++r)n.ids[r]=e.ids[r]}return null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesBatchUpdateSuggestionsStateMessage"},s}(),r.TrackChangesConnectMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesConnectMessage;t.pos<s;){var i=t.uint32();i>>>3==1?o.documentId=t.string():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.TrackChangesConnectMessage)return e;var t=new r.TrackChangesConnectMessage;return null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.documentId=""),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesConnectMessage"},s}(),r.TrackChangesGetAllSuggestionMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(10).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesGetAllSuggestionMessage;t.pos<s;){var i=t.uint32();i>>>3==1?o.documentId=t.string():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.TrackChangesGetAllSuggestionMessage)return e;var t=new r.TrackChangesGetAllSuggestionMessage;return null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.documentId=""),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesGetAllSuggestionMessage"},s}(),r.TrackChangesGetSuggestionMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.documentId="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesGetSuggestionMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.documentId=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null},s.fromObject=function(e){if(e instanceof r.TrackChangesGetSuggestionMessage)return e;var t=new r.TrackChangesGetSuggestionMessage;return null!=e.id&&(t.id=String(e.id)),null!=e.documentId&&(t.documentId=String(e.documentId)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.documentId=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesGetSuggestionMessage"},s}(),r.TrackChangesUpdateSuggestionMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.documentId="",s.prototype.hasComments=!1,s.prototype.isHasCommentsModified=!1,s.prototype.state="",s.prototype.attributes="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.documentId&&Object.hasOwnProperty.call(e,"documentId")&&n.uint32(18).string(e.documentId),null!=e.hasComments&&Object.hasOwnProperty.call(e,"hasComments")&&n.uint32(24).bool(e.hasComments),null!=e.isHasCommentsModified&&Object.hasOwnProperty.call(e,"isHasCommentsModified")&&n.uint32(32).bool(e.isHasCommentsModified),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&n.uint32(42).string(e.state),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(50).string(e.attributes),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesUpdateSuggestionMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.documentId=t.string();break;case 3:o.hasComments=t.bool();break;case 4:o.isHasCommentsModified=t.bool();break;case 5:o.state=t.string();break;case 6:o.attributes=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null!=e.documentId&&e.hasOwnProperty("documentId")&&!n.isString(e.documentId)?"documentId: string expected":null!=e.hasComments&&e.hasOwnProperty("hasComments")&&"boolean"!=typeof e.hasComments?"hasComments: boolean expected":null!=e.isHasCommentsModified&&e.hasOwnProperty("isHasCommentsModified")&&"boolean"!=typeof e.isHasCommentsModified?"isHasCommentsModified: boolean expected":null!=e.state&&e.hasOwnProperty("state")&&!n.isString(e.state)?"state: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null},s.fromObject=function(e){if(e instanceof r.TrackChangesUpdateSuggestionMessage)return e;var t=new r.TrackChangesUpdateSuggestionMessage;return null!=e.id&&(t.id=String(e.id)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.hasComments&&(t.hasComments=Boolean(e.hasComments)),null!=e.isHasCommentsModified&&(t.isHasCommentsModified=Boolean(e.isHasCommentsModified)),null!=e.state&&(t.state=String(e.state)),null!=e.attributes&&(t.attributes=String(e.attributes)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.documentId="",n.hasComments=!1,n.isHasCommentsModified=!1,n.state="",n.attributes=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.documentId&&e.hasOwnProperty("documentId")&&(n.documentId=e.documentId),null!=e.hasComments&&e.hasOwnProperty("hasComments")&&(n.hasComments=e.hasComments),null!=e.isHasCommentsModified&&e.hasOwnProperty("isHasCommentsModified")&&(n.isHasCommentsModified=e.isHasCommentsModified),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesUpdateSuggestionMessage"},s}(),r.TrackChangesAddSuggestionResponse=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.authorId="",s.prototype.type="",s.prototype.createdAt="",s.prototype.data="",s.prototype.hasComments=!1,s.prototype.state="",s.prototype.attributes="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.authorId&&Object.hasOwnProperty.call(e,"authorId")&&n.uint32(18).string(e.authorId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&n.uint32(26).string(e.type),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(34).string(e.createdAt),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(42).string(e.data),null!=e.hasComments&&Object.hasOwnProperty.call(e,"hasComments")&&n.uint32(48).bool(e.hasComments),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&n.uint32(58).string(e.state),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(66).string(e.attributes),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesAddSuggestionResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.authorId=t.string();break;case 3:o.type=t.string();break;case 4:o.createdAt=t.string();break;case 5:o.data=t.string();break;case 6:o.hasComments=t.bool();break;case 7:o.state=t.string();break;case 8:o.attributes=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null!=e.authorId&&e.hasOwnProperty("authorId")&&!n.isString(e.authorId)?"authorId: string expected":null!=e.type&&e.hasOwnProperty("type")&&!n.isString(e.type)?"type: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.hasComments&&e.hasOwnProperty("hasComments")&&"boolean"!=typeof e.hasComments?"hasComments: boolean expected":null!=e.state&&e.hasOwnProperty("state")&&!n.isString(e.state)?"state: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null},s.fromObject=function(e){if(e instanceof r.TrackChangesAddSuggestionResponse)return e;var t=new r.TrackChangesAddSuggestionResponse;return null!=e.id&&(t.id=String(e.id)),null!=e.authorId&&(t.authorId=String(e.authorId)),null!=e.type&&(t.type=String(e.type)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.data&&(t.data=String(e.data)),null!=e.hasComments&&(t.hasComments=Boolean(e.hasComments)),null!=e.state&&(t.state=String(e.state)),null!=e.attributes&&(t.attributes=String(e.attributes)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.authorId="",n.type="",n.createdAt="",n.data="",n.hasComments=!1,n.state="",n.attributes=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.authorId&&e.hasOwnProperty("authorId")&&(n.authorId=e.authorId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.hasComments&&e.hasOwnProperty("hasComments")&&(n.hasComments=e.hasComments),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesAddSuggestionResponse"},s}(),r.TrackChangesConnectResponse=function(){function s(e){if(this.suggestions=[],this.suggestionsV2=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.channel="",s.prototype.suggestions=n.emptyArray,s.prototype.suggestionsV2=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&n.uint32(10).string(e.channel),null!=e.suggestions&&e.suggestions.length)for(var s=0;s<e.suggestions.length;++s)n.uint32(18).string(e.suggestions[s]);if(null!=e.suggestionsV2&&e.suggestionsV2.length)for(s=0;s<e.suggestionsV2.length;++s)r.SuggestionDescriptor.encode(e.suggestionsV2[s],n.uint32(26).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesConnectResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.channel=t.string();break;case 2:o.suggestions&&o.suggestions.length||(o.suggestions=[]),o.suggestions.push(t.string());break;case 3:o.suggestionsV2&&o.suggestionsV2.length||(o.suggestionsV2=[]),o.suggestionsV2.push(r.SuggestionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.channel&&e.hasOwnProperty("channel")&&!n.isString(e.channel))return"channel: string expected";if(null!=e.suggestions&&e.hasOwnProperty("suggestions")){if(!Array.isArray(e.suggestions))return"suggestions: array expected";for(var t=0;t<e.suggestions.length;++t)if(!n.isString(e.suggestions[t]))return"suggestions: string[] expected"}if(null!=e.suggestionsV2&&e.hasOwnProperty("suggestionsV2")){if(!Array.isArray(e.suggestionsV2))return"suggestionsV2: array expected";for(t=0;t<e.suggestionsV2.length;++t){var s=r.SuggestionDescriptor.verify(e.suggestionsV2[t]);if(s)return"suggestionsV2."+s}}return null},s.fromObject=function(e){if(e instanceof r.TrackChangesConnectResponse)return e;var t=new r.TrackChangesConnectResponse;if(null!=e.channel&&(t.channel=String(e.channel)),e.suggestions){if(!Array.isArray(e.suggestions))throw TypeError(".TrackChangesConnectResponse.suggestions: array expected");t.suggestions=[];for(var n=0;n<e.suggestions.length;++n)t.suggestions[n]=String(e.suggestions[n])}if(e.suggestionsV2){if(!Array.isArray(e.suggestionsV2))throw TypeError(".TrackChangesConnectResponse.suggestionsV2: array expected");for(t.suggestionsV2=[],n=0;n<e.suggestionsV2.length;++n){if("object"!=typeof e.suggestionsV2[n])throw TypeError(".TrackChangesConnectResponse.suggestionsV2: object expected");t.suggestionsV2[n]=r.SuggestionDescriptor.fromObject(e.suggestionsV2[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.suggestions=[],n.suggestionsV2=[]),t.defaults&&(n.channel=""),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=e.channel),e.suggestions&&e.suggestions.length){n.suggestions=[];for(var s=0;s<e.suggestions.length;++s)n.suggestions[s]=e.suggestions[s]}if(e.suggestionsV2&&e.suggestionsV2.length)for(n.suggestionsV2=[],s=0;s<e.suggestionsV2.length;++s)n.suggestionsV2[s]=r.SuggestionDescriptor.toObject(e.suggestionsV2[s],t);return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesConnectResponse"},s}(),r.TrackChangesGetAllSuggestionsResponse=function(){function s(e){if(this.suggestions=[],this.suggestionsV2=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.suggestions=n.emptyArray,s.prototype.suggestionsV2=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.suggestions&&e.suggestions.length)for(var s=0;s<e.suggestions.length;++s)n.uint32(10).string(e.suggestions[s]);if(null!=e.suggestionsV2&&e.suggestionsV2.length)for(s=0;s<e.suggestionsV2.length;++s)r.SuggestionDescriptor.encode(e.suggestionsV2[s],n.uint32(18).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesGetAllSuggestionsResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.suggestions&&o.suggestions.length||(o.suggestions=[]),o.suggestions.push(t.string());break;case 2:o.suggestionsV2&&o.suggestionsV2.length||(o.suggestionsV2=[]),o.suggestionsV2.push(r.SuggestionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.suggestions&&e.hasOwnProperty("suggestions")){if(!Array.isArray(e.suggestions))return"suggestions: array expected";for(var t=0;t<e.suggestions.length;++t)if(!n.isString(e.suggestions[t]))return"suggestions: string[] expected"}if(null!=e.suggestionsV2&&e.hasOwnProperty("suggestionsV2")){if(!Array.isArray(e.suggestionsV2))return"suggestionsV2: array expected";for(t=0;t<e.suggestionsV2.length;++t){var s=r.SuggestionDescriptor.verify(e.suggestionsV2[t]);if(s)return"suggestionsV2."+s}}return null},s.fromObject=function(e){if(e instanceof r.TrackChangesGetAllSuggestionsResponse)return e;var t=new r.TrackChangesGetAllSuggestionsResponse;if(e.suggestions){if(!Array.isArray(e.suggestions))throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestions: array expected");t.suggestions=[];for(var n=0;n<e.suggestions.length;++n)t.suggestions[n]=String(e.suggestions[n])}if(e.suggestionsV2){if(!Array.isArray(e.suggestionsV2))throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestionsV2: array expected");for(t.suggestionsV2=[],n=0;n<e.suggestionsV2.length;++n){if("object"!=typeof e.suggestionsV2[n])throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestionsV2: object expected");t.suggestionsV2[n]=r.SuggestionDescriptor.fromObject(e.suggestionsV2[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.suggestions=[],n.suggestionsV2=[]),e.suggestions&&e.suggestions.length){n.suggestions=[];for(var s=0;s<e.suggestions.length;++s)n.suggestions[s]=e.suggestions[s]}if(e.suggestionsV2&&e.suggestionsV2.length)for(n.suggestionsV2=[],s=0;s<e.suggestionsV2.length;++s)n.suggestionsV2[s]=r.SuggestionDescriptor.toObject(e.suggestionsV2[s],t);return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesGetAllSuggestionsResponse"},s}(),r.TrackChangesGetSuggestionResponse=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.prototype.authorId="",s.prototype.type="",s.prototype.createdAt="",s.prototype.data="",s.prototype.hasComments=!1,s.prototype.state="",s.prototype.attributes="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),null!=e.authorId&&Object.hasOwnProperty.call(e,"authorId")&&n.uint32(18).string(e.authorId),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&n.uint32(26).string(e.type),null!=e.createdAt&&Object.hasOwnProperty.call(e,"createdAt")&&n.uint32(34).string(e.createdAt),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(42).string(e.data),null!=e.hasComments&&Object.hasOwnProperty.call(e,"hasComments")&&n.uint32(48).bool(e.hasComments),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&n.uint32(58).string(e.state),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&n.uint32(66).string(e.attributes),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.TrackChangesGetSuggestionResponse;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.id=t.string();break;case 2:o.authorId=t.string();break;case 3:o.type=t.string();break;case 4:o.createdAt=t.string();break;case 5:o.data=t.string();break;case 6:o.hasComments=t.bool();break;case 7:o.state=t.string();break;case 8:o.attributes=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null!=e.authorId&&e.hasOwnProperty("authorId")&&!n.isString(e.authorId)?"authorId: string expected":null!=e.type&&e.hasOwnProperty("type")&&!n.isString(e.type)?"type: string expected":null!=e.createdAt&&e.hasOwnProperty("createdAt")&&!n.isString(e.createdAt)?"createdAt: string expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.hasComments&&e.hasOwnProperty("hasComments")&&"boolean"!=typeof e.hasComments?"hasComments: boolean expected":null!=e.state&&e.hasOwnProperty("state")&&!n.isString(e.state)?"state: string expected":null!=e.attributes&&e.hasOwnProperty("attributes")&&!n.isString(e.attributes)?"attributes: string expected":null},s.fromObject=function(e){if(e instanceof r.TrackChangesGetSuggestionResponse)return e;var t=new r.TrackChangesGetSuggestionResponse;return null!=e.id&&(t.id=String(e.id)),null!=e.authorId&&(t.authorId=String(e.authorId)),null!=e.type&&(t.type=String(e.type)),null!=e.createdAt&&(t.createdAt=String(e.createdAt)),null!=e.data&&(t.data=String(e.data)),null!=e.hasComments&&(t.hasComments=Boolean(e.hasComments)),null!=e.state&&(t.state=String(e.state)),null!=e.attributes&&(t.attributes=String(e.attributes)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id="",n.authorId="",n.type="",n.createdAt="",n.data="",n.hasComments=!1,n.state="",n.attributes=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.authorId&&e.hasOwnProperty("authorId")&&(n.authorId=e.authorId),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.createdAt&&e.hasOwnProperty("createdAt")&&(n.createdAt=e.createdAt),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.hasComments&&e.hasOwnProperty("hasComments")&&(n.hasComments=e.hasComments),null!=e.state&&e.hasOwnProperty("state")&&(n.state=e.state),null!=e.attributes&&e.hasOwnProperty("attributes")&&(n.attributes=e.attributes),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/TrackChangesGetSuggestionResponse"},s}(),r.UserDescriptor=function(){function s(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.attributes=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.attributes&&e.attributes.length)for(var s=0;s<e.attributes.length;++s)r.KeyValueDescriptor.encode(e.attributes[s],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.UserDescriptor;t.pos<s;){var i=t.uint32();i>>>3==1?(o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(r.KeyValueDescriptor.decode(t,t.uint32()))):t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var n=r.KeyValueDescriptor.verify(e.attributes[t]);if(n)return"attributes."+n}}return null},s.fromObject=function(e){if(e instanceof r.UserDescriptor)return e;var t=new r.UserDescriptor;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".UserDescriptor.attributes: array expected");t.attributes=[];for(var n=0;n<e.attributes.length;++n){if("object"!=typeof e.attributes[n])throw TypeError(".UserDescriptor.attributes: object expected");t.attributes[n]=r.KeyValueDescriptor.fromObject(e.attributes[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attributes=[]),e.attributes&&e.attributes.length){n.attributes=[];for(var s=0;s<e.attributes.length;++s)n.attributes[s]=r.KeyValueDescriptor.toObject(e.attributes[s],t)}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/UserDescriptor"},s}(),r.GetManyUsersMessage=function(){function s(e){if(this.ids=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.ids=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.ids&&e.ids.length)for(var r=0;r<e.ids.length;++r)n.uint32(10).string(e.ids[r]);return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.GetManyUsersMessage;t.pos<s;){var i=t.uint32();i>>>3==1?(o.ids&&o.ids.length||(o.ids=[]),o.ids.push(t.string())):t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ids&&e.hasOwnProperty("ids")){if(!Array.isArray(e.ids))return"ids: array expected";for(var t=0;t<e.ids.length;++t)if(!n.isString(e.ids[t]))return"ids: string[] expected"}return null},s.fromObject=function(e){if(e instanceof r.GetManyUsersMessage)return e;var t=new r.GetManyUsersMessage;if(e.ids){if(!Array.isArray(e.ids))throw TypeError(".GetManyUsersMessage.ids: array expected");t.ids=[];for(var n=0;n<e.ids.length;++n)t.ids[n]=String(e.ids[n])}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.ids=[]),e.ids&&e.ids.length){n.ids=[];for(var r=0;r<e.ids.length;++r)n.ids[r]=e.ids[r]}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GetManyUsersMessage"},s}(),r.GetUserMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.id="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(10).string(e.id),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.GetUserMessage;t.pos<s;){var i=t.uint32();i>>>3==1?o.id=t.string():t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isString(e.id)?"id: string expected":null},s.fromObject=function(e){if(e instanceof r.GetUserMessage)return e;var t=new r.GetUserMessage;return null!=e.id&&(t.id=String(e.id)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GetUserMessage"},s}(),r.GetManyUsersResponse=function(){function s(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.users=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.users&&e.users.length)for(var s=0;s<e.users.length;++s)r.UserDescriptor.encode(e.users[s],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.GetManyUsersResponse;t.pos<s;){var i=t.uint32();i>>>3==1?(o.users&&o.users.length||(o.users=[]),o.users.push(r.UserDescriptor.decode(t,t.uint32()))):t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.users&&e.hasOwnProperty("users")){if(!Array.isArray(e.users))return"users: array expected";for(var t=0;t<e.users.length;++t){var n=r.UserDescriptor.verify(e.users[t]);if(n)return"users."+n}}return null},s.fromObject=function(e){if(e instanceof r.GetManyUsersResponse)return e;var t=new r.GetManyUsersResponse;if(e.users){if(!Array.isArray(e.users))throw TypeError(".GetManyUsersResponse.users: array expected");t.users=[];for(var n=0;n<e.users.length;++n){if("object"!=typeof e.users[n])throw TypeError(".GetManyUsersResponse.users: object expected");t.users[n]=r.UserDescriptor.fromObject(e.users[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.users=[]),e.users&&e.users.length){n.users=[];for(var s=0;s<e.users.length;++s)n.users[s]=r.UserDescriptor.toObject(e.users[s],t)}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GetManyUsersResponse"},s}(),r.GetUserResponse=function(){function s(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.attributes=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.attributes&&e.attributes.length)for(var s=0;s<e.attributes.length;++s)r.KeyValueDescriptor.encode(e.attributes[s],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.GetUserResponse;t.pos<s;){var i=t.uint32();i>>>3==1?(o.attributes&&o.attributes.length||(o.attributes=[]),o.attributes.push(r.KeyValueDescriptor.decode(t,t.uint32()))):t.skipType(7&i)}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var n=r.KeyValueDescriptor.verify(e.attributes[t]);if(n)return"attributes."+n}}return null},s.fromObject=function(e){if(e instanceof r.GetUserResponse)return e;var t=new r.GetUserResponse;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".GetUserResponse.attributes: array expected");t.attributes=[];for(var n=0;n<e.attributes.length;++n){if("object"!=typeof e.attributes[n])throw TypeError(".GetUserResponse.attributes: object expected");t.attributes[n]=r.KeyValueDescriptor.fromObject(e.attributes[n])}}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attributes=[]),e.attributes&&e.attributes.length){n.attributes=[];for(var s=0;s<e.attributes.length;++s)n.attributes[s]=r.KeyValueDescriptor.toObject(e.attributes[s],t)}return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/GetUserResponse"},s}(),r.ChannelMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.type=0,s.prototype.socketId="",s.prototype.data=n.newBuffer([]),s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&n.uint32(8).uint32(e.type),null!=e.socketId&&Object.hasOwnProperty.call(e,"socketId")&&n.uint32(18).string(e.socketId),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(26).bytes(e.data),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.ChannelMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.type=t.uint32();break;case 2:o.socketId=t.string();break;case 3:o.data=t.bytes();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!n.isInteger(e.type)?"type: integer expected":null!=e.socketId&&e.hasOwnProperty("socketId")&&!n.isString(e.socketId)?"socketId: string expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||n.isString(e.data))?"data: buffer expected":null},s.fromObject=function(e){if(e instanceof r.ChannelMessage)return e;var t=new r.ChannelMessage;return null!=e.type&&(t.type=e.type>>>0),null!=e.socketId&&(t.socketId=String(e.socketId)),null!=e.data&&("string"==typeof e.data?n.base64.decode(e.data,t.data=n.newBuffer(n.base64.length(e.data)),0):e.data.length>=0&&(t.data=e.data)),t},s.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.type=0,r.socketId="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=n.newBuffer(r.data)))),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.socketId&&e.hasOwnProperty("socketId")&&(r.socketId=e.socketId),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?n.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),r},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/ChannelMessage"},s}(),r.BytesBytesPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data=n.newBuffer([]),s.prototype.data1=n.newBuffer([]),s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(10).bytes(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).bytes(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.BytesBytesPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.bytes();break;case 2:o.data1=t.bytes();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||n.isString(e.data))?"data: buffer expected":null!=e.data1&&e.hasOwnProperty("data1")&&!(e.data1&&"number"==typeof e.data1.length||n.isString(e.data1))?"data1: buffer expected":null},s.fromObject=function(e){if(e instanceof r.BytesBytesPacketDataMessage)return e;var t=new r.BytesBytesPacketDataMessage;return null!=e.data&&("string"==typeof e.data?n.base64.decode(e.data,t.data=n.newBuffer(n.base64.length(e.data)),0):e.data.length>=0&&(t.data=e.data)),null!=e.data1&&("string"==typeof e.data1?n.base64.decode(e.data1,t.data1=n.newBuffer(n.base64.length(e.data1)),0):e.data1.length>=0&&(t.data1=e.data1)),t},s.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=n.newBuffer(r.data))),t.bytes===String?r.data1="":(r.data1=[],t.bytes!==Array&&(r.data1=n.newBuffer(r.data1)))),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?n.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(r.data1=t.bytes===String?n.base64.encode(e.data1,0,e.data1.length):t.bytes===Array?Array.prototype.slice.call(e.data1):e.data1),r},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/BytesBytesPacketDataMessage"},s}(),r.NumberBytesPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data=0,s.prototype.data1=n.newBuffer([]),s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(8).uint32(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).bytes(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.NumberBytesPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.uint32();break;case 2:o.data1=t.bytes();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isInteger(e.data)?"data: integer expected":null!=e.data1&&e.hasOwnProperty("data1")&&!(e.data1&&"number"==typeof e.data1.length||n.isString(e.data1))?"data1: buffer expected":null},s.fromObject=function(e){if(e instanceof r.NumberBytesPacketDataMessage)return e;var t=new r.NumberBytesPacketDataMessage;return null!=e.data&&(t.data=e.data>>>0),null!=e.data1&&("string"==typeof e.data1?n.base64.decode(e.data1,t.data1=n.newBuffer(n.base64.length(e.data1)),0):e.data1.length>=0&&(t.data1=e.data1)),t},s.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.data=0,t.bytes===String?r.data1="":(r.data1=[],t.bytes!==Array&&(r.data1=n.newBuffer(r.data1)))),null!=e.data&&e.hasOwnProperty("data")&&(r.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(r.data1=t.bytes===String?n.base64.encode(e.data1,0,e.data1.length):t.bytes===Array?Array.prototype.slice.call(e.data1):e.data1),r},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/NumberBytesPacketDataMessage"},s}(),r.NumberNumberPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data=0,s.prototype.data1=0,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(8).uint32(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(16).uint32(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.NumberNumberPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.uint32();break;case 2:o.data1=t.uint32();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isInteger(e.data)?"data: integer expected":null!=e.data1&&e.hasOwnProperty("data1")&&!n.isInteger(e.data1)?"data1: integer expected":null},s.fromObject=function(e){if(e instanceof r.NumberNumberPacketDataMessage)return e;var t=new r.NumberNumberPacketDataMessage;return null!=e.data&&(t.data=e.data>>>0),null!=e.data1&&(t.data1=e.data1>>>0),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.data=0,n.data1=0),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(n.data1=e.data1),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/NumberNumberPacketDataMessage"},s}(),r.NumberObjectPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data=0,s.prototype.data1="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(8).uint32(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).string(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.NumberObjectPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.uint32();break;case 2:o.data1=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isInteger(e.data)?"data: integer expected":null!=e.data1&&e.hasOwnProperty("data1")&&!n.isString(e.data1)?"data1: string expected":null},s.fromObject=function(e){if(e instanceof r.NumberObjectPacketDataMessage)return e;var t=new r.NumberObjectPacketDataMessage;return null!=e.data&&(t.data=e.data>>>0),null!=e.data1&&(t.data1=String(e.data1)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.data=0,n.data1=""),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(n.data1=e.data1),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/NumberObjectPacketDataMessage"},s}(),r.NumberStringPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data=0,s.prototype.data1="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(8).uint32(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).string(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.NumberStringPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.uint32();break;case 2:o.data1=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isInteger(e.data)?"data: integer expected":null!=e.data1&&e.hasOwnProperty("data1")&&!n.isString(e.data1)?"data1: string expected":null},s.fromObject=function(e){if(e instanceof r.NumberStringPacketDataMessage)return e;var t=new r.NumberStringPacketDataMessage;return null!=e.data&&(t.data=e.data>>>0),null!=e.data1&&(t.data1=String(e.data1)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.data=0,n.data1=""),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(n.data1=e.data1),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/NumberStringPacketDataMessage"},s}(),r.ObjectBufferPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data="",s.prototype.data1=n.newBuffer([]),s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(10).string(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).bytes(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.ObjectBufferPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.string();break;case 2:o.data1=t.bytes();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.data1&&e.hasOwnProperty("data1")&&!(e.data1&&"number"==typeof e.data1.length||n.isString(e.data1))?"data1: buffer expected":null},s.fromObject=function(e){if(e instanceof r.ObjectBufferPacketDataMessage)return e;var t=new r.ObjectBufferPacketDataMessage;return null!=e.data&&(t.data=String(e.data)),null!=e.data1&&("string"==typeof e.data1?n.base64.decode(e.data1,t.data1=n.newBuffer(n.base64.length(e.data1)),0):e.data1.length>=0&&(t.data1=e.data1)),t},s.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.data="",t.bytes===String?r.data1="":(r.data1=[],t.bytes!==Array&&(r.data1=n.newBuffer(r.data1)))),null!=e.data&&e.hasOwnProperty("data")&&(r.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(r.data1=t.bytes===String?n.base64.encode(e.data1,0,e.data1.length):t.bytes===Array?Array.prototype.slice.call(e.data1):e.data1),r},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/ObjectBufferPacketDataMessage"},s}(),r.ObjectObjectPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data="",s.prototype.data1="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(10).string(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).string(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.ObjectObjectPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.string();break;case 2:o.data1=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.data1&&e.hasOwnProperty("data1")&&!n.isString(e.data1)?"data1: string expected":null},s.fromObject=function(e){if(e instanceof r.ObjectObjectPacketDataMessage)return e;var t=new r.ObjectObjectPacketDataMessage;return null!=e.data&&(t.data=String(e.data)),null!=e.data1&&(t.data1=String(e.data1)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.data="",n.data1=""),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(n.data1=e.data1),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/ObjectObjectPacketDataMessage"},s}(),r.PacketMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.type=0,s.prototype.id=0,s.prototype.nsp="",s.prototype.data=n.newBuffer([]),s.prototype.options=n.newBuffer([]),s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&n.uint32(8).uint32(e.type),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&n.uint32(16).uint32(e.id),null!=e.nsp&&Object.hasOwnProperty.call(e,"nsp")&&n.uint32(26).string(e.nsp),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(34).bytes(e.data),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&n.uint32(42).bytes(e.options),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.PacketMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.type=t.uint32();break;case 2:o.id=t.uint32();break;case 3:o.nsp=t.string();break;case 4:o.data=t.bytes();break;case 5:o.options=t.bytes();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!n.isInteger(e.type)?"type: integer expected":null!=e.id&&e.hasOwnProperty("id")&&!n.isInteger(e.id)?"id: integer expected":null!=e.nsp&&e.hasOwnProperty("nsp")&&!n.isString(e.nsp)?"nsp: string expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||n.isString(e.data))?"data: buffer expected":null!=e.options&&e.hasOwnProperty("options")&&!(e.options&&"number"==typeof e.options.length||n.isString(e.options))?"options: buffer expected":null},s.fromObject=function(e){if(e instanceof r.PacketMessage)return e;var t=new r.PacketMessage;return null!=e.type&&(t.type=e.type>>>0),null!=e.id&&(t.id=e.id>>>0),null!=e.nsp&&(t.nsp=String(e.nsp)),null!=e.data&&("string"==typeof e.data?n.base64.decode(e.data,t.data=n.newBuffer(n.base64.length(e.data)),0):e.data.length>=0&&(t.data=e.data)),null!=e.options&&("string"==typeof e.options?n.base64.decode(e.options,t.options=n.newBuffer(n.base64.length(e.options)),0):e.options.length>=0&&(t.options=e.options)),t},s.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.type=0,r.id=0,r.nsp="",t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=n.newBuffer(r.data))),t.bytes===String?r.options="":(r.options=[],t.bytes!==Array&&(r.options=n.newBuffer(r.options)))),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.id&&e.hasOwnProperty("id")&&(r.id=e.id),null!=e.nsp&&e.hasOwnProperty("nsp")&&(r.nsp=e.nsp),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?n.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.options&&e.hasOwnProperty("options")&&(r.options=t.bytes===String?n.base64.encode(e.options,0,e.options.length):t.bytes===Array?Array.prototype.slice.call(e.options):e.options),r},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/PacketMessage"},s}(),r.PacketOptionsMessage=function(){function s(e){if(this.rooms=[],this.except=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.flags="",s.prototype.rooms=n.emptyArray,s.prototype.except=n.emptyArray,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(10).string(e.flags),null!=e.rooms&&e.rooms.length)for(var r=0;r<e.rooms.length;++r)n.uint32(18).string(e.rooms[r]);if(null!=e.except&&e.except.length)for(r=0;r<e.except.length;++r)n.uint32(26).string(e.except[r]);return n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.PacketOptionsMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.flags=t.string();break;case 2:o.rooms&&o.rooms.length||(o.rooms=[]),o.rooms.push(t.string());break;case 3:o.except&&o.except.length||(o.except=[]),o.except.push(t.string());break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.flags&&e.hasOwnProperty("flags")&&!n.isString(e.flags))return"flags: string expected";if(null!=e.rooms&&e.hasOwnProperty("rooms")){if(!Array.isArray(e.rooms))return"rooms: array expected";for(var t=0;t<e.rooms.length;++t)if(!n.isString(e.rooms[t]))return"rooms: string[] expected"}if(null!=e.except&&e.hasOwnProperty("except")){if(!Array.isArray(e.except))return"except: array expected";for(t=0;t<e.except.length;++t)if(!n.isString(e.except[t]))return"except: string[] expected"}return null},s.fromObject=function(e){if(e instanceof r.PacketOptionsMessage)return e;var t=new r.PacketOptionsMessage;if(null!=e.flags&&(t.flags=String(e.flags)),e.rooms){if(!Array.isArray(e.rooms))throw TypeError(".PacketOptionsMessage.rooms: array expected");t.rooms=[];for(var n=0;n<e.rooms.length;++n)t.rooms[n]=String(e.rooms[n])}if(e.except){if(!Array.isArray(e.except))throw TypeError(".PacketOptionsMessage.except: array expected");for(t.except=[],n=0;n<e.except.length;++n)t.except[n]=String(e.except[n])}return t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rooms=[],n.except=[]),t.defaults&&(n.flags=""),null!=e.flags&&e.hasOwnProperty("flags")&&(n.flags=e.flags),e.rooms&&e.rooms.length){n.rooms=[];for(var r=0;r<e.rooms.length;++r)n.rooms[r]=e.rooms[r]}if(e.except&&e.except.length)for(n.except=[],r=0;r<e.except.length;++r)n.except[r]=e.except[r];return n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/PacketOptionsMessage"},s}(),r.StringBytesPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data="",s.prototype.data1=n.newBuffer([]),s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(10).string(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).bytes(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.StringBytesPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.string();break;case 2:o.data1=t.bytes();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.data1&&e.hasOwnProperty("data1")&&!(e.data1&&"number"==typeof e.data1.length||n.isString(e.data1))?"data1: buffer expected":null},s.fromObject=function(e){if(e instanceof r.StringBytesPacketDataMessage)return e;var t=new r.StringBytesPacketDataMessage;return null!=e.data&&(t.data=String(e.data)),null!=e.data1&&("string"==typeof e.data1?n.base64.decode(e.data1,t.data1=n.newBuffer(n.base64.length(e.data1)),0):e.data1.length>=0&&(t.data1=e.data1)),t},s.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.data="",t.bytes===String?r.data1="":(r.data1=[],t.bytes!==Array&&(r.data1=n.newBuffer(r.data1)))),null!=e.data&&e.hasOwnProperty("data")&&(r.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(r.data1=t.bytes===String?n.base64.encode(e.data1,0,e.data1.length):t.bytes===Array?Array.prototype.slice.call(e.data1):e.data1),r},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/StringBytesPacketDataMessage"},s}(),r.StringNumberPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data="",s.prototype.data1=0,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(10).string(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(16).uint32(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.StringNumberPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.string();break;case 2:o.data1=t.uint32();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.data1&&e.hasOwnProperty("data1")&&!n.isInteger(e.data1)?"data1: integer expected":null},s.fromObject=function(e){if(e instanceof r.StringNumberPacketDataMessage)return e;var t=new r.StringNumberPacketDataMessage;return null!=e.data&&(t.data=String(e.data)),null!=e.data1&&(t.data1=e.data1>>>0),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.data="",n.data1=0),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(n.data1=e.data1),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/StringNumberPacketDataMessage"},s}(),r.StringObjectPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data="",s.prototype.data1="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(10).string(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).string(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.StringObjectPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.string();break;case 2:o.data1=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.data1&&e.hasOwnProperty("data1")&&!n.isString(e.data1)?"data1: string expected":null},s.fromObject=function(e){if(e instanceof r.StringObjectPacketDataMessage)return e;var t=new r.StringObjectPacketDataMessage;return null!=e.data&&(t.data=String(e.data)),null!=e.data1&&(t.data1=String(e.data1)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.data="",n.data1=""),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(n.data1=e.data1),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/StringObjectPacketDataMessage"},s}(),r.StringStringPacketDataMessage=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.data="",s.prototype.data1="",s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(10).string(e.data),null!=e.data1&&Object.hasOwnProperty.call(e,"data1")&&n.uint32(18).string(e.data1),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.StringStringPacketDataMessage;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.data=t.string();break;case 2:o.data1=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data)?"data: string expected":null!=e.data1&&e.hasOwnProperty("data1")&&!n.isString(e.data1)?"data1: string expected":null},s.fromObject=function(e){if(e instanceof r.StringStringPacketDataMessage)return e;var t=new r.StringStringPacketDataMessage;return null!=e.data&&(t.data=String(e.data)),null!=e.data1&&(t.data1=String(e.data1)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.data="",n.data1=""),null!=e.data&&e.hasOwnProperty("data")&&(n.data=e.data),null!=e.data1&&e.hasOwnProperty("data1")&&(n.data1=e.data1),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/StringStringPacketDataMessage"},s}(),r})();class f{static decode(e,t){const n=m(t).decode("undefined"==typeof window?e:new Uint8Array(e));return t.fromJSON({...n})}static encode(e){const t=m(e.constructor),n=e.toJSON(),r=t.verify(n);if(r)throw Error(r);return t.encode(t.create(n)).finish()}}function m(e){return h[e.DESCRIPTOR_NAME]}class y extends a{constructor(e){super(),this.ids=e}toJSON(){return{ids:this.ids}}static fromJSON(e){return new y(e.ids)}}y.TYPE="22",y.READABLE_TYPE_NAME="getManyUsers",y.DESCRIPTOR_NAME="GetManyUsersMessage",y.DESCRIPTOR={fields:{ids:{id:1,type:"string",rule:"repeated"}}};const g=y;class b extends a{constructor(e){super(),this.users=e}toJSON(){return{users:this.users.map(w)}}static fromJSON(e){return new b(e.users.map(v))}}b.DESCRIPTOR_NAME="GetManyUsersResponse",b.DESCRIPTOR={fields:{users:{rule:"repeated",type:"UserDescriptor",id:1}}};const O=b;function w(e){return{attributes:Object.keys(e).map((t=>({key:t,value:JSON.stringify(e[t])})))}}function v(e){return e.attributes.reduce(((e,t)=>(e[t.key]=t.value?JSON.parse(t.value):null,e)),{})}class I{constructor(e={}){this._attributes=new Map;for(const t of Object.keys(e))"id"!==t?(this._attributes.set(t,e[t]),Object.defineProperty(this,t,{enumerable:!0,configurable:!1,get:()=>this._attributes.get(t)})):this.id=e.id}static fromData(e){return new I(e)}static async get(e,t){const n=new d(t);try{const t=await e._sendRequest(I._SERVICE,d.TYPE,f.encode(n)),r=f.decode(t,l);return new I(r.attributes)}catch(e){return new I({id:t})}}static async getMany(e,t){const n=new g(t);try{const t=await e._sendRequest(I._SERVICE,g.TYPE,f.encode(n));return f.decode(t,O).users.map((e=>new I(e)))}catch(e){return t.map((e=>new I({id:e})))}}}I._SERVICE=2;const S=I,P=Object.create(null);P.open="0",P.close="1",P.ping="2",P.pong="3",P.message="4",P.upgrade="5",P.noop="6";const k=Object.create(null);Object.keys(P).forEach((e=>{k[P[e]]=e}));const A={type:"error",data:"parser error"},_="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),T="function"==typeof ArrayBuffer,C=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,j=({type:e,data:t},n,r)=>_&&t instanceof Blob?n?r(t):E(t,r):T&&(t instanceof ArrayBuffer||C(t))?n?r(t):E(new Blob([t]),r):r(P[e]+(t||"")),E=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function D(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let x;const R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)N[R.charCodeAt(e)]=e;const V="function"==typeof ArrayBuffer,M=(e,t)=>{if("string"!=typeof e)return{type:"message",data:U(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:B(e.substring(1),t)};return k[n]?e.length>1?{type:k[n],data:e.substring(1)}:{type:k[n]}:A},B=(e,t)=>{if(V){const n=(e=>{let t,n,r,s,o,i=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const d=new ArrayBuffer(i),u=new Uint8Array(d);for(t=0;t<a;t+=4)n=N[e.charCodeAt(t)],r=N[e.charCodeAt(t+1)],s=N[e.charCodeAt(t+2)],o=N[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|s>>2,u[c++]=(3&s)<<6|63&o;return d})(e);return U(n,t)}return{base64:!0,data:e}},U=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,J=String.fromCharCode(30);function q(){return new TransformStream({transform(e,t){!function(e,t){_&&e.data instanceof Blob?e.data.arrayBuffer().then(D).then(t):T&&(e.data instanceof ArrayBuffer||C(e.data))?t(D(e.data)):j(e,!1,(e=>{x||(x=new TextEncoder),t(x.encode(e))}))}(e,(n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(n)}))}})}let G;function L(e){return e.reduce(((e,t)=>e+t.length),0)}function Y(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function z(e){if(e)return function(e){for(var t in z.prototype)e[t]=z.prototype[t];return e}(e)}z.prototype.on=z.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},z.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},z.prototype.off=z.prototype.removeListener=z.prototype.removeAllListeners=z.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},z.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t)}return this},z.prototype.emitReserved=z.prototype.emit,z.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},z.prototype.hasListeners=function(e){return!!this.listeners(e).length};const H="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function F(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const K=H.setTimeout,W=H.clearTimeout;function Q(e,t){t.useNativeTimers?(e.setTimeoutFn=K.bind(H),e.clearTimeoutFn=W.bind(H)):(e.setTimeoutFn=H.setTimeout.bind(H),e.clearTimeoutFn=H.clearTimeout.bind(H))}class $ extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class X extends z{constructor(e){super(),this.writable=!1,Q(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new $(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=M(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const Z="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ee={};let te,ne=0,re=0;function se(e){let t="";do{t=Z[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function oe(){const e=se(+new Date);return e!==te?(ne=0,te=e):e+"."+se(ne++)}for(;re<64;re++)ee[Z[re]]=re;let ie=!1;try{ie="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const ae=ie;function ce(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||ae))return new XMLHttpRequest}catch(e){}if(!t)try{return new(H[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function de(){}const ue=null!=new ce({xdomain:!1}).responseType;class le extends z{constructor(e,t){super(),Q(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=F(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new ce(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=le.requestsCount++,le.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=de,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete le.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(le.requestsCount=0,le.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",pe);else if("function"==typeof addEventListener){addEventListener("onpagehide"in H?"pagehide":"unload",pe,!1)}function pe(){for(let e in le.requests)le.requests.hasOwnProperty(e)&&le.requests[e].abort()}const he="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),fe=H.WebSocket||H.MozWebSocket,me="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const ye={websocket:class extends X{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=me?{}:F(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=me?new fe(e,t,n):t?new fe(e,t):new fe(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;j(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&he((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=oe()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!fe}},webtransport:class extends X{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){G||(G=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,a){for(n.push(i);;){if(0===r){if(L(n)<1)break;const e=Y(n,1);o=!(128&~e[0]),s=127&e[0],r=s<126?3:126===s?1:2}else if(1===r){if(L(n)<2)break;const e=Y(n,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(L(n)<8)break;const e=Y(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){a.enqueue(A);break}s=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(L(n)<s)break;const e=Y(n,s);a.enqueue(M(o?e:G.decode(e),t)),r=0}if(0===s||s>e){a.enqueue(A);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=q();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const s=()=>{n.read().then((({done:e,value:t})=>{e||(this.onPacket(t),s())})).catch((e=>{}))};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&he((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends X{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=ue&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(J),r=[];for(let e=0;e<n.length;e++){const s=M(n[e],t);if(r.push(s),"error"===s.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach(((e,o)=>{j(e,!1,(e=>{r[o]=e,++s===n&&t(r.join(J))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=oe()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new le(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},ge=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,be=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Oe(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=ge.exec(e||""),o={},i=14;for(;i--;)o[be[i]]=s[i]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o}class we extends z{constructor(e,t={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=Oe(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Oe(t.host).host),Q(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new ye[e](n)}open(){let e;if(this.opts.rememberUpgrade&&we.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;we.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;we.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function s(){n||(n=!0,d(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,s(),this.emitReserved("upgradeError",n)};function i(){o("transport closed")}function a(){o("socket closed")}function c(e){t&&e.name!==t.name&&s()}const d=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",i),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",i),this.once("close",a),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",we.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){we.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}we.protocol=4;we.protocol;const ve="function"==typeof ArrayBuffer,Ie=Object.prototype.toString,Se="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Ie.call(Blob),Pe="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Ie.call(File);function ke(e){return ve&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Se&&e instanceof Blob||Pe&&e instanceof File}function Ae(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Ae(e[t]))return!0;return!1}if(ke(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Ae(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Ae(e[t]))return!0;return!1}function _e(e){const t=[],n=e.data,r=e;return r.data=Te(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Te(e,t){if(!e)return e;if(ke(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Te(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Te(e[r],t));return n}return e}function Ce(e,t){return e.data=je(e.data,t),delete e.attachments,e}function je(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=je(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=je(e[n],t));return e}const Ee=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],De=5;var xe;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(xe||(xe={}));class Re{constructor(e){this.replacer=e}encode(e){return e.type!==xe.EVENT&&e.type!==xe.ACK||!Ae(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===xe.EVENT?xe.BINARY_EVENT:xe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==xe.BINARY_EVENT&&e.type!==xe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=_e(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Ne(e){return"[object Object]"===Object.prototype.toString.call(e)}class Ve extends z{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===xe.BINARY_EVENT;n||t.type===xe.BINARY_ACK?(t.type=n?xe.EVENT:xe.ACK,this.reconstructor=new Me(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ke(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===xe[n.type])throw new Error("unknown packet type "+n.type);if(n.type===xe.BINARY_EVENT||n.type===xe.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Ve.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case xe.CONNECT:return Ne(t);case xe.DISCONNECT:return void 0===t;case xe.CONNECT_ERROR:return"string"==typeof t||Ne(t);case xe.EVENT:case xe.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===Ee.indexOf(t[0]));case xe.ACK:case xe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Me{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Ce(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Be(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ue=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Je extends z{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Be(e,"open",this.onopen.bind(this)),Be(e,"packet",this.onpacket.bind(this)),Be(e,"error",this.onerror.bind(this)),Be(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Ue.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:xe.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(s),t.apply(this,[null,...e])}}emitWithAck(e,...t){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((r,s)=>{t.push(((e,t)=>n?e?s(e):r(t):r(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...r)=>{if(n!==this._queue[0])return;return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xe.EVENT:case xe.BINARY_EVENT:this.onevent(e);break;case xe.ACK:case xe.BINARY_ACK:this.onack(e);break;case xe.DISCONNECT:this.ondisconnect();break;case xe.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:xe.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function qe(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}qe.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},qe.prototype.reset=function(){this.attempts=0},qe.prototype.setMin=function(e){this.ms=e},qe.prototype.setMax=function(e){this.max=e},qe.prototype.setJitter=function(e){this.jitter=e};class Ge extends z{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Q(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new qe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||e;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new we(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Be(t,"open",(function(){n.onopen(),e&&e()})),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=Be(t,"error",s);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),s(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Be(e,"ping",this.onping.bind(this)),Be(e,"data",this.ondata.bind(this)),Be(e,"error",this.onerror.bind(this)),Be(e,"close",this.onclose.bind(this)),Be(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){he((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Je(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Le={};function Ye(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=Oe(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=Le[s]&&o in Le[s].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?a=new Ge(r,t):(Le[s]||(Le[s]=new Ge(r,t)),a=Le[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Ye,{Manager:Ge,Socket:Je,io:Ye,connect:Ye});var ze=__webpack_require__(835);class He extends a{constructor(e,t,n){super(),this.type=e,this.socketId=t,this.data=n}toJSON(){return{type:this.type,socketId:this.socketId,data:this.data}}static fromJSON(e){return new He(e.type,e.socketId,e.data)}}He.DESCRIPTOR_NAME="ChannelMessage",He.DESCRIPTOR={fields:{type:{type:"uint32",id:1},socketId:{type:"string",id:2},data:{type:"bytes",id:3}}};const Fe=He,Ke=class extends((0,n.EmitterMixin)()){constructor(e,t,n){super(),this._channelName=e,this._wsGateway=t,this._socket=n,this._subscribeToChannel()}remove(){this._socket.off(this._channelName)}getEventName(e,t=!1){let n="";return t&&(n+="all:"),n+="event",e&&(n+=":"+e),n}_subscribeToChannel(){this._socket.on(this._channelName,(e=>{const t=f.decode(e,Fe);this.fire(this.getEventName(t.type,!0),t.data,t.socketId),t.socketId!==this._wsGateway.socketId&&this.fire(this.getEventName(t.type),t.data,t.socketId)}))}};class We extends Error{constructor(e,t,n=null,r={}){super("cloud-services-internal-error: "+e),this.context=t,this.code=n,this.data=r,this.name="CKEditorError"}static fromPublicError(e){return new We(function(e){let t="cloud-services-error: "+e.message;return e.data&&(t+="\nError data: "+JSON.stringify(e.data)),e.explanation&&(t+="\nExplanation: "+e.explanation),e.action&&(t+="\nAction: "+e.action),e.traceId&&(t+="\nTraceId: "+e.traceId),e.code&&(t+="\nCode: "+e.code),t}(e),e)}}class Qe extends Error{constructor(e,t){super(),this.name="CKEditorCloudServicesServerError",this.stack=void 0,this.message=e,this.code=t.code,this.traceId=t.traceId,this.data=t.data}static fromPublicError(e){return new Qe(function(e){let t="cloud-services-server-error: "+e.message;return e.explanation&&(t+="\nExplanation: "+e.explanation),e.action&&(t+="\nAction: "+e.action),e.traceId&&(t+="\nTraceId: "+e.traceId),e.code&&(t+="\nCode: "+e.code),t}(e),e)}}class $e extends a{constructor(e,t=[],n=[]){super(),this.flags=e,this.rooms=t,this.except=n}toJSON(){var e,t;return{flags:this.flags?JSON.stringify(this.flags):void 0,rooms:(null===(e=this.rooms)||void 0===e?void 0:e.length)?this.rooms:void 0,except:(null===(t=this.except)||void 0===t?void 0:t.length)?this.except:void 0}}static fromJSON(e){return new $e(e.flags&&JSON.parse(e.flags),e.rooms,e.except)}}$e.TYPE=11,$e.DESCRIPTOR_NAME="PacketOptionsMessage",$e.DESCRIPTOR={fields:{flags:{type:"string",id:1},rooms:{type:"string",id:2,rule:"repeated"},except:{type:"string",id:3,rule:"repeated"}}};const Xe=$e,Ze=(()=>!("undefined"==typeof process||!process.versions||!process.versions.node))(),et=1,tt=2,nt=3,rt=4;class st{static getPacketType(...e){let t=0;for(let n=0;n<e.length;n++)t+=e[n]*Math.pow(10,e.length-n-1);return t}static getType(e){if(st.isBuffer(e))return et;const t=typeof e;return"string"===t?tt:"number"===t?nt:rt}static isBuffer(e){return Ze&&Buffer.isBuffer(e)||e instanceof ArrayBuffer||e instanceof Uint8Array||this._isBufferView(e)}static _isBufferView(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}}class ot extends a{static create(e,t){throw new TypeError("Must be implemented in a child class!")}}class it extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(e){return new it(e.data,e.data1)}static create(e,t){return new it(e,t)}}it.TYPE=(()=>st.getPacketType(nt,et))(),it.DESCRIPTOR_NAME="NumberBytesPacketDataMessage",it.DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"bytes",id:2}}};const at=it;class ct extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(e){return new ct(e.data,e.data1)}static create(e,t){return new ct(e,t)}}ct.TYPE=(()=>st.getPacketType(tt,et))(),ct.DESCRIPTOR_NAME="StringBytesPacketDataMessage",ct.DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"bytes",id:2}}};const dt=ct;class ut extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(e){return new ut(e.data,e.data1)}static create(e,t){return new ut(e,t)}}ut.TYPE=(()=>st.getPacketType(et,et))(),ut.DESCRIPTOR_NAME="BytesBytesPacketDataMessage",ut.DESCRIPTOR={fields:{data:{type:"bytes",id:1},data1:{type:"bytes",id:2}}};const lt=ut;class pt extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(e){return new pt(e.data,e.data1&&JSON.parse(e.data1))}static create(e,t){return new pt(e,t)}}pt.TYPE=(()=>st.getPacketType(tt,rt))(),pt.DESCRIPTOR_NAME="StringObjectPacketDataMessage",pt.DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};const ht=pt;class ft extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(e){return new ft(e.data,e.data1&&JSON.parse(e.data1))}static create(e,t){return new ft(e,t)}}ft.TYPE=(()=>st.getPacketType(nt,rt))(),ft.DESCRIPTOR_NAME="NumberObjectPacketDataMessage",ft.DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"string",id:2}}};const mt=ft;class yt extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data?JSON.stringify(this.data):void 0,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(e){return new yt(e.data&&JSON.parse(e.data),e.data1&&JSON.parse(e.data1))}static create(e,t){return new yt(e,t)}}yt.TYPE=(()=>st.getPacketType(rt,rt))(),yt.DESCRIPTOR_NAME="ObjectObjectPacketDataMessage",yt.DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};const gt=yt;class bt extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data?JSON.stringify(this.data):void 0,data1:this.data1}}static fromJSON(e){return new bt(e.data&&JSON.parse(e.data),e.data1)}static create(e,t){return new bt(e,t)}}bt.TYPE=(()=>st.getPacketType(rt,et))(),bt.DESCRIPTOR_NAME="ObjectBufferPacketDataMessage",bt.DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"bytes",id:2}}};const Ot=bt;class wt extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(e){return new wt(e.data,e.data1)}static create(e,t){return new wt(e,t)}}wt.TYPE=(()=>st.getPacketType(tt,tt))(),wt.DESCRIPTOR_NAME="StringStringPacketDataMessage",wt.DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};const vt=wt;class It extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(e){return new It(e.data,e.data1)}static create(e,t){return new It(e,t)}}It.TYPE=(()=>st.getPacketType(tt,nt))(),It.DESCRIPTOR_NAME="StringNumberPacketDataMessage",It.DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"uint32",id:2}}};const St=It;class Pt extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(e){return new Pt(e.data,e.data1)}static create(e,t){return new Pt(e,t)}}Pt.TYPE=(()=>st.getPacketType(nt,nt))(),Pt.DESCRIPTOR_NAME="NumberNumberPacketDataMessage",Pt.DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"uint32",id:2}}};const kt=Pt;class At extends ot{constructor(e,t){super(),this.data=e,this.data1=t}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(e){return new At(e.data,e.data1)}static create(e,t){return new At(e,t)}}At.TYPE=(()=>st.getPacketType(nt,tt))(),At.DESCRIPTOR_NAME="NumberStringPacketDataMessage",At.DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"string",id:2}}};const _t=At,Tt=(()=>[at,dt,lt,ht,mt,gt,Ot,vt,St,kt,_t].reduce(((e,t)=>(e[t.TYPE]=t,e)),{}))();class Ct extends a{constructor(e,t,n,r="/",s){super(),this.type=e,this.data=t,this.id=n,this.nsp=r,this.options=null!=s?s:new Xe}get packetData(){return void 0===this.data.data&&void 0===this.data.data1?[]:this.data.data&&void 0===this.data.data1?[this.data.data]:[this.data.data,this.data.data1]}toJSON(){const e=f.encode(this.options),t=f.encode(this.data);return{type:this.type+10*this.data.constructor.TYPE,id:this.id,nsp:"/"===this.nsp?void 0:this.nsp,data:t,options:e}}static fromJSON(e){const t=Math.floor(e.type/10);return new Ct(e.type-10*t,f.decode(e.data,Tt[t]),e.id,e.nsp,e.options?f.decode(e.options,Xe):new Xe)}static create(e,t={}){var n;const r=st.getPacketType(st.getType(e.data[0]),st.getType(null!==(n=e.data[1])&&void 0!==n?n:e.data[0]));return new Ct(e.type,Tt[r].create(e.data[0],e.data[1]),e.id,e.nsp,new Xe(t.flags,t.rooms,t.except))}}Ct.TYPE=10,Ct.DESCRIPTOR_NAME="PacketMessage",Ct.DESCRIPTOR={fields:{type:{type:"uint32",id:1},id:{type:"uint32",id:2},nsp:{type:"string",id:3},data:{type:"bytes",id:4},options:{type:"bytes",id:5}}};const jt=Ct;class Et{encode(e,t,n,r="/",s={}){if(t.length>2)throw new Error("PacketParser supports only 2 elements in data");const o={type:e,data:t,id:n,nsp:r};return f.encode(jt.create(o,s))}decode(e){const t=f.decode(e,jt);return{packet:{id:t.id,type:t.type,data:t.packetData,nsp:t.nsp},options:{flags:t.options.flags,rooms:t.options.rooms,except:t.options.except}}}}const Dt=(()=>[xe.EVENT,xe.ACK,xe.BINARY_ACK,xe.BINARY_EVENT])();class xt extends Re{constructor(e){super(),this._packetParser=null!=e?e:new Et}encode(e){if(Dt.includes(e.type))try{return[this._packetParser.encode(e.type,e.data,e.id,e.nsp)]}catch(e){console.error("Can not properly serialize or deserialize messages. Check the original error.",{originalError:{message:e.message}})}return super.encode(e)}}class Rt extends Ve{constructor(e){super(),this._packetParser=null!=e?e:new Et}add(e){if(!st.isBuffer(e))return super.add(e);let t;try{t=this._packetParser.decode(e).packet}catch(t){return super.add(e)}super.emitReserved("decoded",t)}}class Nt{constructor(e,t){this._context=e,this._deferredPromise=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return{resolve:e,reject:t,promise:n}}(),this.timeout=setTimeout((()=>this.error(new We("Request timeout.",this._context))),t)}get promise(){return this._deferredPromise.promise}response(e){this._deferredPromise.resolve(e)}error(e){this._deferredPromise.reject(e)}}class Vt{constructor(e){this._context=e,this._requests=new Set}async send(e,t=45e3){const n=this._createRequest(t);try{return e(n),await n.promise}finally{this._finishRequest(n)}}errorAll(e){for(const t of this._requests)t.error(e)}waitForAllRequests(e=45e3){return this._waitForRequests(e)}_createRequest(e){const t=new Nt(this._context,e);return this._requests.add(t),t}_finishRequest(e){this._requests.delete(e),clearTimeout(e.timeout)}async _waitForRequests(e=5e3,t=0){return!this._requests.size||t>=e/500?Promise.resolve():(await new Promise((e=>{setTimeout(e,500)})),this._waitForRequests(e,t++))}}const Mt={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected"};class Bt extends((0,n.ObservableMixin)()){constructor(e,t,n,r,s){if(super(),this._connectionAttempt=0,this._token=t,this._options=null!=n?n:{},this._connectionProvider=null!=r?r:Ye,this._userFactory=null!=s?s:S.get,this._requestsManager=new Vt(this),this._channels=new Map,!e)throw new TypeError("Api address must be provided.");if(!this._token)throw new TypeError("Token must be provided.");this._options.requestTimeout||(this._options.requestTimeout=2e4),this._url=ze(e.replace(/^(?!(?:\w+:)?\/\/)/,"https://")),this.set("state",Mt.DISCONNECTED),this.set("socketId",void 0),this.set("me",void 0),this.on("change:state",(async(e,t,n)=>{var r;if(this._debugEvent("ws-gw:change:state",n),n!==Bt.STATE_CONNECTED){if(n===Bt.STATE_DISCONNECTED)return this._requestsManager.errorAll(new We("Not connected.",this))}else try{this.me=await this._userFactory.call(S,this,null===(r=this._socketAuth)||void 0===r?void 0:r.userId)}catch(e){}}),{priority:Bt._CHANGE_STATE_EVENT_PRIORITY}),this.on("error",((e,t)=>{this._options.onError?this._options.onError(t):console.error(t)}))}get sessionId(){return this.socketId}waitForAllRequests(e){return this._requestsManager.waitForAllRequests(e)}disconnect(){var e;this.state!==Mt.DISCONNECTED&&(null===(e=this._socket)||void 0===e||e.disconnect(),this._socket=void 0,this.state=Mt.DISCONNECTED)}async reconnect(){this._socket||this.state!==Mt.DISCONNECTED||(await this._token.refreshToken(),await this._connect())}static async connect(e,t="local.cs.dev:443/ws-v2",n={},r=Ye,s=S.get){const o=new Bt(t,e,n,r,s);return await o._connect(),o}_sendRequest(e,t,n){if(!e)throw new We("`serviceName` must be provided.",this);if(this.state!==Bt.STATE_CONNECTED)throw new We("Not connected.",this);if(!this._socketAuth||!this._socketAuth.isAuthenticated)throw new We("Not authenticated.",this);const r=new ArrayBuffer(n.length+2),s=new Uint8Array(r);return s[0]=e,s[1]=parseInt(t),s.set(n,2),this._emit(1,s)}_getChannel(e,t){const n=""+e+t;return!this._channels.has(n)&&this._socket&&this._channels.set(n,new Ke(n,this,this._socket)),this._channels.get(n)}_connect(){return new Promise(((e,t)=>{const n=this._setupSocket();!this.socketId&&n.io.on("reconnect_error",(()=>{this._debugEvent("reconnect_error"),this._reconnectionAttemptError(t)})),n.once("connect",(async()=>{this._debugEvent("once-connect");try{await this._onConnect(),e()}catch(e){t(e)}})),n.connect()}))}_getPortByProtocol(e){return["http:","ws:"].includes(e)?80:443}_setupSocket(){var e;if(this._socket)return this._socket;const t=this._url.port||this._getPortByProtocol(this._url.protocol),n=(this._url.protocol||"https:")+"//"+this._url.hostname+":"+t,r=this._url.pathname.match(/^\/.*\/ws/)?this._url.pathname.split("/ws")[0]:"",s=this._connectionProvider(n,{parser:{Encoder:xt,Decoder:Rt},path:r+"/ws-v2/ws",transports:["websocket"],timeout:void 0!==this._options.timeout?this._options.timeout:5e3,reconnection:void 0===this._options.autoReconnect||this._options.autoReconnect,reconnectionDelay:1e3,reconnectionDelayMax:5e3,rejectUnauthorized:void 0===this._options.rejectUnauthorized||this._options.rejectUnauthorized,query:{version:"52.6.11"},agent:null!==(e=this._options.agent)&&void 0!==e&&e,closeOnBeforeunload:!1});return this.state=Mt.CONNECTING,s.on("connect",(()=>{this._debugEvent("connect"),this.socketId=s.id})),s.on("connect_error",(e=>{this._debugEvent("connect_error",e)})),s.on("disconnect",(()=>{this._debugEvent("disconnect"),this._onDisconnect()})),s.io.on("reconnect",(async()=>{this._debugEvent("reconnect"),await this._onReconnect()})),s.io.on("reconnect_attempt",(e=>{this._debugEvent("reconnect_attempt",e),this.state=Mt.CONNECTING,this._connectionAttempt=e})),s.on("unauthorized",(e=>{this._debugEvent("unauthorized"),this._onUnauthorized(e)})),s.on("authenticationRequest",(async e=>{this._debugEvent("authenticationRequest",e.attempt),await this._onReconnect()})),this._socket=s,s}_emit(e,t){const n=this._socket;return this._requestsManager.send((r=>{n.emit(e,t,((e,t)=>{if(e)return r.error(Qe.fromPublicError(e));r.response(t)}))}),this._options.requestTimeout)}_addAuthData(e,t){this._socketAuth={environmentId:e,userId:t,isAuthenticated:!0}}_removeAuthData(){this._socketAuth=void 0}async _onConnect(){await this._authenticate(this._token.value),this.state=Mt.CONNECTED;const e=async(e,t,n)=>{this._debugEvent("token:value:change");try{await this._authenticate(n)}catch(e){}};this._token.on("change:value",e),this._socket.io.off("reconnect_error"),this.on("disconnect",(()=>{this._token.off("change:value",e)}))}async _onReconnect(){await this._token.refreshToken(),await this._onConnect()}_onDisconnect(){this.state=Mt.DISCONNECTED,this._connectionAttempt=0,this.fire("disconnect");for(const e of this._channels.values())e.remove();this._channels.clear(),void 0===this._options.autoReconnect||this._options.autoReconnect||(this._socket=void 0)}_debugEvent(e,t){if(!this._isDebugModeEnabled())return;const n=void 0!==t?", data: "+t:"";console.info((new Date).toLocaleString()+" "+e+n)}_reconnectionAttemptError(e){this._connectionAttempt>=2&&(this.disconnect(),e(We.fromPublicError({message:"The number of initial connection attempts exceeded.",explanation:"Three initial connection attempts failed. It can be caused by a slow, unstable, missing or blocked Internet connection.",action:"Please verify the stability of your Internet connection and ensure that no antivirus or firewall software blocks the Web Socket protocol connections."})))}_onUnauthorized({error:e}){this._removeAuthData(),this.fire("error",Qe.fromPublicError(e))}async _authenticate(e){try{this._debugEvent("authenticate:start");const t=await this._emit(2,{token:e});this._debugEvent("authenticate:success","envId: "+t.environmentId+", userId: "+t.userId),this._addAuthData(t.environmentId,t.userId)}catch(e){throw this._debugEvent("authenticate:error",e.message),this._removeAuthData(),e}}_isDebugModeEnabled(){var e;return!!n.global.window.localStorage&&"true"===(null!==(e=n.global.window.localStorage.getItem("csClientDebugMode"))&&void 0!==e?e:"false").toLowerCase()}}Bt.STATE_DISCONNECTED=(()=>Mt.DISCONNECTED)(),Bt.STATE_CONNECTING=(()=>Mt.CONNECTING)(),Bt.STATE_CONNECTED=(()=>Mt.CONNECTED)(),Bt._CHANGE_STATE_EVENT_PRIORITY=(()=>n.priorities.get("highest")+999999)();const Ut=Bt;class Jt extends a{constructor(e){super(),this.bundleVersion=e}toJSON(){return{bundleVersion:this.bundleVersion}}static fromJSON(e){return new Jt(e.bundleVersion)}}Jt.TYPE="131",Jt.READABLE_TYPE_NAME="isEditorBundleUploaded",Jt.DESCRIPTOR_NAME="IsEditorBundleUploadedMessage",Jt.DESCRIPTOR={fields:{bundleVersion:{type:"string",id:1}}};const qt=Jt;class Gt extends a{constructor(e){super(),this.isUploaded=e}toJSON(){return{isUploaded:this.isUploaded}}static fromJSON(e){return new Gt(e.isUploaded)}}Gt.DESCRIPTOR_NAME="IsEditorBundleUploadedResponse",Gt.DESCRIPTOR={fields:{isUploaded:{type:"bool",id:1}}};const Lt=Gt;class Yt extends((0,n.EmitterMixin)()){static async isBundleUploaded(e,t){const n=new qt(t);if(e.state!==Mt.CONNECTED)throw new We("WebSocket Gateway is not connected.",e);const r=await e._sendRequest(Yt._SERVICE,qt.TYPE,f.encode(n));return f.decode(r,Lt).isUploaded}}Yt._SERVICE=13;const zt=Yt;class Ht extends a{constructor(e,t){super(),this.documentId=e,this.revisionId=t}toJSON(){return{documentId:this.documentId,revisionId:this.revisionId}}static fromJSON(e){return new Ht(e.documentId,e.revisionId)}}Ht.TYPE="123",Ht.READABLE_TYPE_NAME="getRevision",Ht.DESCRIPTOR_NAME="RevisionHistoryGetRevisionMessage",Ht.DESCRIPTOR={fields:{documentId:{type:"string",id:1},revisionId:{type:"string",id:2}}};const Ft=Ht;class Kt extends o{static create(e){return{revisionId:e.id,name:e.name,creatorId:e.creatorId,createdAt:e.createdAt,fromVersion:e.fromVersion,toVersion:e.toVersion,isEmptyCurrent:e.isEmptyCurrent,diffData:e.diffData?JSON.stringify(e.diffData):void 0,attributes:e.attributes,authorsIds:e.authorsIds}}static toJSON(e){var t;return{revisionId:e.revisionId,name:e.name,creatorId:e.creatorId,authorsIds:e.authorsIds?JSON.stringify(e.authorsIds):void 0,diffData:e.diffData,createdAt:null===(t=e.createdAt)||void 0===t?void 0:t.toISOString(),attributes:e.attributes?JSON.stringify(e.attributes):void 0,toVersion:e.toVersion,fromVersion:e.fromVersion,isEmptyCurrent:e.isEmptyCurrent}}static fromJSON(e){return{revisionId:(e={...e}).revisionId,name:e.name,creatorId:e.creatorId,authorsIds:e.authorsIds?JSON.parse(e.authorsIds):void 0,diffData:e.diffData,createdAt:e.createdAt?new Date(e.createdAt):void 0,attributes:e.attributes?JSON.parse(e.attributes):void 0,toVersion:e.toVersion,fromVersion:e.fromVersion,isEmptyCurrent:e.isEmptyCurrent}}static toObject(e){return function(e){for(const[t,n]of Object.entries(e))void 0===n&&delete e[t];return e}({id:e.revisionId,name:e.name,creatorId:e.creatorId,createdAt:e.createdAt,fromVersion:e.fromVersion,toVersion:e.toVersion,isEmptyCurrent:e.isEmptyCurrent,diffData:e.diffData?JSON.parse(e.diffData):void 0,attributes:e.attributes,authorsIds:e.authorsIds})}}Kt.DESCRIPTOR_NAME="RevisionDescriptor",Kt.DESCRIPTOR={fields:{revisionId:{type:"string",id:1},name:{type:"string",id:2},creatorId:{type:"string",id:3},authorsIds:{type:"string",id:4},diffData:{type:"string",id:5},createdAt:{type:"string",id:6},attributes:{type:"string",id:7},toVersion:{type:"uint32",id:8},fromVersion:{type:"uint32",id:9},isEmptyCurrent:{type:"bool",id:10}}};const Wt=Kt;class Qt extends a{constructor(e,t,n,r,s,o,i,a,c,d){super(),this.revisionId=e,this.name=t,this.creatorId=n,this.authorsIds=r,this.createdAt=s,this.diffData=o,this.attributes=i,this.fromVersion=a,this.toVersion=c,this.isEmptyCurrent=d}toJSON(){return Wt.toJSON(this)}toObject(){return Wt.toObject(this)}static create(e){return new Qt(e.revisionId,e.name,e.creatorId,e.authorsIds,e.createdAt,e.diffData,e.attributes,e.fromVersion,e.toVersion,e.isEmptyCurrent)}static fromJSON(e){return new Qt(e.revisionId,e.name,e.creatorId,e.authorsIds?JSON.parse(e.authorsIds):void 0,e.createdAt?new Date(e.createdAt):void 0,e.diffData,e.attributes?JSON.parse(e.attributes):void 0,e.fromVersion,e.toVersion,e.isEmptyCurrent)}}Qt.DESCRIPTOR_NAME="RevisionHistoryGetRevisionResponse",Qt.DESCRIPTOR=Wt.DESCRIPTOR;const $t=Qt;class Xt extends a{constructor(e,t,n){super(),this.documentId=e,this.requestId=t,this.revisions=n}toJSON(){return{documentId:this.documentId,requestId:this.requestId,revisions:this.revisions.map(Wt.toJSON)}}toObject(){return{documentId:this.documentId,requestId:this.requestId,revisions:this.revisions.map(Wt.toObject)}}static create(e){return new Xt(e.documentId,e.requestId,e.revisions.map(Wt.create))}static fromJSON(e){return new Xt(e.documentId,e.requestId,e.revisions.map(Wt.fromJSON))}}Xt.TYPE="124",Xt.READABLE_TYPE_NAME="updateRevisions",Xt.DESCRIPTOR_NAME="RevisionHistoryUpdateRevisionsMessage",Xt.DESCRIPTOR={fields:{documentId:{type:"string",id:1},requestId:{type:"uint32",id:2},revisions:{type:"RevisionDescriptor",id:3,rule:"repeated"}}};const Zt=Xt;class en extends a{constructor(e){super(),this.requestId=e}toJSON(){return{requestId:this.requestId}}static fromJSON(e){return new en(e.requestId)}}en.DESCRIPTOR_NAME="RevisionHistoryUpdateRevisionsResponse",en.DESCRIPTOR={fields:{requestId:{type:"uint32",id:1}}};const tn=en;class nn extends a{constructor(e){super(),this.documentId=e}toJSON(){return{documentId:this.documentId}}static fromJSON(e){return new nn(e.documentId)}}nn.TYPE="121",nn.READABLE_TYPE_NAME="connectToRevisionHistory",nn.DESCRIPTOR_NAME="RevisionHistoryConnectMessage",nn.DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};const rn=nn;class sn extends a{constructor(e,t,n){super(),this.channel=e,this.requestId=t,this.revisions=n}toJSON(){return{channel:this.channel,requestId:this.requestId,revisions:this.revisions.map(Wt.toJSON)}}toObject(){return{channel:this.channel,requestId:this.requestId,revisions:this.revisions.map(Wt.toObject)}}static fromJSON(e){return new sn(e.channel,e.requestId,e.revisions.map(Wt.fromJSON))}}sn.DESCRIPTOR_NAME="RevisionHistoryConnectResponse",sn.DESCRIPTOR={fields:{channel:{type:"string",id:1},requestId:{type:"uint32",id:2},revisions:{type:"RevisionDescriptor",id:3,rule:"repeated"}}};const on=sn;class an extends a{constructor(e,t){super(),this.documentId=e,this.requestId=t}toJSON(){return{documentId:this.documentId,requestId:this.requestId}}static fromJSON(e){return new an(e.documentId,e.requestId)}}an.TYPE="122",an.READABLE_TYPE_NAME="reconnectToRevisionHistory",an.DESCRIPTOR_NAME="RevisionHistoryReconnectMessage",an.DESCRIPTOR={fields:{documentId:{type:"string",id:1},requestId:{type:"uint32",id:2}}};const cn=an;class dn extends We{constructor(e,t){super(e+" Service is not connected.",t)}}class un extends((0,n.EmitterMixin)()){constructor(e){super(),this._documentId=e,this._isConnected=!1}get isConnected(){return this._isConnected}connect(e){return this._isConnected?Promise.resolve():this._connect(e,new rn(this._documentId))}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this.fire("disconnected"),this.stopListening())}reconnect(e,t){if(this.isConnected)throw new We("Cannot reconnect to already connected service.",e);return this._connect(e,new cn(this._documentId,t))}async updateRevisions(e,t){const n=Zt.create({documentId:this._documentId,requestId:t,revisions:e}),r=await this._sendRequest(Zt.TYPE,n),{requestId:s}=f.decode(r,tn);return s}async getRevision(e){const t=new Ft(this._documentId,e),n=await this._sendRequest(Ft.TYPE,t);return f.decode(n,$t).toObject()}async _connect(e,t){if(e.state!==Mt.CONNECTED)throw new We("WebSocket Gateway is not connected.",e);this._wsGateway=e,this.stopListening(e,"change:state");const n=await e._sendRequest(12,t.constructor.TYPE,f.encode(t)),{channel:r,requestId:s,revisions:o}=f.decode(n,on).toObject();return this.listenTo(e,"change:state",((e,t,n)=>this._onWsGatewayStateChange(n)),{priority:Ut._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(e,r),this._isConnected=!0,this.fire("connected"),{revisions:o,requestId:s}}_connectToChannel(e,t){this._channel=e._getChannel(un._SERVICE,t),this._channel&&this.listenTo(this._channel,this._channel.getEventName(Zt.TYPE),((e,t)=>{const{documentId:n,requestId:r,revisions:s}=f.decode(t,Zt).toObject();this.fire("revisionsUpdated",{documentId:n,requestId:r,revisionsData:s})}))}_onWsGatewayStateChange(e){e===Mt.DISCONNECTED&&this.disconnect()}_sendRequest(e,t){if(!this._wsGateway||!this._isConnected)throw new dn("Revision History",this);return this._wsGateway._sendRequest(12,e,f.encode(t))}}un._SERVICE=12;const ln=un;class pn extends a{constructor(e,t,n,r={},s=null,o=null){super(),this.id=e,this.documentId=t,this.type=n,this.data=r,this.originalSuggestionId=s,this.attributes=o}toJSON(){return{id:this.id,documentId:this.documentId,type:this.type,data:JSON.stringify(this.data),originalSuggestionId:this.originalSuggestionId,attributes:JSON.stringify(this.attributes)}}static fromJSON(e){var t;return new pn(e.id,e.documentId,e.type,JSON.parse(e.data),null!==(t=e.originalSuggestionId)&&void 0!==t?t:null,e.attributes?JSON.parse(e.attributes):null)}}pn.TYPE="101",pn.READABLE_TYPE_NAME="addSuggestion",pn.DESCRIPTOR_NAME="TrackChangesAddSuggestionMessage",pn.DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2},type:{type:"string",id:3},data:{type:"string",id:4},originalSuggestionId:{type:"string",id:5},attributes:{type:"string",id:6}}};const hn=pn;class fn extends a{constructor(e,t,n,r,s,o,i={},a=null){super(),this.id=e,this.authorId=t,this.type=n,this.hasComments=s,this.state=o,this.data=i,this.attributes=a,this.createdAt=r?new Date(r):void 0}toJSON(){var e;return{id:this.id,authorId:this.authorId,type:this.type,createdAt:null===(e=this.createdAt)||void 0===e?void 0:e.toISOString(),data:JSON.stringify(this.data),hasComments:this.hasComments,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(e){return new fn(e.id,e.authorId,e.type,e.createdAt,e.hasComments,e.state,JSON.parse(e.data),e.attributes?JSON.parse(e.attributes):null)}}fn.DESCRIPTOR_NAME="TrackChangesAddSuggestionResponse",fn.DESCRIPTOR={fields:{id:{type:"string",id:1},authorId:{type:"string",id:2},type:{type:"string",id:3},createdAt:{type:"string",id:4},data:{type:"string",id:5},hasComments:{type:"bool",id:6},state:{type:"string",id:7},attributes:{type:"string",id:8}}};const mn=fn;class yn extends a{constructor(e,t){super(),this.id=e,this.documentId=t}toJSON(){return{id:this.id,documentId:this.documentId}}static fromJSON(e){return new yn(e.id,e.documentId)}}yn.TYPE="103",yn.READABLE_TYPE_NAME="getSuggestion",yn.DESCRIPTOR_NAME="TrackChangesGetSuggestionMessage",yn.DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2}}};const gn=yn;class bn extends a{constructor(e,t,n,r,s,o,i={},a=null){super(),this.id=e,this.authorId=t,this.type=n,this.hasComments=s,this.state=o,this.data=i,this.attributes=a,this.createdAt=new Date(r)}toJSON(){return{id:this.id,authorId:this.authorId,type:this.type,createdAt:this.createdAt.toISOString(),data:JSON.stringify(this.data),hasComments:this.hasComments,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(e){return new bn(e.id,e.authorId,e.type,e.createdAt,e.hasComments,e.state,JSON.parse(e.data),e.attributes?JSON.parse(e.attributes):null)}}bn.DESCRIPTOR_NAME="TrackChangesGetSuggestionResponse",bn.DESCRIPTOR={fields:{id:{type:"string",id:1},authorId:{type:"string",id:2},type:{type:"string",id:3},createdAt:{type:"string",id:4},data:{type:"string",id:5},hasComments:{type:"bool",id:6},state:{type:"string",id:7},attributes:{type:"string",id:8}}};const On=bn;class wn extends a{constructor(e){super(),this.documentId=e}toJSON(){return{documentId:this.documentId}}static fromJSON(e){return new wn(e.documentId)}}wn.TYPE="102",wn.READABLE_TYPE_NAME="getAllSuggestions",wn.DESCRIPTOR_NAME="TrackChangesGetAllSuggestionMessage",wn.DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};const vn=wn;class In extends o{static toJSON(e){var t;return{...e,data:e.data?JSON.stringify(e.data):e.data,attributes:e.attributes?JSON.stringify(e.attributes):e.attributes,createdAt:null===(t=e.createdAt)||void 0===t?void 0:t.toISOString()}}static fromJSON(e){return{...e,data:e.data?JSON.parse(e.data):e.data,attributes:e.attributes?JSON.parse(e.attributes):e.attributes,createdAt:e.createdAt?new Date(e.createdAt):void 0}}}In.DESCRIPTOR_NAME="SuggestionDescriptor",In.DESCRIPTOR={fields:{id:{id:1,type:"string"},authorId:{id:2,type:"string"},type:{id:3,type:"string"},createdAt:{id:4,type:"string"},data:{id:5,type:"string"},hasComments:{id:6,type:"bool"},state:{id:7,type:"string"},attributes:{id:8,type:"string"}}};const Sn=In;class Pn extends a{constructor(e,t){super(),this._suggestions=e,this._suggestionsV2=t,this.suggestions=(null==t?void 0:t.length)?t:e}toJSON(){var e,t;return{suggestions:null===(e=this._suggestions)||void 0===e?void 0:e.map((e=>JSON.stringify(e))),suggestionsV2:null===(t=this._suggestionsV2)||void 0===t?void 0:t.map(Sn.toJSON)}}static fromJSON(e){var t,n;return new Pn(null===(t=e.suggestions)||void 0===t?void 0:t.map(An),null===(n=e.suggestionsV2)||void 0===n?void 0:n.map(Sn.fromJSON))}}Pn.DESCRIPTOR_NAME="TrackChangesGetAllSuggestionsResponse",Pn.DESCRIPTOR={fields:{suggestions:{type:"string",rule:"repeated",id:1},suggestionsV2:{type:"SuggestionDescriptor",rule:"repeated",id:2}}};const kn=Pn;function An(e){const t=JSON.parse(e);return t.createdAt=t.createdAt?new Date(t.createdAt):void 0,t}class _n extends a{constructor(e,t,n,r,s,o=null){super(),this.id=e,this.documentId=t,this.hasComments=n,this.isHasCommentsModified=r,this.state=s,this.attributes=o}toJSON(){return{id:this.id,documentId:this.documentId,hasComments:this.hasComments,isHasCommentsModified:this.isHasCommentsModified,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(e){return new _n(e.id,e.documentId,e.hasComments,e.isHasCommentsModified,e.state,e.attributes?JSON.parse(e.attributes):null)}}_n.TYPE="104",_n.READABLE_TYPE_NAME="updateSuggestion",_n.DESCRIPTOR_NAME="TrackChangesUpdateSuggestionMessage",_n.DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2},hasComments:{type:"bool",id:3},isHasCommentsModified:{type:"bool",id:4},state:{type:"string",id:5},attributes:{type:"string",id:6}}};const Tn=_n;class Cn extends a{constructor(e){super(),this.documentId=e}toJSON(){return{documentId:this.documentId}}static fromJSON(e){return new Cn(e.documentId)}}Cn.TYPE="105",Cn.READABLE_TYPE_NAME="connectToSuggestions",Cn.DESCRIPTOR_NAME="TrackChangesConnectMessage",Cn.DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};const jn=Cn;class En extends a{constructor(e,t,n){super(),this.channel=e,this._suggestions=t,this._suggestionsV2=n,this.suggestions=(null==n?void 0:n.length)?n:t}toJSON(){var e,t;return{channel:this.channel,suggestions:null===(e=this._suggestions)||void 0===e?void 0:e.map((e=>JSON.stringify(e))),suggestionsV2:null===(t=this._suggestionsV2)||void 0===t?void 0:t.map(Sn.toJSON)}}static fromJSON(e){var t,n;return new En(e.channel,null===(t=e.suggestions)||void 0===t?void 0:t.map((e=>JSON.parse(e))),null===(n=e.suggestionsV2)||void 0===n?void 0:n.map(Sn.fromJSON))}}En.DESCRIPTOR_NAME="TrackChangesConnectResponse",En.DESCRIPTOR={fields:{channel:{type:"string",id:1},suggestions:{type:"string",rule:"repeated",id:2},suggestionsV2:{type:"SuggestionDescriptor",rule:"repeated",id:3}}};const Dn=En;class xn extends a{constructor(e,t,n){super(),this.ids=e,this.documentId=t,this.state=n}toJSON(){return{ids:this.ids,documentId:this.documentId,state:this.state}}static fromJSON(e){return new xn(e.ids,e.documentId,e.state)}}xn.TYPE="106",xn.READABLE_TYPE_NAME="batchUpdateSuggestionsState",xn.DESCRIPTOR_NAME="TrackChangesBatchUpdateSuggestionsStateMessage",xn.DESCRIPTOR={fields:{ids:{type:"string",rule:"repeated",id:1},documentId:{type:"string",id:2},state:{type:"string",id:3}}};const Rn=xn;class Nn extends((0,n.EmitterMixin)()){constructor(e){super(),this._documentId=e,this._isConnected=!1}get isConnected(){return this._isConnected}async connect(e){if(this._isConnected)return;if(e.state!==Mt.CONNECTED)throw new We("WebSocket Gateway is not connected.",e);const t=new jn(this._documentId);this._wsGateway=e,this.stopListening(e,"change:state");const n=await e._sendRequest(10,jn.TYPE,f.encode(t)),r=f.decode(n,Dn);return this.listenTo(e,"change:state",((e,t,n)=>this._onWsGatewayStateChange(n)),{priority:Ut._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(e,r.channel),this._isConnected=!0,this.fire("connected"),r.suggestions}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this.fire("disconnected"),this.stopListening())}async add(e,t,n,r=null,s){const o=new hn(e,this._documentId,t,n,r,s),i=await this._sendRequest(hn.TYPE,o);return f.decode(i,mn)}async get(e,t=1){const n=new gn(e,this._documentId);try{const e=await this._sendRequest(gn.TYPE,n);return f.decode(e,On)}catch(n){if("CKEditorCloudServicesServerError"===n.name&&"404"===n.code&&t<5)return await(r=100*t,new Promise((e=>{setTimeout(e,r)}))),this.get(e,t+1);if("CKEditorCloudServicesServerError"===n.name)throw n;throw Qe.fromPublicError(n)}var r}async getAll(){const e=new vn(this._documentId),t=await this._sendRequest(vn.TYPE,e),{suggestions:n}=f.decode(t,kn);return n}async update(e,t={}){const{hasComments:n,state:r,attributes:s}=t,o=void 0!==n,i=new Tn(e,this._documentId,n,o,r,s);await this._sendRequest(Tn.TYPE,i)}async batchUpdateState(e){const t=new Rn(e.ids,this._documentId,e.state);await this._sendRequest(Rn.TYPE,t)}_connectToChannel(e,t){this._channel=e._getChannel(Nn._SERVICE,t),this._channel&&this.listenTo(this._channel,this._channel.getEventName(Tn.TYPE),((e,t)=>{const n=f.decode(t,Tn);this.fire("suggestionUpdated",n)}))}_onWsGatewayStateChange(e){e===Mt.DISCONNECTED&&this.disconnect()}_sendRequest(e,t){if(!this._wsGateway||!this._isConnected)throw new dn("Track Changes",this);return this._wsGateway._sendRequest(10,e,f.encode(t))}}Nn._SERVICE=10;const Vn=Nn,Mn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Bn;const Un=new Uint8Array(16);function Jn(){if(!Bn&&(Bn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bn(Un)}const qn=[];for(let e=0;e<256;++e)qn.push((e+256).toString(16).slice(1));function Gn(e,t=0){return qn[e[t+0]]+qn[e[t+1]]+qn[e[t+2]]+qn[e[t+3]]+"-"+qn[e[t+4]]+qn[e[t+5]]+"-"+qn[e[t+6]]+qn[e[t+7]]+"-"+qn[e[t+8]]+qn[e[t+9]]+"-"+qn[e[t+10]]+qn[e[t+11]]+qn[e[t+12]]+qn[e[t+13]]+qn[e[t+14]]+qn[e[t+15]]}const Ln=function(e,t,n){if(Mn.randomUUID&&!t&&!e)return Mn.randomUUID();const r=(e=e||{}).random||(e.rng||Jn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Gn(r)};class Yn extends a{constructor(e,t=[]){super(),this.channel=e,this.sockets=t}toJSON(){return{channel:this.channel,sockets:this.sockets.map((e=>({user:e.userId,session:e.id,role:e.role,permissions:e.permissions})))}}static fromJSON(e){return new Yn(e.channel,e.sockets.map((e=>({id:e.session,userId:e.user,role:e.role,permissions:e.permissions}))))}}Yn.DESCRIPTOR_NAME="SessionsConnectResponse",Yn.DESCRIPTOR={fields:{channel:{type:"string",id:1},sockets:{rule:"repeated",type:"SessionsSocketDescriptor",id:2}}};const zn=Yn;class Hn extends a{constructor(e,t){super(),this.id=e,this.sessionType=t}toJSON(){return{id:this.id,sessionType:this.sessionType}}static fromJSON(e){return new Hn(e.id,e.sessionType)}}Hn.TYPE="31",Hn.READABLE_TYPE_NAME="getConnectedSockets",Hn.DESCRIPTOR_NAME="SessionsConnectMessage",Hn.DESCRIPTOR={fields:{id:{type:"string",id:1},sessionType:{type:"uint32",id:2}}};const Fn=Hn;class Kn extends a{constructor(e,t,n,r){super(),this.id=e,this.userId=t,this.role=n,this.permissions=r}toJSON(){var e,t,n;return{id:this.id,userId:null!==(e=this.userId)&&void 0!==e?e:void 0,role:null!==(t=this.role)&&void 0!==t?t:void 0,permissions:null!==(n=this.permissions)&&void 0!==n?n:void 0}}static fromJSON(e){return new Kn(e.id,e.userId,e.role,e.permissions)}}Kn.TYPE="32",Kn.READABLE_TYPE_NAME="connectSocket",Kn.DESCRIPTOR_NAME="SocketConnectMessage",Kn.DESCRIPTOR={fields:{id:{type:"string",id:1},userId:{type:"string",id:2},role:{type:"string",id:3},permissions:{rule:"repeated",type:"string",id:4}}};const Wn=Kn;class Qn extends a{constructor(e){super(),this.id=e}toJSON(){return{id:this.id}}static fromJSON(e){return new Qn(e.id)}}Qn.TYPE="33",Qn.READABLE_TYPE_NAME="disconnectSocket",Qn.DESCRIPTOR_NAME="SocketDisconnectMessage",Qn.DESCRIPTOR={fields:{id:{type:"string",id:1}}};const $n=Qn,Xn=class extends n.Collection{constructor(e,t){super({idProperty:"id"}),this._id=e,this._sessionType=t,this._handlers=new Map,this._eventsQueue=[],this._isRunning=!1}async connect(e){this._wsGateway=e,this.stopListening(e,"change:state");const t=new Fn(this._id,this._sessionType);let n;try{const e=await this._wsGateway._sendRequest(3,Fn.TYPE,f.encode(t));n=f.decode(e,zn)}catch(e){n=new zn(this._id,[])}this._connectToChannel(this._wsGateway,n.channel,this._sessionType);const r=await async function(e,t){const n=t.map((e=>e.userId)),r=n.length?await S.getMany(e,n):[];return t.map((e=>{const t={id:e.id,role:e.role,permissions:e.permissions};return t.user=e.userId&&r.find((t=>t.id===e.userId))||new S,t}))}(this._wsGateway,n.sockets);for(const e of r)super.add(e);this._connected=!0,this.fire("connected"),this.listenTo(this._wsGateway,"change:state",((e,t,n)=>this._onWsGatewayStateChange(n)),{priority:Ut._CHANGE_STATE_EVENT_PRIORITY}),await this._runQueue()}disconnect(e=!0){if(this._connected){for(this._connected=!1,this._eventsQueue=[];this.length;)super.remove(0);this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._wsGateway&&e&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this.fire("disconnected"),e&&this.stopListening()}}add(e,t){throw new TypeError("The collection is read-only.")}remove(e){throw new TypeError("The collection is read-only.")}_connectToChannel(e,t,n){this._channel=e._getChannel(n,t),this._channel&&(this._addHandler(this._channel,Wn.TYPE,(async t=>{const n=f.decode(t,Wn);if(-1===this.getIndex(n.id)){const t={id:n.id,role:n.role,permissions:n.permissions};n.userId&&(t.user=await S.get(e,n.userId)),super.add(t)}})),this._addHandler(this._channel,$n.TYPE,(e=>{const t=f.decode(e,$n);-1!==this.getIndex(t.id)&&super.remove(t.id)})))}async _onWsGatewayStateChange(e){e===Ut.STATE_DISCONNECTED&&this.disconnect(!1),e===Ut.STATE_CONNECTED&&await this.connect(this._wsGateway)}async _runQueue(){if(this._isRunning||!this._connected)return;let e;for(this._isRunning=!0;e=this._eventsQueue.shift();){const t=this._handlers.get(e.eventName);t&&await t(e.data)}this._isRunning=!1}_addHandler(e,t,n){const r=e.getEventName(t,!0);this.listenTo(e,r,(async(e,t)=>{const n=e.name;this._eventsQueue.push({eventName:n,data:t}),await this._runQueue()})),this._handlers.set(r,n)}};class Zn{static async getConnectedSessions(e,t,n){const r=new Xn(t,n);return await r.connect(e),r}}class er extends a{constructor(e,t,n,r,s=""){super(),this.id=e,this.buffers=t,this.types=n,this.bundleVersion=r,this.lastOperationId=s}toJSON(){return{id:this.id,buffers:this.buffers,types:this.types,bundleVersion:this.bundleVersion,lastOperationId:this.lastOperationId}}static fromJSON(e){return new er(e.id,e.buffers,e.types,e.bundleVersion,e.lastOperationId)}}er.TYPE="11",er.READABLE_TYPE_NAME="connectToDocument",er.DESCRIPTOR_NAME="CollaborativeEditingConnectMessage",er.DESCRIPTOR={fields:{id:{type:"string",id:1},bundleVersion:{type:"string",id:2},buffers:{rule:"repeated",type:"bytes",id:3},types:{rule:"repeated",type:"uint32",id:4},lastOperationId:{type:"string",id:5}}};const tr=er;class nr{static prepareMetadataForOperations(e,t){if(!(e&&e.length&&t&&t.length))return[];const n=[];let r=0;for(const s of e)if(0!==s){if(!t[r])throw new Error("Missing metadata for a operation");n.push(t[r]),r++}else n.push(n[n.length-1]);return n}static removeUnnecessaryMetadata(e,t){if(!(e&&e.length&&t&&t.length))return[];const n=[];for(let r=0;r<e.length;r++)if(0!==e[r]){if(!t[r])throw new Error("Missing metadata for a operation");n.push(t[r])}return n}}class rr extends o{static toJSON({createdAt:e,...t}){const n={...t};return(null==e?void 0:e.toISOString)&&(n.createdAt=e.toISOString()),n}static fromJSON({createdAt:e,...t}){const n={...t};return e&&(n.createdAt=new Date(e)),n}}rr.DESCRIPTOR_NAME="OperationMetadataDescriptor",rr.DESCRIPTOR={fields:{userId:{type:"string",id:1},type:{type:"string",id:2},createdAt:{type:"string",id:3}}};const sr=rr;class or extends a{constructor(e,t,n,r,s=[],o=""){super(),this.id=e,this.buffers=t,this.types=n,this.baseVersion=r,this.metadata=s,this.lastOperationId=o}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.baseVersion,lastOperationId:this.lastOperationId}}toJSON(){return{id:this.id,buffers:this.buffers,types:this.types,baseVersion:this.baseVersion,metadata:nr.removeUnnecessaryMetadata(this.types,this.metadata).map(sr.toJSON),lastOperationId:this.lastOperationId}}static fromJSON(e){return new or(e.id,e.buffers,e.types,e.baseVersion,nr.prepareMetadataForOperations(e.types,e.metadata).map(sr.fromJSON),e.lastOperationId)}}or.TYPE="13",or.READABLE_TYPE_NAME="updateDocument",or.DESCRIPTOR_NAME="CollaborativeEditingUpdateMessage",or.DESCRIPTOR={fields:{id:{type:"string",id:1},baseVersion:{type:"uint32",id:2},buffers:{rule:"repeated",type:"bytes",id:3},types:{rule:"repeated",type:"uint32",id:4},metadata:{rule:"repeated",type:"OperationMetadataDescriptor",id:6},lastOperationId:{type:"string",id:7}}};const ir=or;class ar extends a{constructor(e,t,n){super(),this.id=e,this.lastKnowVersion=t,this.bundleVersion=n}toJSON(){return{id:this.id,bundleVersion:this.bundleVersion,lastKnowVersion:this.lastKnowVersion}}static fromJSON(e){return new ar(e.id,e.lastKnowVersion,e.bundleVersion)}}ar.TYPE="12",ar.READABLE_TYPE_NAME="reconnectToDocument",ar.DESCRIPTOR_NAME="CollaborativeEditingReconnectMessage",ar.DESCRIPTOR={fields:{id:{type:"string",id:1},bundleVersion:{type:"string",id:2},lastKnowVersion:{type:"uint32",id:3}}};const cr=ar;class dr extends a{constructor(e,t=[],n=[],r=[],s="",o=null){super(),this.version=e,this.buffers=t,this.types=n,this.metadata=r,this.lastOperationId=s,this.lastOperationAcceptedAt=o}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.version-this.types.length,lastOperationId:this.lastOperationId,lastOperationAcceptedAt:this.lastOperationAcceptedAt}}get wereChangesApplied(){var e;return!(null===(e=this.types)||void 0===e?void 0:e.length)}toJSON(){return{version:this.version,buffers:this.buffers,types:this.types,metadata:nr.removeUnnecessaryMetadata(this.types,this.metadata).map(sr.toJSON),lastOperationId:this.lastOperationId,lastOperationAcceptedAt:this.lastOperationAcceptedAt instanceof Date?this.lastOperationAcceptedAt.toISOString():this.lastOperationAcceptedAt}}static fromJSON(e){return new dr(e.version,e.buffers,e.types,nr.prepareMetadataForOperations(e.types,e.metadata).map(sr.fromJSON),e.lastOperationId,e.lastOperationAcceptedAt?new Date(e.lastOperationAcceptedAt):null)}static create(e){return new dr(e.version,e.buffers,e.types,e.metadata,e.lastOperationId,e.lastOperationAcceptedAt?new Date(e.lastOperationAcceptedAt):null)}}dr.DESCRIPTOR_NAME="CollaborativeEditingResponse",dr.DESCRIPTOR={fields:{version:{type:"uint32",id:1},buffers:{rule:"repeated",type:"bytes",id:2},types:{rule:"repeated",type:"uint32",id:3},metadata:{rule:"repeated",type:"OperationMetadataDescriptor",id:5},lastOperationId:{type:"string",id:6},lastOperationAcceptedAt:{type:"string",id:7}}};const ur=dr;class lr extends a{constructor(e,t,n=[],r=[],s=0,o=[],i=null,a="",c="",d=null){super(),this.channel=e,this.version=t,this.buffers=n,this.types=r,this.offset=s,this.metadata=o,this.initData=i,this.sessionId=a,this.lastOperationId=c,this.sessionCreatedAt=d}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.version-this.types.length,lastOperationId:this.lastOperationId,sessionCreatedAt:this.sessionCreatedAt}}get wereChangesApplied(){var e;return!(null===(e=this.types)||void 0===e?void 0:e.length)&&null===this.initData}toJSON(){var e;return{channel:this.channel,version:this.version,sessionId:this.sessionId,buffers:this.buffers,types:this.types,offset:this.offset,metadata:nr.removeUnnecessaryMetadata(this.types,this.metadata).map(sr.toJSON),initData:null!==(e=this.initData)&&void 0!==e?e:"",isInitialized:"string"==typeof this.initData,lastOperationId:this.lastOperationId,sessionCreatedAt:this.sessionCreatedAt?this.sessionCreatedAt.toISOString():null}}static create(e){return new lr(e.channel,e.version,e.buffers,e.types,e.offset,e.metadata,e.initData,e.sessionId,e.lastOperationId,e.sessionCreatedAt)}static fromJSON(e){var t;let n=null;return!0===e.isInitialized?n=null!==(t=e.initData)&&void 0!==t?t:"":"boolean"!=typeof e.isInitialized&&e.initData&&(n=e.initData),lr.create({channel:e.channel,version:e.version,buffers:e.buffers,types:e.types,offset:e.offset,metadata:nr.prepareMetadataForOperations(e.types,e.metadata).map(sr.fromJSON),initData:n,sessionId:e.sessionId,lastOperationId:e.lastOperationId,sessionCreatedAt:e.sessionCreatedAt?new Date(e.sessionCreatedAt):null})}}lr.DESCRIPTOR_NAME="CollaborativeEditingConnectResponse",lr.DESCRIPTOR={fields:{channel:{type:"string",id:1},offset:{type:"uint32",id:2},version:{type:"uint32",id:3},buffers:{rule:"repeated",type:"bytes",id:4},types:{rule:"repeated",type:"uint32",id:5},metadata:{rule:"repeated",type:sr.DESCRIPTOR_NAME,id:7},initData:{type:"string",id:8},isInitialized:{type:"bool",id:9},sessionId:{type:"string",id:10},lastOperationId:{type:"string",id:11},sessionCreatedAt:{type:"string",id:12}}};const pr=lr;class hr extends a{constructor(e,t){super(),this.lastDocumentSession=e,this.currentDocumentSession=t}get data(){var e,t,n,r,s;return{lastDocumentSessionId:null===(e=this.lastDocumentSession)||void 0===e?void 0:e.id,lastDocumentSessionOperationId:null===(t=this.lastDocumentSession)||void 0===t?void 0:t.lastOperationId,currentDocumentSessionId:null===(n=this.currentDocumentSession)||void 0===n?void 0:n.id,currentDocumentSessionVersion:null===(r=this.currentDocumentSession)||void 0===r?void 0:r.version,currentDocumentSessionOperationId:null===(s=this.currentDocumentSession)||void 0===s?void 0:s.lastOperationId}}toJSON(){var e,t,n,r,s;return{lastDocumentSessionId:null===(e=this.lastDocumentSession)||void 0===e?void 0:e.id,lastDocumentSessionOperationId:null===(t=this.lastDocumentSession)||void 0===t?void 0:t.lastOperationId,currentDocumentSessionId:null===(n=this.currentDocumentSession)||void 0===n?void 0:n.id,currentDocumentSessionVersion:null===(r=this.currentDocumentSession)||void 0===r?void 0:r.version,currentDocumentSessionOperationId:null===(s=this.currentDocumentSession)||void 0===s?void 0:s.lastOperationId}}static fromJSON(e){const t=e.lastDocumentSessionId?{id:e.lastDocumentSessionId,lastOperationId:e.lastDocumentSessionOperationId}:void 0,n=e.currentDocumentSessionId?{lastOperationId:e.currentDocumentSessionOperationId,version:e.currentDocumentSessionVersion,id:e.currentDocumentSessionId}:void 0;return new hr(t,n)}}hr.DESCRIPTOR_NAME="GetDocumentDetailsResponse",hr.DESCRIPTOR={fields:{lastDocumentSessionId:{type:"string",id:1},lastDocumentSessionOperationId:{type:"string",id:2},currentDocumentSessionId:{type:"string",id:3},currentDocumentSessionVersion:{type:"uint32",id:4},currentDocumentSessionOperationId:{type:"string",id:5}}};const fr=hr;class mr extends a{constructor(e){super(),this.documentId=e}get data(){return{documentId:this.documentId}}toJSON(){return{documentId:this.documentId}}static fromJSON(e){return new mr(e.documentId)}}mr.TYPE="14",mr.READABLE_TYPE_NAME="getDocumentDetails",mr.DESCRIPTOR_NAME="GetDocumentDetailsMessage",mr.DESCRIPTOR={fields:{documentId:{type:"string",id:1},environmentId:{type:"string",id:2}}};const yr=mr;class gr extends((0,n.EmitterMixin)()){constructor(e,t){if(super(),!e)throw new TypeError('Param "bundleVersion" must be provided.');this._id=null!=t?t:Ln(),this._isConnected=!1,this._bundleVersion=e}getId(){return this._id}isConnected(){return this._isConnected}connect(e,t={buffers:[],types:[]},n){const r=new tr(this.getId(),t.buffers,t.types,this._bundleVersion,n);return this._connect(e,r)}reconnect(e,t){if(this.isConnected())throw new We("Cannot reconnect to already connected service.",e);return this._connect(e,new cr(this.getId(),t,this._bundleVersion))}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._connectedSessions&&(this._connectedSessions.disconnect(),this._connectedSessions=void 0),this.fire("disconnected"),this.stopListening())}async getDocumentDetails(){const e=new yr(this.getId());if(!this._wsGateway)throw new dn("Collaborative Editing",this);const t=await this._wsGateway._sendRequest(1,yr.TYPE,f.encode(e));return f.decode(t,fr)}async sendOperations(e,t,n){if(!e||!e.types||!e.types.length)throw new We("Cannot send empty update.",this._wsGateway);const r="number"==typeof t?t:parseInt(t);if(!Number.isInteger(r)||r<0)throw new We("Base version not provided.",this._wsGateway);const s=new ir(this.getId(),e.buffers,e.types,r,[],n);if(!this._wsGateway||!this._isConnected)throw new dn("Collaborative Editing",this);const o=await this._wsGateway._sendRequest(1,ir.TYPE,f.encode(s));return f.decode(o,ur)}async getConnectedSessions(){if(!this._isConnected)throw new dn("Collaborative Editing",this);return this._connectedSessions||(this._connectedSessions=await Zn.getConnectedSessions(this._wsGateway,this._id,1)),this._connectedSessions}static getConnectedSessions(e,t){return Zn.getConnectedSessions(e,t,1)}async _connect(e,t){if(this.isConnected())return;if(e.state!==Ut.STATE_CONNECTED)throw new We("WebSocket Gateway is not connected.",e);this._wsGateway=e,this.stopListening(e,"change:state");const n=await e._sendRequest(1,t.constructor.TYPE,f.encode(t)),r=f.decode(n,pr);return this.listenTo(e,"change:state",((e,t,n)=>this._onWsGatewayStateChange(n)),{priority:Ut._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(e,r.channel),this._isConnected=!0,this.fire("connected"),r}_connectToChannel(e,t){this._channel=e._getChannel(1,t),this.listenTo(this._channel,this._channel.getEventName(ir.TYPE),((e,t)=>{const n=f.decode(t,ir);this.fire("operationsReceived",n.baseVersion,n.data,n.metadata)}))}_onWsGatewayStateChange(e){e===Ut.STATE_DISCONNECTED&&this.disconnect()}}gr._SERVICE=1;const br=gr;class Or extends o{static toJSON(e){var t;return{...e,createdAt:null===(t=e.createdAt)||void 0===t?void 0:t.toISOString(),attributes:e.attributes?JSON.stringify(e.attributes):null}}static fromJSON(e){return{...e,createdAt:new Date(e.createdAt),attributes:e.attributes?JSON.parse(e.attributes):null}}}Or.DESCRIPTOR_NAME="CommentDescriptor",Or.DESCRIPTOR={fields:{commentId:{id:1,type:"string"},commentThreadId:{id:2,type:"string"},userId:{id:3,type:"string"},content:{id:4,type:"string"},documentId:{id:5,type:"string"},createdAt:{id:6,type:"string"},attributes:{id:7,type:"string"}}};const wr=Or;class vr extends o{static toJSON(e){var t,n,r,s,o;return{...e,createdAt:null===(t=e.createdAt)||void 0===t?void 0:t.toISOString(),deletedAt:null===(n=e.deletedAt)||void 0===n?void 0:n.toISOString(),resolvedAt:null===(r=e.resolvedAt)||void 0===r?void 0:r.toISOString(),attributes:e.attributes?JSON.stringify(e.attributes):null,context:e.context?JSON.stringify(e.context):e.context,comments:null===(s=e.comments)||void 0===s?void 0:s.map(wr.toJSON),unlinkedAt:null===(o=e.unlinkedAt)||void 0===o?void 0:o.toISOString()}}static fromJSON(e){var t;return{...e,createdAt:e.createdAt?new Date(e.createdAt):void 0,deletedAt:e.deletedAt?new Date(e.deletedAt):void 0,resolvedAt:e.resolvedAt?new Date(e.resolvedAt):void 0,attributes:e.attributes?JSON.parse(e.attributes):null,context:e.context?JSON.parse(e.context):void 0,comments:null===(t=e.comments)||void 0===t?void 0:t.map(wr.fromJSON),unlinkedAt:e.unlinkedAt?new Date(e.unlinkedAt):void 0}}}vr.DESCRIPTOR_NAME="CommentsThreadDescriptor",vr.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},comments:{type:"CommentDescriptor",rule:"repeated",id:2},resolvedAt:{type:"string",id:3},resolvedBy:{type:"string",id:4},context:{type:"string",id:5},createdAt:{type:"string",id:6},deletedAt:{type:"string",id:7},attributes:{type:"string",id:8},unlinkedAt:{type:"string",id:9}}};const Ir=vr;class Sr extends a{constructor(e,t,n,r="",s,o="",i=null,a){super(),this.documentId=e,this.commentThreadId=t,this.content=n,this.commentId=r,this.userId=o,this.attributes=i,this.commentThread=a,this.createdAt=s?new Date(s):""}toJSON(){return{commentThreadId:this.commentThreadId,content:this.content,documentId:this.documentId,commentId:this.commentId,createdAt:this.createdAt instanceof Date?this.createdAt.toISOString():this.createdAt,userId:this.userId,attributes:JSON.stringify(this.attributes),commentThread:this.commentThread?Ir.toJSON(this.commentThread):void 0}}static fromJSON(e){return new Sr(e.documentId,e.commentThreadId,e.content,e.commentId?e.commentId:void 0,e.createdAt?new Date(e.createdAt):void 0,e.userId?e.userId:void 0,e.attributes?JSON.parse(e.attributes):{},e.commentThread?Ir.fromJSON(e.commentThread):void 0)}}Sr.TYPE="91",Sr.READABLE_TYPE_NAME="addComment",Sr.DESCRIPTOR_NAME="CommentsV2AddCommentMessage",Sr.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},content:{type:"string",id:2},documentId:{type:"string",id:3},commentId:{type:"string",id:4},createdAt:{type:"string",id:5},userId:{type:"string",id:6},attributes:{type:"string",id:7},commentThread:{type:"CommentsThreadDescriptor",id:8}}};const Pr=Sr;class kr extends a{constructor(e,t,n){super(),this.commentThreadId=e,this.commentId=t,this.createdAt=new Date(n)}toJSON(){return{commentThreadId:this.commentThreadId,commentId:this.commentId,createdAt:this.createdAt.toISOString()}}static fromJSON(e){return new kr(e.commentThreadId,e.commentId,e.createdAt)}}kr.DESCRIPTOR_NAME="CommentsV2AddCommentResponse",kr.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},createdAt:{type:"string",id:3}}};const Ar=kr;class _r extends a{constructor(e){super(),this.documentId=e}toJSON(){return{documentId:this.documentId}}static fromJSON(e){return new _r(e.documentId)}}_r.TYPE="92",_r.READABLE_TYPE_NAME="connectToComment",_r.DESCRIPTOR_NAME="CommentsV2ConnectMessage",_r.DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};const Tr=_r;class Cr extends a{constructor(e,t,n){super(),this.channel=e,this._threads=t,this._threadsV2=n,this.threads=(null==n?void 0:n.length)?n:t}toJSON(){var e,t;return{channel:this.channel,threads:null===(e=this._threads)||void 0===e?void 0:e.map((e=>JSON.stringify(e))),threadsV2:null===(t=this._threadsV2)||void 0===t?void 0:t.map(Ir.toJSON)}}static fromJSON(e){var t,n;return new Cr(e.channel,null===(t=e.threads)||void 0===t?void 0:t.map((e=>JSON.parse(e))),null===(n=e.threadsV2)||void 0===n?void 0:n.map(Ir.fromJSON))}}Cr.DESCRIPTOR_NAME="CommentsV2ConnectResponse",Cr.DESCRIPTOR={fields:{channel:{type:"string",id:1},threads:{type:"string",rule:"repeated",id:2},threadsV2:{type:"CommentsThreadDescriptor",rule:"repeated",id:3}}};const jr=Cr;class Er extends a{constructor(e,t,n){super(),this.documentId=e,this.commentThreadId=t,this.commentId=n}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,commentId:this.commentId}}static fromJSON(e){return new Er(e.documentId,e.commentThreadId,e.commentId)}}Er.TYPE="95",Er.READABLE_TYPE_NAME="removeComment",Er.DESCRIPTOR_NAME="CommentsV2RemoveCommentMessage",Er.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},documentId:{type:"string",id:3}}};const Dr=Er;class xr extends a{constructor(e,t){super(),this.documentId=e,this.commentThreadId=t}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId}}static fromJSON(e){return new xr(e.documentId,e.commentThreadId)}}xr.TYPE="97",xr.READABLE_TYPE_NAME="removeCommentThread",xr.DESCRIPTOR_NAME="CommentsV2RemoveCommentThreadMessage",xr.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};const Rr=xr;class Nr extends a{constructor(e,t,n,r,s=null,o=!1,i){super(),this.documentId=e,this.commentThreadId=t,this.commentId=n,this.content=r,this.attributes=s,this.isAttributesUpdated=o,this.commentThread=i}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,commentId:this.commentId,content:this.content,attributes:this.attributes?JSON.stringify(this.attributes):null,isAttributesUpdated:this.isAttributesUpdated,commentThread:this.commentThread?Ir.toJSON(this.commentThread):void 0}}static fromJSON(e){return new Nr(e.documentId,e.commentThreadId,e.commentId,e.content,e.attributes?JSON.parse(e.attributes):null,e.isAttributesUpdated,e.commentThread?Ir.fromJSON(e.commentThread):void 0)}}Nr.TYPE="96",Nr.READABLE_TYPE_NAME="updateComment",Nr.DESCRIPTOR_NAME="CommentsV2UpdateCommentMessage",Nr.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},content:{type:"string",id:3},documentId:{type:"string",id:4},attributes:{type:"string",id:5},isAttributesUpdated:{type:"bool",id:6},commentThread:{type:"CommentsThreadDescriptor",id:7}}};const Vr=Nr;class Mr extends a{constructor(e,t){super(),this.commentThreadId=e,this.documentId=t}toJSON(){return{commentThreadId:this.commentThreadId,documentId:this.documentId}}static fromJSON(e){return new Mr(e.commentThreadId,e.documentId)}}Mr.TYPE="93",Mr.READABLE_TYPE_NAME="getComment",Mr.DESCRIPTOR_NAME="CommentsV2GetCommentThreadMessage",Mr.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};const Br=Mr;class Ur extends a{constructor(e,t,n,r,s,o,i,a,c,d){super(),this.commentThreadId=e,this._comments=t,this._commentsV2=n,this.resolvedBy=s,this.comments=(null==n?void 0:n.length)?n:t,this.createdAt=i?new Date(i):void 0,this.deletedAt="string"==typeof a?new Date(a):a,this.resolvedAt="string"==typeof c?new Date(c):c,this.unlinkedAt="string"==typeof d?new Date(d):d,this.attributes="string"==typeof r?JSON.parse(r):r,this.context="string"==typeof o?JSON.parse(o):o}toJSON(){var e,t,n,r,s,o;return{commentThreadId:this.commentThreadId,comments:null===(e=this._comments)||void 0===e?void 0:e.map((e=>JSON.stringify(e))),commentsV2:null===(t=this._commentsV2)||void 0===t?void 0:t.map(wr.toJSON),attributes:this.attributes?JSON.stringify(this.attributes):this.attributes,context:this.context?JSON.stringify(this.context):this.context,resolvedBy:this.resolvedBy,createdAt:null===(n=this.createdAt)||void 0===n?void 0:n.toISOString(),deletedAt:null===(r=this.deletedAt)||void 0===r?void 0:r.toISOString(),resolvedAt:null===(s=this.resolvedAt)||void 0===s?void 0:s.toISOString(),unlinkedAt:null===(o=this.unlinkedAt)||void 0===o?void 0:o.toISOString()}}static fromJSON(e){var t,n;return new Ur(e.commentThreadId,null===(t=e.comments)||void 0===t?void 0:t.map((e=>function(e){const t=JSON.parse(e);return{...t,createdAt:new Date(t.createdAt)}}(e))),null===(n=e.commentsV2)||void 0===n?void 0:n.map(wr.fromJSON),e.attributes?JSON.parse(e.attributes):e.attributes,e.resolvedBy,e.context?JSON.parse(e.context):e.context,e.createdAt,e.deletedAt,e.resolvedAt,e.unlinkedAt)}}Ur.DESCRIPTOR_NAME="CommentsV2GetCommentThreadResponse",Ur.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},comments:{type:"string",rule:"repeated",id:2},commentsV2:{type:"CommentDescriptor",rule:"repeated",id:3},resolvedAt:{type:"string",id:4},resolvedBy:{type:"string",id:5},context:{type:"string",id:6},createdAt:{type:"string",id:7},deletedAt:{type:"string",id:8},attributes:{type:"string",id:9},unlinkedAt:{type:"string",id:10}}};const Jr=Ur;class qr extends a{constructor(e){super(),this.documentId=e}toJSON(){return{documentId:this.documentId}}static fromJSON(e){return new qr(e.documentId)}}qr.TYPE="94",qr.READABLE_TYPE_NAME="getDocumentThreads",qr.DESCRIPTOR_NAME="CommentsV2GetDocumentThreadsMessage",qr.DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};const Gr=qr;class Lr extends a{constructor(e,t){super(),this._threads=e,this._threadsV2=t,this.threads=(null==t?void 0:t.length)?t:e}toJSON(){var e,t;return{threads:null===(e=this._threads)||void 0===e?void 0:e.map((e=>JSON.stringify(e))),threadsV2:null===(t=this._threadsV2)||void 0===t?void 0:t.map(Ir.toJSON)}}static fromJSON(e){var t,n;return new Lr(null===(t=e.threads)||void 0===t?void 0:t.map((e=>function(e){var t;const n=JSON.parse(e),r={...n};return n.comments&&(r.comments=null===(t=n.comments)||void 0===t?void 0:t.map((e=>({...e,createdAt:new Date(e.createdAt)})))),r}(e))),null===(n=e.threadsV2)||void 0===n?void 0:n.map(Ir.fromJSON))}}Lr.DESCRIPTOR_NAME="CommentsV2GetDocumentThreadsResponse",Lr.DESCRIPTOR={fields:{threads:{type:"string",rule:"repeated",id:1},threadsV2:{type:"CommentsThreadDescriptor",rule:"repeated",id:2}}};const Yr=Lr;class zr extends o{static toJSON(e){var t;return{commentId:e.commentId,createdAt:null===(t=e.createdAt)||void 0===t?void 0:t.toISOString()}}static fromJSON(e){return{commentId:e.commentId,createdAt:new Date(e.createdAt)}}}zr.DESCRIPTOR_NAME="CommentThreadAddedCommentDescriptor",zr.DESCRIPTOR={fields:{commentId:{id:1,type:"string"},createdAt:{id:2,type:"string"}}};const Hr=zr;class Fr extends a{constructor(e,t,n=[]){super(),this.commentThreadId=e,this.comments=n,this.createdAt=new Date(t)}toJSON(){return{commentThreadId:this.commentThreadId,createdAt:this.createdAt.toISOString(),comments:this.comments.map((e=>Hr.toJSON(e)))}}static fromJSON(e){return new Fr(e.commentThreadId,e.createdAt,e.comments.map((e=>Hr.fromJSON(e))))}}Fr.DESCRIPTOR_NAME="CommentsV2AddCommentThreadResponse",Fr.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},createdAt:{type:"string",id:2},comments:{type:"CommentThreadAddedCommentDescriptor",rule:"repeated",id:3}}};const Kr=Fr;class Wr extends a{constructor(e,t,n=[],r,s=null,o=null,i=null,a=null,c=null){super(),this.documentId=e,this.commentThreadId=t,this.comments=n,this.context=r,this.resolvedBy=s,this.attributes=c,this.createdAt=o?new Date(o):"",this.resolvedAt=i?new Date(i):"",this.deletedAt=a?new Date(a):""}toJSON(){var e;return{commentThreadId:this.commentThreadId,context:this.context?JSON.stringify(this.context):this.context,documentId:this.documentId,resolvedBy:this.resolvedBy,resolvedAt:this.resolvedAt instanceof Date?this.resolvedAt.toISOString():this.resolvedAt,deletedAt:this.deletedAt instanceof Date?this.deletedAt.toISOString():this.deletedAt,createdAt:this.createdAt instanceof Date?this.createdAt.toISOString():this.createdAt,attributes:this.attributes?JSON.stringify(this.attributes):this.attributes,comments:null===(e=this.comments)||void 0===e?void 0:e.map((e=>wr.toJSON(e)))}}static fromJSON(e){var t;return new Wr(e.documentId,e.commentThreadId,null===(t=e.comments)||void 0===t?void 0:t.map((t=>wr.fromJSON({...t,documentId:e.documentId,commentThreadId:e.commentThreadId}))),e.context?JSON.parse(e.context):e.context,e.resolvedBy,e.createdAt?new Date(e.createdAt):void 0,e.resolvedAt?new Date(e.resolvedAt):void 0,e.deletedAt?new Date(e.deletedAt):void 0,e.attributes?JSON.parse(e.attributes):e.attributes)}}Wr.TYPE="140",Wr.READABLE_TYPE_NAME="addCommentThread",Wr.DESCRIPTOR_NAME="CommentsV2AddCommentThreadMessage",Wr.DESCRIPTOR={fields:{documentId:{type:"string",id:1},commentThreadId:{type:"string",id:2},context:{type:"string",id:3},createdAt:{type:"string",id:4},resolvedAt:{type:"string",id:5},resolvedBy:{type:"string",id:6},attributes:{type:"string",id:7},deletedAt:{type:"string",id:8},comments:{type:"CommentDescriptor",rule:"repeated",id:9}}};const Qr=Wr;class $r extends a{constructor(e,t,n,r){super(),this.commentThreadId=e,this.documentId=t,this.resolvedBy=n,this.resolvedAt=r?new Date(r):void 0}toJSON(){var e;return{documentId:this.documentId,commentThreadId:this.commentThreadId,resolvedBy:this.resolvedBy,resolvedAt:null===(e=this.resolvedAt)||void 0===e?void 0:e.toISOString()}}static fromJSON(e){return new $r(e.commentThreadId,e.documentId,e.resolvedBy,e.resolvedAt)}}$r.TYPE="142",$r.READABLE_TYPE_NAME="resolveCommentThread",$r.DESCRIPTOR_NAME="CommentsV2ResolveCommentThreadMessage",$r.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},resolvedBy:{type:"string",id:3},resolvedAt:{type:"string",id:4}}};const Xr=$r;class Zr extends a{constructor(e,t){super(),this.commentThreadId=e,this.documentId=t}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId}}static fromJSON(e){return new Zr(e.commentThreadId,e.documentId)}}Zr.TYPE="141",Zr.READABLE_TYPE_NAME="reopenCommentThread",Zr.DESCRIPTOR_NAME="CommentsV2ReopenCommentThreadMessage",Zr.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};const es=Zr;class ts extends a{constructor(e,t,n,r=null,s=null){super(),this.commentThreadId=e,this.documentId=t,this.context=n,this.attributes=r,this.unlinkedAt=s?new Date(s):""}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,context:this.context?JSON.stringify(this.context):this.context,attributes:this.attributes?JSON.stringify(this.attributes):null,unlinkedAt:this.unlinkedAt instanceof Date?this.unlinkedAt.toISOString():this.unlinkedAt}}static fromJSON(e){return new ts(e.commentThreadId,e.documentId,e.context?JSON.parse(e.context):e.context,e.attributes?JSON.parse(e.attributes):null,e.unlinkedAt?new Date(e.unlinkedAt):null)}}ts.TYPE="143",ts.READABLE_TYPE_NAME="updateCommentThread",ts.DESCRIPTOR_NAME="CommentsV2UpdateCommentThreadMessage",ts.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},context:{type:"string",id:3},attributes:{type:"string",id:4},unlinkedAt:{type:"string",id:5}}};const ns=ts;class rs extends a{constructor(e,t,n,r){super(),this.commentThreadId=e,this.documentId=t,this.resolvedBy=n,this.resolvedAt=new Date(r)}toJSON(){return{commentThreadId:this.commentThreadId,documentId:this.documentId,resolvedBy:this.resolvedBy,resolvedAt:this.resolvedAt.toISOString()}}static fromJSON(e){return new rs(e.commentThreadId,e.documentId,e.resolvedBy,e.resolvedAt)}}rs.DESCRIPTOR_NAME="CommentsV2ResolveCommentThreadResponse",rs.DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},resolvedAt:{type:"string",id:3},resolvedBy:{type:"string",id:4}}};const ss=rs;class os extends((0,n.EmitterMixin)()){constructor(e){super(),this._documentId=e,this._isConnected=!1}get isConnected(){return this._isConnected}async connect(e){if(this._isConnected)return;if(e.state!==Mt.CONNECTED)throw new We("WebSocket Gateway is not connected.",e);const t=new Tr(this._documentId);this._wsGateway=e,this.stopListening(e,"change:state");const n=await e._sendRequest(9,Tr.TYPE,f.encode(t)),{channel:r,threads:s}=f.decode(n,jr);return this.listenTo(e,"change:state",((e,t,n)=>this._onWsGatewayStateChange(n)),{priority:Ut._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(e,r),this._isConnected=!0,this.fire("connected"),s}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._connectedSessions&&(this._connectedSessions.disconnect(),this._connectedSessions=void 0),this.fire("disconnected"),this.stopListening())}async addComment(e,t,n,r){const s=new Pr(this._documentId,e,n,t,void 0,void 0,r),o=await this._sendRequest(Pr.TYPE,s);return f.decode(o,Ar)}async updateComment(e,t,n,r){const s=void 0!==r,o=new Vr(this._documentId,e,t,n,r,s);await this._sendRequest(Vr.TYPE,o)}async removeComment(e,t){const n=new Dr(this._documentId,e,t);await this._sendRequest(Dr.TYPE,n)}async removeCommentThread(e){const t=new Rr(this._documentId,e);await this._sendRequest(Rr.TYPE,t)}async addCommentThread(e){var t;const n=new Qr(this._documentId,e.commentThreadId,null===(t=e.comments)||void 0===t?void 0:t.map((t=>({...t,documentId:this._documentId,commentThreadId:e.commentThreadId}))),e.context,e.resolvedBy,e.createdAt,e.resolvedAt,e.deletedAt,e.attributes),r=await this._sendRequest(Qr.TYPE,n);return f.decode(r,Kr)}async resolveCommentThread(e){const t=new Xr(e,this._documentId),n=await this._sendRequest(Xr.TYPE,t);return f.decode(n,ss)}async reopenCommentThread(e){const t=new es(e,this._documentId);await this._sendRequest(es.TYPE,t)}async updateCommentThread(e){const t=new ns(e.commentThreadId,this._documentId,e.context,e.attributes,e.unlinkedAt);await this._sendRequest(ns.TYPE,t)}async getCommentThread(e,t=1){const n=new Br(e,this._documentId);try{const e=await this._sendRequest(Br.TYPE,n),t=f.decode(e,Jr);return{commentThreadId:t.commentThreadId,comments:t.comments,attributes:t.attributes,context:t.context,resolvedAt:t.resolvedAt,resolvedBy:t.resolvedBy,deletedAt:t.deletedAt,unlinkedAt:t.unlinkedAt}}catch(n){if("CKEditorCloudServicesServerError"===n.name&&"404"===n.code&&t<5)return await(r=100*t,new Promise((e=>{setTimeout(e,r)}))),this.getCommentThread(e,t+1);if("CKEditorCloudServicesServerError"===n.name)throw n;throw Qe.fromPublicError(n)}var r}async getDocumentThreads(){const e=new Gr(this._documentId),t=await this._sendRequest(Gr.TYPE,e),{threads:n}=f.decode(t,Yr);return{threads:n}}async getConnectedSessions(){if(!this._isConnected)throw new dn("Comments",this);return this._connectedSessions||(this._connectedSessions=await Zn.getConnectedSessions(this._wsGateway,this._documentId,9)),this._connectedSessions}_connectToChannel(e,t){this._channel=e._getChannel(os._SERVICE,t),this._channel&&(this.listenTo(this._channel,this._channel.getEventName(Pr.TYPE),((e,t)=>{const n=f.decode(t,Pr);this.fire("commentAdded",n)})),this.listenTo(this._channel,this._channel.getEventName(Dr.TYPE),((e,t)=>{const n=f.decode(t,Dr);this.fire("commentRemoved",n)})),this.listenTo(this._channel,this._channel.getEventName(Vr.TYPE),((e,t)=>{const n=f.decode(t,Vr);this.fire("commentUpdated",n)})),this.listenTo(this._channel,this._channel.getEventName(Rr.TYPE),((e,t)=>{const n=f.decode(t,Rr);this.fire("commentThreadRemoved",n)})),this.listenTo(this._channel,this._channel.getEventName(Qr.TYPE),((e,t)=>{const n=f.decode(t,Qr);this.fire("commentThreadAdded",n)})),this.listenTo(this._channel,this._channel.getEventName(ns.TYPE),((e,t)=>{const n=f.decode(t,ns);this.fire("commentThreadUpdated",n)})),this.listenTo(this._channel,this._channel.getEventName(Xr.TYPE),((e,t)=>{const n=f.decode(t,Xr);this.fire("commentThreadResolved",n)})),this.listenTo(this._channel,this._channel.getEventName(es.TYPE),((e,t)=>{const n=f.decode(t,es);this.fire("commentThreadReopened",n)})))}_onWsGatewayStateChange(e){e===Mt.DISCONNECTED&&this.disconnect()}_sendRequest(e,t){if(!this._wsGateway||!this._isConnected)throw new dn("Comments",this);return this._wsGateway._sendRequest(9,e,f.encode(t))}}os._SERVICE=9;const is=os,as=ds;function cs(){const e=["disconnect","removeFromReconnectionStack","CONNECTING","reconnect","websocketgateway-missing-websocket-url","_reconnectionStack","initialReconnectionInterval","online","The limit of maximum concurrent connections that the collaboration server can handle has been reached. Try opening the document again in a few minutes. Please contact your system administrator if the problem persists.","set","init","delete","error","_isBrowserOffline","destroy","CONNECTED","9274059wmNwcM","4417371kwssGy","Connected users limit exceeded","cloudservices-init","get","cloudservices-reconnection-error","webSocketUrl","websocketgateway-plugin-already-registered","cloudServices.requestTimeout","connected","constructor","_reconnect","all","pluginName","1156034JIUPVt","isPremiumPlugin","cloudServices.connectionTimeout","4745012UCakBa","from","connect","DISCONNECTED","_shouldPluginsReconnect","10bXDJRj","listenTo","catch","1174315Gddwok","stopListening","websocketgateway-invalid-plugin-interface","isInReconnectionStack","context","8YorXat","isOfficialPlugin","showWarning","define","requires","3mLkenr","change:me","add","code","token","then","config","state","has","offline","websocketgateway-missing-token","plugins","12FfNbco","limitExceeded","connection","create","_domEmitter","real-time-collaboration","addToReconnectionStack","1433559IFyVxg","bind","WebSocketGateway","function","10257929aLlNEF","CloudServices"];return(cs=function(){return e})()}function ds(e,t){const n=cs();return(ds=function(e,t){return n[e-=168]})(e,t)}!function(e){const t=ds,n=e();for(;;)try{if(761908===parseInt(t(172))/1+parseInt(t(208))/2+-parseInt(t(229))/3*(parseInt(t(211))/4)+parseInt(t(219))/5*(parseInt(t(241))/6)+-parseInt(t(195))/7+parseInt(t(224))/8*(parseInt(t(194))/9)+parseInt(t(216))/10*(-parseInt(t(176))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(cs);class us extends t.ContextPlugin{static get[as(228)](){return[as(177),r.Notification]}static get[as(207)](){return as(174)}static get[as(225)](){return!0}static get[as(209)](){return!0}constructor(e){const t=as;super(e),this[t(187)](t(236),Mt[t(193)]),this[t(187)](t(191),!1),this[t(183)]=new Set,this[t(215)]=!1,this[t(169)]=Object[t(168)](n.DomEmitterMixin)}[as(188)](){const e=as,t=this[e(223)],s=t[e(240)][e(198)](e(177)),o=t[e(240)][e(198)](r.Notification);if(!s[e(233)])throw new n.CKEditorError(e(239),this);if(!s[e(200)])throw new n.CKEditorError(e(182),this);return this[e(169)][e(217)](window,e(238),(()=>this[e(191)]=!0)),this[e(169)][e(217)](window,e(185),(()=>this[e(191)]=!1)),this[e(223)][e(235)][e(227)](e(210),10),this[e(223)][e(235)][e(227)](e(202),20),us[e(174)][e(213)](s[e(233)],s[e(200)],{timeout:1e3*this[e(223)][e(235)][e(198)](e(210)),requestTimeout:1e3*this[e(223)][e(235)][e(198)](e(202))})[e(234)]((t=>{const r=e;if(this[r(243)]=t,this[r(173)](r(236)).to(t,r(236),this,r(191),((e,t)=>(r(203)!==e&&(this[r(215)]=!0),t||e!==Mt[r(193)]?Mt[r(214)]:this[r(236)]==Mt[r(214)]&&this[r(215)]?(this[r(215)]=!1,this[r(205)](),Mt[r(180)]):Mt[r(193)]))),this[r(243)].on(r(190),((e,t)=>{const s=r;if(s(242)!==t[s(232)])throw console[s(190)](t),new n.CKEditorError(s(197),null,{originalError:t});o[s(226)](s(186),{title:s(196),namespace:s(170)})})),!t.me)return new Promise((e=>t.on(r(230),e)))}))[e(218)]((t=>{const r=e;throw console[r(190)](t),new n.CKEditorError(r(197),null,{originalError:t})}))}[as(171)](e){const t=as;if(t(175)!=typeof e[t(181)])throw new n.CKEditorError(t(221),this);if(this[t(222)](e))throw new n.CKEditorError(t(201),this,{name:e[t(204)][t(207)]});this[t(183)][t(231)](e)}[as(179)](e){const t=as;this[t(183)][t(189)](e)}[as(222)](e){const t=as;return this[t(183)][t(237)](e)}[as(205)](){const e=as;return this[e(243)][e(181)]()[e(234)]((()=>Promise[e(206)](Array[e(212)](this[e(183)],(t=>t[e(181)]())))))[e(234)]((()=>this[e(236)]=Mt[e(193)]))[e(218)]((t=>{const r=e;throw console[r(190)](t),new n.CKEditorError(r(199),this[r(223)])}))}[as(192)](){const e=as;this[e(243)]&&this[e(243)][e(178)](),this[e(236)]=Mt[e(214)],this[e(169)][e(220)](),super[e(192)]()}}us[as(174)]=Ut,us[as(184)]=1e3;const ls=us;var ps=__webpack_require__(211);const hs=fs;function fs(e,t){const n=ys();return(fs=function(e,t){return n[e-=135]})(e,t)}!function(e){const t=fs,n=e();for(;;)try{if(670721===-parseInt(t(159))/1+parseInt(t(164))/2+parseInt(t(144))/3*(parseInt(t(193))/4)+-parseInt(t(175))/5*(-parseInt(t(160))/6)+-parseInt(t(178))/7*(parseInt(t(194))/8)+-parseInt(t(140))/9*(-parseInt(t(161))/10)+-parseInt(t(189))/11*(-parseInt(t(135))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(ys);class ms extends t.ContextPlugin{static get[hs(150)](){return hs(177)}static get[hs(158)](){return!0}static get[hs(176)](){return!0}static get[hs(182)](){return[ls,ps.Users]}constructor(e){const t=hs;super(e),this[t(172)]=new Map,this[t(183)]=new Map,this[t(152)]=new n.Collection,this[t(139)]=new Map,this[t(179)]=0,this[t(141)]=this[t(167)][t(174)][t(184)](ps.Users)}[hs(153)](){const e=hs,t=this[e(167)][e(174)][e(184)](ls);this[e(142)](t,e(170),((t,n,r)=>{const s=e;if(s(197)!==r)this[s(172)][s(165)]((e=>e[s(155)]())),this[s(183)][s(165)]((e=>e[s(155)]())),this[s(152)][s(155)]();else for(const[e,t]of this[s(139)])for(const n of t)this[s(191)](e,n)})),this[e(185)](t[e(195)].me,!0)}[hs(198)](e,t){const r=hs;if(this[r(139)][r(190)](e))throw new n.CKEditorError(r(138),null,{channelId:e});this[r(139)][r(154)](e,t),this[r(172)][r(154)](e,new n.Collection),this[r(183)][r(154)](e,new n.Collection),this[r(142)](t,r(196),((t,n)=>this[r(191)](e,n))),this[r(142)](t,r(157),((t,n)=>this[r(149)](e,n)));for(const n of t)this[r(191)](e,n)}[hs(171)](e){const t=hs;if(!this[t(139)][t(190)](e))throw new n.CKEditorError(t(147),null,{channelId:e});const r=this[t(139)][t(184)](e);this[t(145)](r);for(const n of r)t(197)===this[t(167)][t(174)][t(184)](ls)[t(146)]&&this[t(149)](e,n);this[t(139)][t(136)](e),this[t(172)][t(136)](e),this[t(183)][t(136)](e)}get[hs(137)](){const e=hs;return this[e(167)][e(174)][e(184)](ls)[e(195)][e(163)]}[hs(151)](e){const t=hs;for(const n of this[t(172)][t(186)]())for(const r of n)if(r.id===e)return r[t(169)]}[hs(173)](e,t){const n=hs,r=t?[this[n(172)][n(184)](t)]:this[n(172)][n(186)](),s=new Set;for(const t of r)for(const r of t)r[n(169)].id===e.id&&s[n(196)](r.id);return s}[hs(148)](e){const t=hs;for(const n of this[t(172)][t(186)]())for(const r of n)if(r[t(169)]===e)return r[t(143)]}[hs(191)](e,t){const n=hs;if(n(197)!==this[n(167)][n(174)][n(184)](ls)[n(146)])return;const r=t[n(169)],s=this[n(141)][n(188)](r.id)||this[n(185)](r),o=Object[n(156)]({},t,{user:s});this[n(172)][n(184)](e)[n(196)](o);const i=this[n(183)][n(184)](e);i[n(190)](s.id)||i[n(196)](s),this[n(152)][n(190)](s.id)||this[n(152)][n(196)](s,s[n(166)]?0:void 0),this[n(180)](n(192)+e,{channelId:e,session:o})}[hs(149)](e,t){const n=hs;if(n(197)!==this[n(167)][n(174)][n(184)](ls)[n(146)])return;const r=this[n(183)][n(184)](e),s=t[n(169)];s.id&&(this[n(172)][n(184)](e)[n(157)](t.id),r[n(190)](s.id)&&!this[n(173)](s,e)[n(162)]&&r[n(157)](s.id),this[n(152)][n(184)](s.id)&&!this[n(173)](s)[n(162)]&&this[n(152)][n(157)](s.id))}[hs(185)](e,t){const n=hs,r=this[n(141)][n(168)](e);return t&&this[n(141)][n(181)](e.id),r[n(187)]=this[n(179)]++,r}}function ys(){const e=["sessionAdd:","4qjRfbe","8DMhhzd","connection","add","connected","register","12WduLTq","delete","mySessionId","sessions-register-already-registered","_registeredSessions","9909153nkANkt","_users","listenTo","role","1859955iFVYZZ","stopListening","state","sessions-unregister-not-exist","getUserRole","_handleSessionRemove","pluginName","getUserBySessionId","allConnectedUsers","init","set","clear","assign","remove","isOfficialPlugin","1190008WkQzwZ","6ECtxpj","10odUvoz","size","sessionId","1483182sCLIMl","forEach","isMe","context","addUser","user","change:state","unregister","channelSessions","getUserSessions","plugins","1441115meBGmo","isPremiumPlugin","Sessions","8589028HjGBpG","_uniqueUsersCount","fire","defineMe","requires","channelConnectedUsers","get","_createUser","values","orderNumber","getUser","3706087hyjyTI","has","_handleSessionAdd"];return(ys=function(){return e})()}var gs=__webpack_require__(673),bs=__webpack_require__.n(gs),Os=__webpack_require__(545),ws=__webpack_require__.n(Os),vs=__webpack_require__(262),Is=__webpack_require__.n(vs),Ss=__webpack_require__(667),Ps=__webpack_require__.n(Ss),ks=__webpack_require__(357),As=__webpack_require__.n(ks),_s=__webpack_require__(535),Ts={attributes:{"data-cke":!0}};Ts.setAttributes=Ps(),Ts.insert=Is().bind(null,"head"),Ts.domAPI=ws(),Ts.insertStyleElement=As();bs()(_s.A,Ts);_s.A&&_s.A.locals&&_s.A.locals;const Cs=js;function js(e,t){const n=Es();return(js=function(e,t){return n[e-=258]})(e,t)}function Es(){const e=["requires","getNearestSelectionRange","isSimilar","getFirstRange","marker","user:position","tableCell","mouseleave","delete","selection","change","nodeAfter","name","isInline","batch","conversion","hasDomSelection","setCustomProperty","rootName","getSelectionClass","editor","ck-user__marker_hovered","addMarker","update:user:range","markerRange","hasContent","reconvertMarker","isOfficialPlugin","isObject","span","getAttribute","color","newRange","innerHTML","markerNameToElements","user:position:","user:range","isPremiumPlugin","plugins","add","change:range","toRange","type","getMarkerClass","getCustomProperty","root","Escape","createRange","userPositionMarker","1EdSEjb","markerName","split","checkChild","removeMarker","clear","10Pbkikd","user:","11XVfTji","_createdBatches","parent","211127VbfORl","end","getStart","getPositions","updateMarker","undo","mouseenter","applyOperation","ck-user__marker ","element","enqueueChange","getContainedElement","get","set","mySessionId","view","markerToElement","stopListening","870003zHjqLn","getUserBySessionId","afterInit","oldRange","createUIElement","user:range:","has","27SReGUX",'<span class="ck-user__marker-line" contenteditable="false"><span class="ck-user__marker-dot"></span></span><span class="ck-user__marker-tooltip" contenteditable="false" spellcheck="false">',"pluginName","6KbMCjG","model","ck-user__selection","_domEmitter","editingDowncast","markerToHighlight","fromRange","714095wFyNuA","402552PRfACZ","start","remove","createUserMarkerOperations","</span>","classList","toDomElement","destroy","commands","document","499186MbRzlz","listenTo","1911456UJrqwD","contenteditable","isCollapsed","editing","keydown","init","detach","orderNumber","startsWith","deletionPosition","schema","getRange","isLimit","removeClass","markers","mapper","for","data-session-id","$graveyard","highest","render","42164fUztet","UserMarkers","size","$text","addEventListener"];return(Es=function(){return e})()}!function(e){const t=js,n=e();for(;;)try{if(159180===-parseInt(t(357))/1*(-parseInt(t(280))/2)+-parseInt(t(259))/3*(-parseInt(t(303))/4)+-parseInt(t(269))/5+-parseInt(t(262))/6*(parseInt(t(368))/7)+parseInt(t(270))/8+parseInt(t(386))/9*(parseInt(t(363))/10)+parseInt(t(365))/11*(-parseInt(t(282))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Es);class Ds extends t.Plugin{constructor(){const e=js;super(...arguments),this[e(265)]=new((0,n.DomEmitterMixin)())}static get[Cs(308)](){return[ms]}static get[Cs(261)](){return Cs(304)}static get[Cs(335)](){return!0}static get[Cs(345)](){return!0}[Cs(287)](){const e=Cs,t=this[e(328)],r=t[e(346)][e(380)](ms);t[e(323)][e(298)](e(266))[e(384)]({model:e(313),view:(n,{writer:s})=>function(t,n,r,s){const o=e,i=t[o(358)][o(359)](":")[2],a=r[o(387)](i);if(!a||i===r[o(382)])return;if(!s[o(263)][o(292)][o(360)](t[o(332)][o(271)],o(306)))return;const c={class:o(376)+a[o(339)][o(351)](),"data-name":a[o(320)],"data-session-id":i},d=s[o(263)][o(296)][o(380)](t[o(358)])[o(370)](),u=d[o(319)],l=s[o(263)][o(292)];if(u&&l[o(336)](u)&&l[o(321)](u)&&!s[o(263)][o(296)][o(380)](o(391)+i)[o(293)]()[o(284)])return;const p=d[o(367)];return s[o(263)][o(292)][o(294)](p)&&!s[o(263)][o(333)](p)&&(c[o(283)]=!1),function(e,t,n){const r=o,s=e[r(390)](r(337),t);return e[r(325)](r(356),!0,s),s[r(302)]=function(e){const t=r,s=this[t(276)](e);return s[t(341)]=t(260)+n[t(320)]+t(274),s[t(307)](t(374),(()=>{const e=t;s[e(275)][e(347)](e(329))})),s[t(307)](t(315),(()=>{const e=t;s[e(275)][e(272)](e(329))})),s},s[r(310)]=function(e){const t=r;return!(!this[t(352)](t(356))||!e[t(352)](t(356))||this[t(338)](t(299))!=e[t(338)](t(299)))},s}(n,c,a)}(n,s,r,t)}),t[e(323)][e(298)](e(266))[e(267)]({model:e(344),view:t=>function(t,n){const r=e,s=t[r(358)][r(359)](":")[2];if(s===n[r(382)])return null;const o=n[r(387)](s);return o?{id:s,classes:[r(264),o[r(339)][r(327)]()],attributes:{"data-session-id":s},priority:2e3+o[r(289)]}:{id:s,classes:[]}}(t,r)}),function(t){const n=e,r=t[n(263)],o=new Map,i=t[n(346)][n(380)](ms);r[n(296)].on(n(331),((e,a,c,d)=>{const u=n;if(!d&&o[u(380)](a[u(320)]))return o[u(380)](a[u(320)])[u(288)](),void o[u(316)](a[u(320)]);const l=a[u(320)][u(359)](":")[2];if(l===i[u(382)])return;const p=u(343)+l;r[u(296)][u(258)](p)&&t[u(285)][u(334)](p),a.on(u(348),((e,t,n)=>{const i=u;if(i(300)!=t[i(353)][i(326)]&&i(300)==a[i(293)]()[i(353)][i(326)]&&!o[i(258)](a[i(320)])){const e=r[i(292)][i(309)](n[i(291)]);if(e){const t=s.LiveRange[i(268)](e);o[i(381)](a[i(320)],t),t.on(i(348),((e,n,s)=>{const c=i;if(c(300)==t[c(353)][c(326)]){const e=r[c(292)][c(309)](s[c(291)]);e?(t[c(271)]=e[c(271)],t[c(369)]=e[c(369)]):(o[c(316)](a[c(320)]),t[c(288)]())}}))}}}))})),r[n(279)].on(n(318),(()=>{const e=n;o[e(305)]>0&&r[e(378)]({isUndoable:!1},(t=>{const n=e;for(const[e,s]of o)n(300)==r[n(296)][n(380)](e)[n(293)]()[n(353)][n(326)]&&(xs(e[n(359)](":")[2],s[n(349)](),r,t),s[n(288)]());o[n(362)]()}))}))}(t),this[e(265)][e(281)](n.global[e(279)],e(286),((n,{key:r})=>{const s=e;s(354)===r&&function(e){const t=s;e[t(285)][t(383)][t(318)]((n=>{const r=t;for(const t of e[r(263)][r(296)]){if(!t[r(320)][r(290)](r(313)))continue;const s=e[r(285)][r(297)][r(342)](t[r(320)]);if(s)for(const e of s)n[r(295)](r(329),e)}}))}(t)}),{useCapture:!0})}[Cs(388)](){const e=Cs,t=this[e(328)],n=t[e(278)][e(380)](e(373));n&&t[e(263)].on(e(375),((r,s)=>{const o=e,i=s[0];if(o(312)!=i[o(350)]||!i[o(320)][o(290)](o(364)))return;const a=i[o(322)];n[o(366)][o(258)](a)&&(i[o(340)]=i[o(389)]?t[o(263)][o(355)](i[o(389)][o(271)],i[o(389)][o(369)]):null)}),{priority:e(301)})}[Cs(277)](){const e=Cs;return this[e(265)][e(385)](),super[e(277)]()}[Cs(273)](){const e=Cs,t=this[e(328)],n=t[e(263)][e(279)],r=t[e(346)][e(380)](ms);t[e(263)][e(378)]({isUndoable:!1},(s=>{const o=e,i=o(391)+r[o(382)],a=o(343)+r[o(382)],c=t[o(263)][o(296)][o(258)](i);t[o(285)][o(383)][o(324)]?xs(r[o(382)],n[o(317)][o(311)](),t[o(263)],s):c&&(s[o(361)](i),s[o(361)](a))}))}}function xs(e,t,n,r){const s=Cs,o=s(391)+e,i=s(343)+e,a=t[s(379)]();let c=t[s(271)];a&&a.is(s(377),s(314))&&(c=function(e,t){const n=s;for(const r of e[n(371)]())if(t[n(292)][n(360)](r,n(306)))return r}(t,n),t=r[s(355)](c));const d=r[s(355)](c);n[s(296)][s(258)](o)?(r[s(372)](o,{range:t}),r[s(372)](i,{range:d})):(r[s(330)](o,{range:t,usingOperation:!0}),r[s(330)](i,{range:d,usingOperation:!0}))}function Rs(e,t,n){const r=e.t,s=e.t;switch(t){case"PENDING_ACTION_SENDING_DATA":return s({string:"Sending data to the server.",id:"PENDING_ACTION_SENDING_DATA"});case"The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.":return s("The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.");case"The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.":return s("The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.");case"The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.":return s("The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.");case"The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.":return s("The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.");case"Synchronization issue":return s("Synchronization issue");case"Connected users list dropdown menu":return s("Connected users list dropdown menu");case"Collapsed connected users list (press ENTER to open it)":return s("Collapsed connected users list (press ENTER to open it)");case"Connected users list":return s("Connected users list");case"PENDING_ACTION_REVISION_HISTORY":return r({string:"Unsaved change in revision history.",id:"PENDING_ACTION_REVISION_HISTORY"});case"CONNECTED_USERS":return s({string:"1 connected user (me)",plural:"%0 connected users",id:"CONNECTED_USERS"},n);default:return""}}const Ns=(()=>{var e=p.Reader,t=p.Writer,n=p.util,r=p.roots.default||(p.roots.default={});return r.AttributeOperation=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.range=null,s.prototype.key="",s.prototype.oldValueBoolean=!1,s.prototype.oldValueJson="",s.prototype.newValueBoolean=!1,s.prototype.newValueJson="",s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.range&&Object.hasOwnProperty.call(e,"range")&&r.Range.encode(e.range,n.uint32(10).fork()).ldelim(),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&n.uint32(18).string(e.key),null!=e.oldValueBoolean&&Object.hasOwnProperty.call(e,"oldValueBoolean")&&n.uint32(24).bool(e.oldValueBoolean),null!=e.oldValueJson&&Object.hasOwnProperty.call(e,"oldValueJson")&&n.uint32(34).string(e.oldValueJson),null!=e.newValueBoolean&&Object.hasOwnProperty.call(e,"newValueBoolean")&&n.uint32(40).bool(e.newValueBoolean),null!=e.newValueJson&&Object.hasOwnProperty.call(e,"newValueJson")&&n.uint32(50).string(e.newValueJson),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(56).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.AttributeOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.range=r.Range.decode(t,t.uint32());break;case 2:o.key=t.string();break;case 3:o.oldValueBoolean=t.bool();break;case 4:o.oldValueJson=t.string();break;case 5:o.newValueBoolean=t.bool();break;case 6:o.newValueJson=t.string();break;case 7:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.range&&e.hasOwnProperty("range")){var t=r.Range.verify(e.range);if(t)return"range."+t}return null!=e.key&&e.hasOwnProperty("key")&&!n.isString(e.key)?"key: string expected":null!=e.oldValueBoolean&&e.hasOwnProperty("oldValueBoolean")&&"boolean"!=typeof e.oldValueBoolean?"oldValueBoolean: boolean expected":null!=e.oldValueJson&&e.hasOwnProperty("oldValueJson")&&!n.isString(e.oldValueJson)?"oldValueJson: string expected":null!=e.newValueBoolean&&e.hasOwnProperty("newValueBoolean")&&"boolean"!=typeof e.newValueBoolean?"newValueBoolean: boolean expected":null!=e.newValueJson&&e.hasOwnProperty("newValueJson")&&!n.isString(e.newValueJson)?"newValueJson: string expected":null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.AttributeOperation)return e;var t=new r.AttributeOperation;if(null!=e.range){if("object"!=typeof e.range)throw TypeError(".AttributeOperation.range: object expected");t.range=r.Range.fromObject(e.range)}return null!=e.key&&(t.key=String(e.key)),null!=e.oldValueBoolean&&(t.oldValueBoolean=Boolean(e.oldValueBoolean)),null!=e.oldValueJson&&(t.oldValueJson=String(e.oldValueJson)),null!=e.newValueBoolean&&(t.newValueBoolean=Boolean(e.newValueBoolean)),null!=e.newValueJson&&(t.newValueJson=String(e.newValueJson)),null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.range=null,n.key="",n.oldValueBoolean=!1,n.oldValueJson="",n.newValueBoolean=!1,n.newValueJson="",n.wasUndone=!1),null!=e.range&&e.hasOwnProperty("range")&&(n.range=r.Range.toObject(e.range,t)),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.oldValueBoolean&&e.hasOwnProperty("oldValueBoolean")&&(n.oldValueBoolean=e.oldValueBoolean),null!=e.oldValueJson&&e.hasOwnProperty("oldValueJson")&&(n.oldValueJson=e.oldValueJson),null!=e.newValueBoolean&&e.hasOwnProperty("newValueBoolean")&&(n.newValueBoolean=e.newValueBoolean),null!=e.newValueJson&&e.hasOwnProperty("newValueJson")&&(n.newValueJson=e.newValueJson),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/AttributeOperation"},s}(),r.InsertOperation=function(){function s(e){if(this.nodes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.position=null,s.prototype.nodes=n.emptyArray,s.prototype.shouldReceiveAttributes=!1,s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.position&&Object.hasOwnProperty.call(e,"position")&&r.Position.encode(e.position,n.uint32(10).fork()).ldelim(),null!=e.nodes&&e.nodes.length)for(var s=0;s<e.nodes.length;++s)r.Element.encode(e.nodes[s],n.uint32(18).fork()).ldelim();return null!=e.shouldReceiveAttributes&&Object.hasOwnProperty.call(e,"shouldReceiveAttributes")&&n.uint32(24).bool(e.shouldReceiveAttributes),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(32).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.InsertOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.position=r.Position.decode(t,t.uint32());break;case 2:o.nodes&&o.nodes.length||(o.nodes=[]),o.nodes.push(r.Element.decode(t,t.uint32()));break;case 3:o.shouldReceiveAttributes=t.bool();break;case 4:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.position&&e.hasOwnProperty("position")&&(n=r.Position.verify(e.position)))return"position."+n;if(null!=e.nodes&&e.hasOwnProperty("nodes")){if(!Array.isArray(e.nodes))return"nodes: array expected";for(var t=0;t<e.nodes.length;++t){var n;if(n=r.Element.verify(e.nodes[t]))return"nodes."+n}}return null!=e.shouldReceiveAttributes&&e.hasOwnProperty("shouldReceiveAttributes")&&"boolean"!=typeof e.shouldReceiveAttributes?"shouldReceiveAttributes: boolean expected":null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.InsertOperation)return e;var t=new r.InsertOperation;if(null!=e.position){if("object"!=typeof e.position)throw TypeError(".InsertOperation.position: object expected");t.position=r.Position.fromObject(e.position)}if(e.nodes){if(!Array.isArray(e.nodes))throw TypeError(".InsertOperation.nodes: array expected");t.nodes=[];for(var n=0;n<e.nodes.length;++n){if("object"!=typeof e.nodes[n])throw TypeError(".InsertOperation.nodes: object expected");t.nodes[n]=r.Element.fromObject(e.nodes[n])}}return null!=e.shouldReceiveAttributes&&(t.shouldReceiveAttributes=Boolean(e.shouldReceiveAttributes)),null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.nodes=[]),t.defaults&&(n.position=null,n.shouldReceiveAttributes=!1,n.wasUndone=!1),null!=e.position&&e.hasOwnProperty("position")&&(n.position=r.Position.toObject(e.position,t)),e.nodes&&e.nodes.length){n.nodes=[];for(var s=0;s<e.nodes.length;++s)n.nodes[s]=r.Element.toObject(e.nodes[s],t)}return null!=e.shouldReceiveAttributes&&e.hasOwnProperty("shouldReceiveAttributes")&&(n.shouldReceiveAttributes=e.shouldReceiveAttributes),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/InsertOperation"},s}(),r.MarkerOperation=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.name="",s.prototype.oldRange=null,s.prototype.newRange=null,s.prototype.affectsData=!1,s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&n.uint32(10).string(e.name),null!=e.oldRange&&Object.hasOwnProperty.call(e,"oldRange")&&r.Range.encode(e.oldRange,n.uint32(18).fork()).ldelim(),null!=e.newRange&&Object.hasOwnProperty.call(e,"newRange")&&r.Range.encode(e.newRange,n.uint32(26).fork()).ldelim(),null!=e.affectsData&&Object.hasOwnProperty.call(e,"affectsData")&&n.uint32(32).bool(e.affectsData),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(40).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.MarkerOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.name=t.string();break;case 2:o.oldRange=r.Range.decode(t,t.uint32());break;case 3:o.newRange=r.Range.decode(t,t.uint32());break;case 4:o.affectsData=t.bool();break;case 5:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!n.isString(e.name))return"name: string expected";var t;if(null!=e.oldRange&&e.hasOwnProperty("oldRange")&&(t=r.Range.verify(e.oldRange)))return"oldRange."+t;if(null!=e.newRange&&e.hasOwnProperty("newRange")&&(t=r.Range.verify(e.newRange)))return"newRange."+t;return null!=e.affectsData&&e.hasOwnProperty("affectsData")&&"boolean"!=typeof e.affectsData?"affectsData: boolean expected":null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.MarkerOperation)return e;var t=new r.MarkerOperation;if(null!=e.name&&(t.name=String(e.name)),null!=e.oldRange){if("object"!=typeof e.oldRange)throw TypeError(".MarkerOperation.oldRange: object expected");t.oldRange=r.Range.fromObject(e.oldRange)}if(null!=e.newRange){if("object"!=typeof e.newRange)throw TypeError(".MarkerOperation.newRange: object expected");t.newRange=r.Range.fromObject(e.newRange)}return null!=e.affectsData&&(t.affectsData=Boolean(e.affectsData)),null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.oldRange=null,n.newRange=null,n.affectsData=!1,n.wasUndone=!1),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.oldRange&&e.hasOwnProperty("oldRange")&&(n.oldRange=r.Range.toObject(e.oldRange,t)),null!=e.newRange&&e.hasOwnProperty("newRange")&&(n.newRange=r.Range.toObject(e.newRange,t)),null!=e.affectsData&&e.hasOwnProperty("affectsData")&&(n.affectsData=e.affectsData),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/MarkerOperation"},s}(),r.MergeOperation=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.sourcePosition=null,s.prototype.targetPosition=null,s.prototype.graveyardPosition=null,s.prototype.howMany=0,s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.sourcePosition&&Object.hasOwnProperty.call(e,"sourcePosition")&&r.Position.encode(e.sourcePosition,n.uint32(10).fork()).ldelim(),null!=e.targetPosition&&Object.hasOwnProperty.call(e,"targetPosition")&&r.Position.encode(e.targetPosition,n.uint32(18).fork()).ldelim(),null!=e.graveyardPosition&&Object.hasOwnProperty.call(e,"graveyardPosition")&&r.Position.encode(e.graveyardPosition,n.uint32(26).fork()).ldelim(),null!=e.howMany&&Object.hasOwnProperty.call(e,"howMany")&&n.uint32(32).uint32(e.howMany),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(40).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.MergeOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.sourcePosition=r.Position.decode(t,t.uint32());break;case 2:o.targetPosition=r.Position.decode(t,t.uint32());break;case 3:o.graveyardPosition=r.Position.decode(t,t.uint32());break;case 4:o.howMany=t.uint32();break;case 5:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t;if(null!=e.sourcePosition&&e.hasOwnProperty("sourcePosition")&&(t=r.Position.verify(e.sourcePosition)))return"sourcePosition."+t;if(null!=e.targetPosition&&e.hasOwnProperty("targetPosition")&&(t=r.Position.verify(e.targetPosition)))return"targetPosition."+t;if(null!=e.graveyardPosition&&e.hasOwnProperty("graveyardPosition")&&(t=r.Position.verify(e.graveyardPosition)))return"graveyardPosition."+t;return null!=e.howMany&&e.hasOwnProperty("howMany")&&!n.isInteger(e.howMany)?"howMany: integer expected":null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.MergeOperation)return e;var t=new r.MergeOperation;if(null!=e.sourcePosition){if("object"!=typeof e.sourcePosition)throw TypeError(".MergeOperation.sourcePosition: object expected");t.sourcePosition=r.Position.fromObject(e.sourcePosition)}if(null!=e.targetPosition){if("object"!=typeof e.targetPosition)throw TypeError(".MergeOperation.targetPosition: object expected");t.targetPosition=r.Position.fromObject(e.targetPosition)}if(null!=e.graveyardPosition){if("object"!=typeof e.graveyardPosition)throw TypeError(".MergeOperation.graveyardPosition: object expected");t.graveyardPosition=r.Position.fromObject(e.graveyardPosition)}return null!=e.howMany&&(t.howMany=e.howMany>>>0),null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.sourcePosition=null,n.targetPosition=null,n.graveyardPosition=null,n.howMany=0,n.wasUndone=!1),null!=e.sourcePosition&&e.hasOwnProperty("sourcePosition")&&(n.sourcePosition=r.Position.toObject(e.sourcePosition,t)),null!=e.targetPosition&&e.hasOwnProperty("targetPosition")&&(n.targetPosition=r.Position.toObject(e.targetPosition,t)),null!=e.graveyardPosition&&e.hasOwnProperty("graveyardPosition")&&(n.graveyardPosition=r.Position.toObject(e.graveyardPosition,t)),null!=e.howMany&&e.hasOwnProperty("howMany")&&(n.howMany=e.howMany),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/MergeOperation"},s}(),r.MoveOperation=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.sourcePosition=null,s.prototype.howMany=0,s.prototype.targetPosition=null,s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.sourcePosition&&Object.hasOwnProperty.call(e,"sourcePosition")&&r.Position.encode(e.sourcePosition,n.uint32(10).fork()).ldelim(),null!=e.howMany&&Object.hasOwnProperty.call(e,"howMany")&&n.uint32(16).uint32(e.howMany),null!=e.targetPosition&&Object.hasOwnProperty.call(e,"targetPosition")&&r.Position.encode(e.targetPosition,n.uint32(26).fork()).ldelim(),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(32).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.MoveOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.sourcePosition=r.Position.decode(t,t.uint32());break;case 2:o.howMany=t.uint32();break;case 3:o.targetPosition=r.Position.decode(t,t.uint32());break;case 4:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t;if(null!=e.sourcePosition&&e.hasOwnProperty("sourcePosition")&&(t=r.Position.verify(e.sourcePosition)))return"sourcePosition."+t;if(null!=e.howMany&&e.hasOwnProperty("howMany")&&!n.isInteger(e.howMany))return"howMany: integer expected";if(null!=e.targetPosition&&e.hasOwnProperty("targetPosition")&&(t=r.Position.verify(e.targetPosition)))return"targetPosition."+t;return null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.MoveOperation)return e;var t=new r.MoveOperation;if(null!=e.sourcePosition){if("object"!=typeof e.sourcePosition)throw TypeError(".MoveOperation.sourcePosition: object expected");t.sourcePosition=r.Position.fromObject(e.sourcePosition)}if(null!=e.howMany&&(t.howMany=e.howMany>>>0),null!=e.targetPosition){if("object"!=typeof e.targetPosition)throw TypeError(".MoveOperation.targetPosition: object expected");t.targetPosition=r.Position.fromObject(e.targetPosition)}return null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.sourcePosition=null,n.howMany=0,n.targetPosition=null,n.wasUndone=!1),null!=e.sourcePosition&&e.hasOwnProperty("sourcePosition")&&(n.sourcePosition=r.Position.toObject(e.sourcePosition,t)),null!=e.howMany&&e.hasOwnProperty("howMany")&&(n.howMany=e.howMany),null!=e.targetPosition&&e.hasOwnProperty("targetPosition")&&(n.targetPosition=r.Position.toObject(e.targetPosition,t)),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/MoveOperation"},s}(),r.RenameOperation=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.position=null,s.prototype.oldName="",s.prototype.newName="",s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.position&&Object.hasOwnProperty.call(e,"position")&&r.Position.encode(e.position,n.uint32(10).fork()).ldelim(),null!=e.oldName&&Object.hasOwnProperty.call(e,"oldName")&&n.uint32(18).string(e.oldName),null!=e.newName&&Object.hasOwnProperty.call(e,"newName")&&n.uint32(26).string(e.newName),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(32).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RenameOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.position=r.Position.decode(t,t.uint32());break;case 2:o.oldName=t.string();break;case 3:o.newName=t.string();break;case 4:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.position&&e.hasOwnProperty("position")){var t=r.Position.verify(e.position);if(t)return"position."+t}return null!=e.oldName&&e.hasOwnProperty("oldName")&&!n.isString(e.oldName)?"oldName: string expected":null!=e.newName&&e.hasOwnProperty("newName")&&!n.isString(e.newName)?"newName: string expected":null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.RenameOperation)return e;var t=new r.RenameOperation;if(null!=e.position){if("object"!=typeof e.position)throw TypeError(".RenameOperation.position: object expected");t.position=r.Position.fromObject(e.position)}return null!=e.oldName&&(t.oldName=String(e.oldName)),null!=e.newName&&(t.newName=String(e.newName)),null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.position=null,n.oldName="",n.newName="",n.wasUndone=!1),null!=e.position&&e.hasOwnProperty("position")&&(n.position=r.Position.toObject(e.position,t)),null!=e.oldName&&e.hasOwnProperty("oldName")&&(n.oldName=e.oldName),null!=e.newName&&e.hasOwnProperty("newName")&&(n.newName=e.newName),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RenameOperation"},s}(),r.RootAttributeOperation=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.root="",s.prototype.key="",s.prototype.oldValueBoolean=!1,s.prototype.oldValueJson="",s.prototype.newValueBoolean=!1,s.prototype.newValueJson="",s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.root&&Object.hasOwnProperty.call(e,"root")&&n.uint32(10).string(e.root),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&n.uint32(18).string(e.key),null!=e.oldValueBoolean&&Object.hasOwnProperty.call(e,"oldValueBoolean")&&n.uint32(24).bool(e.oldValueBoolean),null!=e.oldValueJson&&Object.hasOwnProperty.call(e,"oldValueJson")&&n.uint32(34).string(e.oldValueJson),null!=e.newValueBoolean&&Object.hasOwnProperty.call(e,"newValueBoolean")&&n.uint32(40).bool(e.newValueBoolean),null!=e.newValueJson&&Object.hasOwnProperty.call(e,"newValueJson")&&n.uint32(50).string(e.newValueJson),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(56).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RootAttributeOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.root=t.string();break;case 2:o.key=t.string();break;case 3:o.oldValueBoolean=t.bool();break;case 4:o.oldValueJson=t.string();break;case 5:o.newValueBoolean=t.bool();break;case 6:o.newValueJson=t.string();break;case 7:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.root&&e.hasOwnProperty("root")&&!n.isString(e.root)?"root: string expected":null!=e.key&&e.hasOwnProperty("key")&&!n.isString(e.key)?"key: string expected":null!=e.oldValueBoolean&&e.hasOwnProperty("oldValueBoolean")&&"boolean"!=typeof e.oldValueBoolean?"oldValueBoolean: boolean expected":null!=e.oldValueJson&&e.hasOwnProperty("oldValueJson")&&!n.isString(e.oldValueJson)?"oldValueJson: string expected":null!=e.newValueBoolean&&e.hasOwnProperty("newValueBoolean")&&"boolean"!=typeof e.newValueBoolean?"newValueBoolean: boolean expected":null!=e.newValueJson&&e.hasOwnProperty("newValueJson")&&!n.isString(e.newValueJson)?"newValueJson: string expected":null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.RootAttributeOperation)return e;var t=new r.RootAttributeOperation;return null!=e.root&&(t.root=String(e.root)),null!=e.key&&(t.key=String(e.key)),null!=e.oldValueBoolean&&(t.oldValueBoolean=Boolean(e.oldValueBoolean)),null!=e.oldValueJson&&(t.oldValueJson=String(e.oldValueJson)),null!=e.newValueBoolean&&(t.newValueBoolean=Boolean(e.newValueBoolean)),null!=e.newValueJson&&(t.newValueJson=String(e.newValueJson)),null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.root="",n.key="",n.oldValueBoolean=!1,n.oldValueJson="",n.newValueBoolean=!1,n.newValueJson="",n.wasUndone=!1),null!=e.root&&e.hasOwnProperty("root")&&(n.root=e.root),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.oldValueBoolean&&e.hasOwnProperty("oldValueBoolean")&&(n.oldValueBoolean=e.oldValueBoolean),null!=e.oldValueJson&&e.hasOwnProperty("oldValueJson")&&(n.oldValueJson=e.oldValueJson),null!=e.newValueBoolean&&e.hasOwnProperty("newValueBoolean")&&(n.newValueBoolean=e.newValueBoolean),null!=e.newValueJson&&e.hasOwnProperty("newValueJson")&&(n.newValueJson=e.newValueJson),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RootAttributeOperation"},s}(),r.RootOperation=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.rootName="",s.prototype.elementName="",s.prototype.isAdd=!1,s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.rootName&&Object.hasOwnProperty.call(e,"rootName")&&n.uint32(10).string(e.rootName),null!=e.elementName&&Object.hasOwnProperty.call(e,"elementName")&&n.uint32(18).string(e.elementName),null!=e.isAdd&&Object.hasOwnProperty.call(e,"isAdd")&&n.uint32(24).bool(e.isAdd),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(32).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.RootOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.rootName=t.string();break;case 2:o.elementName=t.string();break;case 3:o.isAdd=t.bool();break;case 4:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rootName&&e.hasOwnProperty("rootName")&&!n.isString(e.rootName)?"rootName: string expected":null!=e.elementName&&e.hasOwnProperty("elementName")&&!n.isString(e.elementName)?"elementName: string expected":null!=e.isAdd&&e.hasOwnProperty("isAdd")&&"boolean"!=typeof e.isAdd?"isAdd: boolean expected":null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.RootOperation)return e;var t=new r.RootOperation;return null!=e.rootName&&(t.rootName=String(e.rootName)),null!=e.elementName&&(t.elementName=String(e.elementName)),null!=e.isAdd&&(t.isAdd=Boolean(e.isAdd)),null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.rootName="",n.elementName="",n.isAdd=!1,n.wasUndone=!1),null!=e.rootName&&e.hasOwnProperty("rootName")&&(n.rootName=e.rootName),null!=e.elementName&&e.hasOwnProperty("elementName")&&(n.elementName=e.elementName),null!=e.isAdd&&e.hasOwnProperty("isAdd")&&(n.isAdd=e.isAdd),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/RootOperation"},s}(),r.SplitOperation=function(){function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.splitPosition=null,s.prototype.graveyardPosition=null,s.prototype.howMany=0,s.prototype.insertionPosition=null,s.prototype.wasUndone=!1,s.create=function(e){return new s(e)},s.encode=function(e,n){return n||(n=t.create()),null!=e.splitPosition&&Object.hasOwnProperty.call(e,"splitPosition")&&r.Position.encode(e.splitPosition,n.uint32(10).fork()).ldelim(),null!=e.graveyardPosition&&Object.hasOwnProperty.call(e,"graveyardPosition")&&r.Position.encode(e.graveyardPosition,n.uint32(18).fork()).ldelim(),null!=e.howMany&&Object.hasOwnProperty.call(e,"howMany")&&n.uint32(24).uint32(e.howMany),null!=e.insertionPosition&&Object.hasOwnProperty.call(e,"insertionPosition")&&r.Position.encode(e.insertionPosition,n.uint32(34).fork()).ldelim(),null!=e.wasUndone&&Object.hasOwnProperty.call(e,"wasUndone")&&n.uint32(40).bool(e.wasUndone),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.SplitOperation;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.splitPosition=r.Position.decode(t,t.uint32());break;case 2:o.graveyardPosition=r.Position.decode(t,t.uint32());break;case 3:o.howMany=t.uint32();break;case 4:o.insertionPosition=r.Position.decode(t,t.uint32());break;case 5:o.wasUndone=t.bool();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t;if(null!=e.splitPosition&&e.hasOwnProperty("splitPosition")&&(t=r.Position.verify(e.splitPosition)))return"splitPosition."+t;if(null!=e.graveyardPosition&&e.hasOwnProperty("graveyardPosition")&&(t=r.Position.verify(e.graveyardPosition)))return"graveyardPosition."+t;if(null!=e.howMany&&e.hasOwnProperty("howMany")&&!n.isInteger(e.howMany))return"howMany: integer expected";if(null!=e.insertionPosition&&e.hasOwnProperty("insertionPosition")&&(t=r.Position.verify(e.insertionPosition)))return"insertionPosition."+t;return null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&"boolean"!=typeof e.wasUndone?"wasUndone: boolean expected":null},s.fromObject=function(e){if(e instanceof r.SplitOperation)return e;var t=new r.SplitOperation;if(null!=e.splitPosition){if("object"!=typeof e.splitPosition)throw TypeError(".SplitOperation.splitPosition: object expected");t.splitPosition=r.Position.fromObject(e.splitPosition)}if(null!=e.graveyardPosition){if("object"!=typeof e.graveyardPosition)throw TypeError(".SplitOperation.graveyardPosition: object expected");t.graveyardPosition=r.Position.fromObject(e.graveyardPosition)}if(null!=e.howMany&&(t.howMany=e.howMany>>>0),null!=e.insertionPosition){if("object"!=typeof e.insertionPosition)throw TypeError(".SplitOperation.insertionPosition: object expected");t.insertionPosition=r.Position.fromObject(e.insertionPosition)}return null!=e.wasUndone&&(t.wasUndone=Boolean(e.wasUndone)),t},s.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.splitPosition=null,n.graveyardPosition=null,n.howMany=0,n.insertionPosition=null,n.wasUndone=!1),null!=e.splitPosition&&e.hasOwnProperty("splitPosition")&&(n.splitPosition=r.Position.toObject(e.splitPosition,t)),null!=e.graveyardPosition&&e.hasOwnProperty("graveyardPosition")&&(n.graveyardPosition=r.Position.toObject(e.graveyardPosition,t)),null!=e.howMany&&e.hasOwnProperty("howMany")&&(n.howMany=e.howMany),null!=e.insertionPosition&&e.hasOwnProperty("insertionPosition")&&(n.insertionPosition=r.Position.toObject(e.insertionPosition,t)),null!=e.wasUndone&&e.hasOwnProperty("wasUndone")&&(n.wasUndone=e.wasUndone),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/SplitOperation"},s}(),r.Position=function(){function s(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.root="",s.prototype.rootMain=!1,s.prototype.rootGraveyard=!1,s.prototype.path=n.emptyArray,s.prototype.stickiness="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.root&&Object.hasOwnProperty.call(e,"root")&&n.uint32(10).string(e.root),null!=e.rootMain&&Object.hasOwnProperty.call(e,"rootMain")&&n.uint32(16).bool(e.rootMain),null!=e.rootGraveyard&&Object.hasOwnProperty.call(e,"rootGraveyard")&&n.uint32(24).bool(e.rootGraveyard),null!=e.path&&e.path.length){n.uint32(34).fork();for(var r=0;r<e.path.length;++r)n.uint32(e.path[r]);n.ldelim()}return null!=e.stickiness&&Object.hasOwnProperty.call(e,"stickiness")&&n.uint32(42).string(e.stickiness),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.Position;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.root=t.string();break;case 2:o.rootMain=t.bool();break;case 3:o.rootGraveyard=t.bool();break;case 4:if(o.path&&o.path.length||(o.path=[]),2==(7&i))for(var a=t.uint32()+t.pos;t.pos<a;)o.path.push(t.uint32());else o.path.push(t.uint32());break;case 5:o.stickiness=t.string();break;default:t.skipType(7&i)}}return o},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.root&&e.hasOwnProperty("root")&&!n.isString(e.root))return"root: string expected";if(null!=e.rootMain&&e.hasOwnProperty("rootMain")&&"boolean"!=typeof e.rootMain)return"rootMain: boolean expected";if(null!=e.rootGraveyard&&e.hasOwnProperty("rootGraveyard")&&"boolean"!=typeof e.rootGraveyard)return"rootGraveyard: boolean expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!n.isInteger(e.path[t]))return"path: integer[] expected"}return null!=e.stickiness&&e.hasOwnProperty("stickiness")&&!n.isString(e.stickiness)?"stickiness: string expected":null},s.fromObject=function(e){if(e instanceof r.Position)return e;var t=new r.Position;if(null!=e.root&&(t.root=String(e.root)),null!=e.rootMain&&(t.rootMain=Boolean(e.rootMain)),null!=e.rootGraveyard&&(t.rootGraveyard=Boolean(e.rootGraveyard)),e.path){if(!Array.isArray(e.path))throw TypeError(".Position.path: array expected");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=e.path[n]>>>0}return null!=e.stickiness&&(t.stickiness=String(e.stickiness)),t},s.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.path=[]),t.defaults&&(n.root="",n.rootMain=!1,n.rootGraveyard=!1,n.stickiness=""),null!=e.root&&e.hasOwnProperty("root")&&(n.root=e.root),null!=e.rootMain&&e.hasOwnProperty("rootMain")&&(n.rootMain=e.rootMain),null!=e.rootGraveyard&&e.hasOwnProperty("rootGraveyard")&&(n.rootGraveyard=e.rootGraveyard),e.path&&e.path.length){n.path=[];for(var r=0;r<e.path.length;++r)n.path[r]=e.path[r]}return null!=e.stickiness&&e.hasOwnProperty("stickiness")&&(n.stickiness=e.stickiness),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/Position"},s}(),r.Range=function(){function n(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return n.prototype.start=null,n.prototype.end=null,n.create=function(e){return new n(e)},n.encode=function(e,n){return n||(n=t.create()),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&r.Position.encode(e.start,n.uint32(10).fork()).ldelim(),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&r.Position.encode(e.end,n.uint32(18).fork()).ldelim(),n},n.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},n.decode=function(t,n){t instanceof e||(t=e.create(t));for(var s=void 0===n?t.len:t.pos+n,o=new r.Range;t.pos<s;){var i=t.uint32();switch(i>>>3){case 1:o.start=r.Position.decode(t,t.uint32());break;case 2:o.end=r.Position.decode(t,t.uint32());break;default:t.skipType(7&i)}}return o},n.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},n.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t;if(null!=e.start&&e.hasOwnProperty("start")&&(t=r.Position.verify(e.start)))return"start."+t;if(null!=e.end&&e.hasOwnProperty("end")&&(t=r.Position.verify(e.end)))return"end."+t;return null},n.fromObject=function(e){if(e instanceof r.Range)return e;var t=new r.Range;if(null!=e.start){if("object"!=typeof e.start)throw TypeError(".Range.start: object expected");t.start=r.Position.fromObject(e.start)}if(null!=e.end){if("object"!=typeof e.end)throw TypeError(".Range.end: object expected");t.end=r.Position.fromObject(e.end)}return t},n.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.start=null,n.end=null),null!=e.start&&e.hasOwnProperty("start")&&(n.start=r.Position.toObject(e.start,t)),null!=e.end&&e.hasOwnProperty("end")&&(n.end=r.Position.toObject(e.end,t)),n},n.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},n.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/Range"},n}(),r.Element=function(){function s(e){if(this.children=[],this.attributesBoolean={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return s.prototype.name="",s.prototype.children=n.emptyArray,s.prototype.data="",s.prototype.attributesBoolean=n.emptyObject,s.prototype.attributesJson="",s.create=function(e){return new s(e)},s.encode=function(e,n){if(n||(n=t.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&n.uint32(10).string(e.name),null!=e.children&&e.children.length)for(var s=0;s<e.children.length;++s)r.Element.encode(e.children[s],n.uint32(18).fork()).ldelim();if(null!=e.data&&Object.hasOwnProperty.call(e,"data")&&n.uint32(26).string(e.data),null!=e.attributesBoolean&&Object.hasOwnProperty.call(e,"attributesBoolean")){var o=Object.keys(e.attributesBoolean);for(s=0;s<o.length;++s)n.uint32(34).fork().uint32(10).string(o[s]).uint32(16).bool(e.attributesBoolean[o[s]]).ldelim()}return null!=e.attributesJson&&Object.hasOwnProperty.call(e,"attributesJson")&&n.uint32(42).string(e.attributesJson),n},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(t,s){t instanceof e||(t=e.create(t));for(var o,i,a=void 0===s?t.len:t.pos+s,c=new r.Element;t.pos<a;){var d=t.uint32();switch(d>>>3){case 1:c.name=t.string();break;case 2:c.children&&c.children.length||(c.children=[]),c.children.push(r.Element.decode(t,t.uint32()));break;case 3:c.data=t.string();break;case 4:c.attributesBoolean===n.emptyObject&&(c.attributesBoolean={});var u=t.uint32()+t.pos;for(o="",i=!1;t.pos<u;){var l=t.uint32();switch(l>>>3){case 1:o=t.string();break;case 2:i=t.bool();break;default:t.skipType(7&l)}}c.attributesBoolean[o]=i;break;case 5:c.attributesJson=t.string();break;default:t.skipType(7&d)}}return c},s.decodeDelimited=function(t){return t instanceof e||(t=new e(t)),this.decode(t,t.uint32())},s.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!n.isString(e.name))return"name: string expected";if(null!=e.children&&e.hasOwnProperty("children")){if(!Array.isArray(e.children))return"children: array expected";for(var t=0;t<e.children.length;++t){var s=r.Element.verify(e.children[t]);if(s)return"children."+s}}if(null!=e.data&&e.hasOwnProperty("data")&&!n.isString(e.data))return"data: string expected";if(null!=e.attributesBoolean&&e.hasOwnProperty("attributesBoolean")){if(!n.isObject(e.attributesBoolean))return"attributesBoolean: object expected";var o=Object.keys(e.attributesBoolean);for(t=0;t<o.length;++t)if("boolean"!=typeof e.attributesBoolean[o[t]])return"attributesBoolean: boolean{k:string} expected"}return null!=e.attributesJson&&e.hasOwnProperty("attributesJson")&&!n.isString(e.attributesJson)?"attributesJson: string expected":null},s.fromObject=function(e){if(e instanceof r.Element)return e;var t=new r.Element;if(null!=e.name&&(t.name=String(e.name)),e.children){if(!Array.isArray(e.children))throw TypeError(".Element.children: array expected");t.children=[];for(var n=0;n<e.children.length;++n){if("object"!=typeof e.children[n])throw TypeError(".Element.children: object expected");t.children[n]=r.Element.fromObject(e.children[n])}}if(null!=e.data&&(t.data=String(e.data)),e.attributesBoolean){if("object"!=typeof e.attributesBoolean)throw TypeError(".Element.attributesBoolean: object expected");t.attributesBoolean={};var s=Object.keys(e.attributesBoolean);for(n=0;n<s.length;++n)t.attributesBoolean[s[n]]=Boolean(e.attributesBoolean[s[n]])}return null!=e.attributesJson&&(t.attributesJson=String(e.attributesJson)),t},s.toObject=function(e,t){t||(t={});var n,s={};if((t.arrays||t.defaults)&&(s.children=[]),(t.objects||t.defaults)&&(s.attributesBoolean={}),t.defaults&&(s.name="",s.data="",s.attributesJson=""),null!=e.name&&e.hasOwnProperty("name")&&(s.name=e.name),e.children&&e.children.length){s.children=[];for(var o=0;o<e.children.length;++o)s.children[o]=r.Element.toObject(e.children[o],t)}if(null!=e.data&&e.hasOwnProperty("data")&&(s.data=e.data),e.attributesBoolean&&(n=Object.keys(e.attributesBoolean)).length){s.attributesBoolean={};for(o=0;o<n.length;++o)s.attributesBoolean[n[o]]=e.attributesBoolean[n[o]]}return null!=e.attributesJson&&e.hasOwnProperty("attributesJson")&&(s.attributesJson=e.attributesJson),s},s.prototype.toJSON=function(){return this.constructor.toObject(this,p.util.toJSONOptions)},s.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/Element"},s}(),r})();class Vs{constructor(){this._protobufRoot=Ns}getDescriptor(e){return new Ms(this._protobufRoot[e])}}class Ms{constructor(e){this._protobuf=e}compress(e){const t=this._protobuf.verify(e);if(t)throw Error(t);return this._protobuf.encode(this._protobuf.create(e)).finish()}decompress(e){return this._protobuf.toObject(this._protobuf.decode(e),{oneofs:!0})}}const Bs=function(){this.__data__=[],this.size=0};const Us=function(e,t){return e===t||e!=e&&t!=t};const Js=function(e,t){for(var n=e.length;n--;)if(Us(e[n][0],t))return n;return-1};var qs=Array.prototype.splice;const Gs=function(e){var t=this.__data__,n=Js(t,e);return!(n<0)&&(n==t.length-1?t.pop():qs.call(t,n,1),--this.size,!0)};const Ls=function(e){var t=this.__data__,n=Js(t,e);return n<0?void 0:t[n][1]};const Ys=function(e){return Js(this.__data__,e)>-1};const zs=function(e,t){var n=this.__data__,r=Js(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Hs(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hs.prototype.clear=Bs,Hs.prototype.delete=Gs,Hs.prototype.get=Ls,Hs.prototype.has=Ys,Hs.prototype.set=zs;const Fs=Hs;const Ks=function(){this.__data__=new Fs,this.size=0};const Ws=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const Qs=function(e){return this.__data__.get(e)};const $s=function(e){return this.__data__.has(e)};const Xs="object"==typeof global&&global&&global.Object===Object&&global;var Zs="object"==typeof self&&self&&self.Object===Object&&self;const eo=Xs||Zs||Function("return this")();const to=eo.Symbol;var no=Object.prototype,ro=no.hasOwnProperty,so=no.toString,oo=to?to.toStringTag:void 0;const io=function(e){var t=ro.call(e,oo),n=e[oo];try{e[oo]=void 0;var r=!0}catch(e){}var s=so.call(e);return r&&(t?e[oo]=n:delete e[oo]),s};var ao=Object.prototype.toString;const co=function(e){return ao.call(e)};var uo=to?to.toStringTag:void 0;const lo=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":uo&&uo in Object(e)?io(e):co(e)};const po=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const ho=function(e){if(!po(e))return!1;var t=lo(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const fo=eo["__core-js_shared__"];var mo,yo=(mo=/[^.]+$/.exec(fo&&fo.keys&&fo.keys.IE_PROTO||""))?"Symbol(src)_1."+mo:"";const go=function(e){return!!yo&&yo in e};var bo=Function.prototype.toString;const Oo=function(e){if(null!=e){try{return bo.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var wo=/^\[object .+?Constructor\]$/,vo=Function.prototype,Io=Object.prototype,So=vo.toString,Po=Io.hasOwnProperty,ko=RegExp("^"+So.call(Po).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ao=function(e){return!(!po(e)||go(e))&&(ho(e)?ko:wo).test(Oo(e))};const _o=function(e,t){return null==e?void 0:e[t]};const To=function(e,t){var n=_o(e,t);return Ao(n)?n:void 0};const Co=To(eo,"Map");const jo=To(Object,"create");const Eo=function(){this.__data__=jo?jo(null):{},this.size=0};const Do=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var xo=Object.prototype.hasOwnProperty;const Ro=function(e){var t=this.__data__;if(jo){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xo.call(t,e)?t[e]:void 0};var No=Object.prototype.hasOwnProperty;const Vo=function(e){var t=this.__data__;return jo?void 0!==t[e]:No.call(t,e)};const Mo=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jo&&void 0===t?"__lodash_hash_undefined__":t,this};function Bo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bo.prototype.clear=Eo,Bo.prototype.delete=Do,Bo.prototype.get=Ro,Bo.prototype.has=Vo,Bo.prototype.set=Mo;const Uo=Bo;const Jo=function(){this.size=0,this.__data__={hash:new Uo,map:new(Co||Fs),string:new Uo}};const qo=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Go=function(e,t){var n=e.__data__;return qo(t)?n["string"==typeof t?"string":"hash"]:n.map};const Lo=function(e){var t=Go(this,e).delete(e);return this.size-=t?1:0,t};const Yo=function(e){return Go(this,e).get(e)};const zo=function(e){return Go(this,e).has(e)};const Ho=function(e,t){var n=Go(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Fo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fo.prototype.clear=Jo,Fo.prototype.delete=Lo,Fo.prototype.get=Yo,Fo.prototype.has=zo,Fo.prototype.set=Ho;const Ko=Fo;const Wo=function(e,t){var n=this.__data__;if(n instanceof Fs){var r=n.__data__;if(!Co||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ko(r)}return n.set(e,t),this.size=n.size,this};function Qo(e){var t=this.__data__=new Fs(e);this.size=t.size}Qo.prototype.clear=Ks,Qo.prototype.delete=Ws,Qo.prototype.get=Qs,Qo.prototype.has=$s,Qo.prototype.set=Wo;const $o=Qo;const Xo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const Zo=function(){try{var e=To(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const ei=function(e,t,n){"__proto__"==t&&Zo?Zo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var ti=Object.prototype.hasOwnProperty;const ni=function(e,t,n){var r=e[t];ti.call(e,t)&&Us(r,n)&&(void 0!==n||t in e)||ei(e,t,n)};const ri=function(e,t,n,r){var s=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],c=r?r(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),s?ei(n,a,c):ni(n,a,c)}return n};const si=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const oi=function(e){return null!=e&&"object"==typeof e};const ii=function(e){return oi(e)&&"[object Arguments]"==lo(e)};var ai=Object.prototype,ci=ai.hasOwnProperty,di=ai.propertyIsEnumerable,ui=ii(function(){return arguments}())?ii:function(e){return oi(e)&&ci.call(e,"callee")&&!di.call(e,"callee")};const li=ui;const pi=Array.isArray;const hi=function(){return!1};var fi="object"==typeof exports&&exports&&!exports.nodeType&&exports,mi=fi&&"object"==typeof module&&module&&!module.nodeType&&module,yi=mi&&mi.exports===fi?eo.Buffer:void 0;const gi=(yi?yi.isBuffer:void 0)||hi;var bi=/^(?:0|[1-9]\d*)$/;const Oi=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&bi.test(e))&&e>-1&&e%1==0&&e<t};const wi=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var vi={};vi["[object Float32Array]"]=vi["[object Float64Array]"]=vi["[object Int8Array]"]=vi["[object Int16Array]"]=vi["[object Int32Array]"]=vi["[object Uint8Array]"]=vi["[object Uint8ClampedArray]"]=vi["[object Uint16Array]"]=vi["[object Uint32Array]"]=!0,vi["[object Arguments]"]=vi["[object Array]"]=vi["[object ArrayBuffer]"]=vi["[object Boolean]"]=vi["[object DataView]"]=vi["[object Date]"]=vi["[object Error]"]=vi["[object Function]"]=vi["[object Map]"]=vi["[object Number]"]=vi["[object Object]"]=vi["[object RegExp]"]=vi["[object Set]"]=vi["[object String]"]=vi["[object WeakMap]"]=!1;const Ii=function(e){return oi(e)&&wi(e.length)&&!!vi[lo(e)]};const Si=function(e){return function(t){return e(t)}};var Pi="object"==typeof exports&&exports&&!exports.nodeType&&exports,ki=Pi&&"object"==typeof module&&module&&!module.nodeType&&module,Ai=ki&&ki.exports===Pi&&Xs.process;const _i=function(){try{var e=ki&&ki.require&&ki.require("util").types;return e||Ai&&Ai.binding&&Ai.binding("util")}catch(e){}}();var Ti=_i&&_i.isTypedArray;const Ci=Ti?Si(Ti):Ii;var ji=Object.prototype.hasOwnProperty;const Ei=function(e,t){var n=pi(e),r=!n&&li(e),s=!n&&!r&&gi(e),o=!n&&!r&&!s&&Ci(e),i=n||r||s||o,a=i?si(e.length,String):[],c=a.length;for(var d in e)!t&&!ji.call(e,d)||i&&("length"==d||s&&("offset"==d||"parent"==d)||o&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Oi(d,c))||a.push(d);return a};var Di=Object.prototype;const xi=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Di)};const Ri=function(e,t){return function(n){return e(t(n))}};const Ni=Ri(Object.keys,Object);var Vi=Object.prototype.hasOwnProperty;const Mi=function(e){if(!xi(e))return Ni(e);var t=[];for(var n in Object(e))Vi.call(e,n)&&"constructor"!=n&&t.push(n);return t};const Bi=function(e){return null!=e&&wi(e.length)&&!ho(e)};const Ui=function(e){return Bi(e)?Ei(e):Mi(e)};const Ji=function(e,t){return e&&ri(t,Ui(t),e)};const qi=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var Gi=Object.prototype.hasOwnProperty;const Li=function(e){if(!po(e))return qi(e);var t=xi(e),n=[];for(var r in e)("constructor"!=r||!t&&Gi.call(e,r))&&n.push(r);return n};const Yi=function(e){return Bi(e)?Ei(e,!0):Li(e)};const zi=function(e,t){return e&&ri(t,Yi(t),e)};var Hi="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fi=Hi&&"object"==typeof module&&module&&!module.nodeType&&module,Ki=Fi&&Fi.exports===Hi?eo.Buffer:void 0,Wi=Ki?Ki.allocUnsafe:void 0;const Qi=function(e,t){if(t)return e.slice();var n=e.length,r=Wi?Wi(n):new e.constructor(n);return e.copy(r),r};const $i=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const Xi=function(e,t){for(var n=-1,r=null==e?0:e.length,s=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[s++]=i)}return o};const Zi=function(){return[]};var ea=Object.prototype.propertyIsEnumerable,ta=Object.getOwnPropertySymbols;const na=ta?function(e){return null==e?[]:(e=Object(e),Xi(ta(e),(function(t){return ea.call(e,t)})))}:Zi;const ra=function(e,t){return ri(e,na(e),t)};const sa=function(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e};const oa=Ri(Object.getPrototypeOf,Object);const ia=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)sa(t,na(e)),e=oa(e);return t}:Zi;const aa=function(e,t){return ri(e,ia(e),t)};const ca=function(e,t,n){var r=t(e);return pi(e)?r:sa(r,n(e))};const da=function(e){return ca(e,Ui,na)};const ua=function(e){return ca(e,Yi,ia)};const la=To(eo,"DataView");const pa=To(eo,"Promise");const ha=To(eo,"Set");const fa=To(eo,"WeakMap");var ma="[object Map]",ya="[object Promise]",ga="[object Set]",ba="[object WeakMap]",Oa="[object DataView]",wa=Oo(la),va=Oo(Co),Ia=Oo(pa),Sa=Oo(ha),Pa=Oo(fa),ka=lo;(la&&ka(new la(new ArrayBuffer(1)))!=Oa||Co&&ka(new Co)!=ma||pa&&ka(pa.resolve())!=ya||ha&&ka(new ha)!=ga||fa&&ka(new fa)!=ba)&&(ka=function(e){var t=lo(e),n="[object Object]"==t?e.constructor:void 0,r=n?Oo(n):"";if(r)switch(r){case wa:return Oa;case va:return ma;case Ia:return ya;case Sa:return ga;case Pa:return ba}return t});const Aa=ka;var _a=Object.prototype.hasOwnProperty;const Ta=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&_a.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const Ca=eo.Uint8Array;const ja=function(e){var t=new e.constructor(e.byteLength);return new Ca(t).set(new Ca(e)),t};const Ea=function(e,t){var n=t?ja(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var Da=/\w*$/;const xa=function(e){var t=new e.constructor(e.source,Da.exec(e));return t.lastIndex=e.lastIndex,t};var Ra=to?to.prototype:void 0,Na=Ra?Ra.valueOf:void 0;const Va=function(e){return Na?Object(Na.call(e)):{}};const Ma=function(e,t){var n=t?ja(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const Ba=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ja(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Ea(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ma(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return xa(e);case"[object Symbol]":return Va(e)}};var Ua=Object.create;const Ja=function(){function e(){}return function(t){if(!po(t))return{};if(Ua)return Ua(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const qa=function(e){return"function"!=typeof e.constructor||xi(e)?{}:Ja(oa(e))};const Ga=function(e){return oi(e)&&"[object Map]"==Aa(e)};var La=_i&&_i.isMap;const Ya=La?Si(La):Ga;const za=function(e){return oi(e)&&"[object Set]"==Aa(e)};var Ha=_i&&_i.isSet;const Fa=Ha?Si(Ha):za;var Ka="[object Arguments]",Wa="[object Function]",Qa="[object Object]",$a={};$a[Ka]=$a["[object Array]"]=$a["[object ArrayBuffer]"]=$a["[object DataView]"]=$a["[object Boolean]"]=$a["[object Date]"]=$a["[object Float32Array]"]=$a["[object Float64Array]"]=$a["[object Int8Array]"]=$a["[object Int16Array]"]=$a["[object Int32Array]"]=$a["[object Map]"]=$a["[object Number]"]=$a[Qa]=$a["[object RegExp]"]=$a["[object Set]"]=$a["[object String]"]=$a["[object Symbol]"]=$a["[object Uint8Array]"]=$a["[object Uint8ClampedArray]"]=$a["[object Uint16Array]"]=$a["[object Uint32Array]"]=!0,$a["[object Error]"]=$a[Wa]=$a["[object WeakMap]"]=!1;const Xa=function e(t,n,r,s,o,i){var a,c=1&n,d=2&n,u=4&n;if(r&&(a=o?r(t,s,o,i):r(t)),void 0!==a)return a;if(!po(t))return t;var l=pi(t);if(l){if(a=Ta(t),!c)return $i(t,a)}else{var p=Aa(t),h=p==Wa||"[object GeneratorFunction]"==p;if(gi(t))return Qi(t,c);if(p==Qa||p==Ka||h&&!o){if(a=d||h?{}:qa(t),!c)return d?aa(t,zi(a,t)):ra(t,Ji(a,t))}else{if(!$a[p])return o?t:{};a=Ba(t,p,c)}}i||(i=new $o);var f=i.get(t);if(f)return f;i.set(t,a),Fa(t)?t.forEach((function(s){a.add(e(s,n,r,s,t,i))})):Ya(t)&&t.forEach((function(s,o){a.set(o,e(s,n,r,o,t,i))}));var m=l?void 0:(u?d?ua:da:d?Yi:Ui)(t);return Xo(m||t,(function(s,o){m&&(s=t[o=s]),ni(a,o,e(s,n,r,o,t,i))})),a};const Za=function(e){return Xa(e,5)};const ec=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const tc=function(e){return this.__data__.has(e)};function nc(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ko;++t<n;)this.add(e[t])}nc.prototype.add=nc.prototype.push=ec,nc.prototype.has=tc;const rc=nc;const sc=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const oc=function(e,t){return e.has(t)};const ic=function(e,t,n,r,s,o){var i=1&n,a=e.length,c=t.length;if(a!=c&&!(i&&c>a))return!1;var d=o.get(e),u=o.get(t);if(d&&u)return d==t&&u==e;var l=-1,p=!0,h=2&n?new rc:void 0;for(o.set(e,t),o.set(t,e);++l<a;){var f=e[l],m=t[l];if(r)var y=i?r(m,f,l,t,e,o):r(f,m,l,e,t,o);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!sc(t,(function(e,t){if(!oc(h,t)&&(f===e||s(f,e,n,r,o)))return h.push(t)}))){p=!1;break}}else if(f!==m&&!s(f,m,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p};const ac=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const cc=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var dc=to?to.prototype:void 0,uc=dc?dc.valueOf:void 0;const lc=function(e,t,n,r,s,o,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ca(e),new Ca(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Us(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=ac;case"[object Set]":var c=1&r;if(a||(a=cc),e.size!=t.size&&!c)return!1;var d=i.get(e);if(d)return d==t;r|=2,i.set(e,t);var u=ic(a(e),a(t),r,s,o,i);return i.delete(e),u;case"[object Symbol]":if(uc)return uc.call(e)==uc.call(t)}return!1};var pc=Object.prototype.hasOwnProperty;const hc=function(e,t,n,r,s,o){var i=1&n,a=da(e),c=a.length;if(c!=da(t).length&&!i)return!1;for(var d=c;d--;){var u=a[d];if(!(i?u in t:pc.call(t,u)))return!1}var l=o.get(e),p=o.get(t);if(l&&p)return l==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var f=i;++d<c;){var m=e[u=a[d]],y=t[u];if(r)var g=i?r(y,m,u,t,e,o):r(m,y,u,e,t,o);if(!(void 0===g?m===y||s(m,y,n,r,o):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var b=e.constructor,O=t.constructor;b==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof O&&O instanceof O||(h=!1)}return o.delete(e),o.delete(t),h};var fc="[object Arguments]",mc="[object Array]",yc="[object Object]",gc=Object.prototype.hasOwnProperty;const bc=function(e,t,n,r,s,o){var i=pi(e),a=pi(t),c=i?mc:Aa(e),d=a?mc:Aa(t),u=(c=c==fc?yc:c)==yc,l=(d=d==fc?yc:d)==yc,p=c==d;if(p&&gi(e)){if(!gi(t))return!1;i=!0,u=!1}if(p&&!u)return o||(o=new $o),i||Ci(e)?ic(e,t,n,r,s,o):lc(e,t,c,n,r,s,o);if(!(1&n)){var h=u&&gc.call(e,"__wrapped__"),f=l&&gc.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,y=f?t.value():t;return o||(o=new $o),s(m,y,n,r,o)}}return!!p&&(o||(o=new $o),hc(e,t,n,r,s,o))};const Oc=function e(t,n,r,s,o){return t===n||(null==t||null==n||!oi(t)&&!oi(n)?t!=t&&n!=n:bc(t,n,r,s,e,o))};const wc=function(e,t){return Oc(e,t)};function vc(e,t){const n=Za(e);return n.path[n.path.length-1]+=t,n}function Ic(e,t){return e.root===t.root&&wc(e.path,t.path)}function Sc(e){kc(e,(e=>("main"==e.root?(e.rootMain=!0,delete e.root):"$graveyard"==e.root&&(e.rootGraveyard=!0,delete e.root),e)))}function Pc(e){kc(e,(e=>(e.rootMain?(e.root="main",delete e.rootMain):e.rootGraveyard&&(e.root="$graveyard",delete e.rootGraveyard),e)))}function kc(e,t){for(const n in e){const r=e[n];"nodes"!==n&&po(r)&&(r.path&&(r.root||r.rootMain||r.rootGraveyard)?e[n]=t(r):kc(r,t))}return e}class Ac{constructor(e,t,n){this._id=e,this._operationName=t,this._protobufDescriptor=n}compress(e,t){const n=t.shift();return Sc(n),e.buffers.push(this._protobufDescriptor.compress(n)),e.types.push(this._id),!0}decompress(e,t){t.types.shift();const n=this._protobufDescriptor.decompress(t.buffers.shift());Pc(n),n.__className=this._operationName,e.push(n)}}class _c extends Ac{compress(e,t){const n=t.shift();return this._serializeOneOf("oldValue",n),this._serializeOneOf("newValue",n),Sc(n),e.buffers.push(this._protobufDescriptor.compress(n)),e.types.push(this._id),!0}decompress(e,t){const{types:n,buffers:r}=t,s=this._protobufDescriptor.decompress(r.shift());n.shift(),this._deserializeOneOf("oldValue",s),this._deserializeOneOf("newValue",s),Pc(s),s.__className=this._operationName,e.push(s)}_serializeOneOf(e,t){const n=t[e];"boolean"==typeof n?t[`${e}Boolean`]=n:t[`${e}Json`]=JSON.stringify(n)}_deserializeOneOf(e,t){const n=`${e}Json`;t[n]?(t[e]=JSON.parse(t[n]),delete t[n]):(t[e]=t[`${e}Boolean`],delete t[`${e}Boolean`])}}class Tc extends Ac{compress(e,t){const n=t.shift();return this._serializeNodesAttributes(n.nodes),Sc(n),e.buffers.push(this._protobufDescriptor.compress(n)),e.types.push(this._id),!0}decompress(e,t){const{types:n,buffers:r}=t,s=this._protobufDescriptor.decompress(r.shift());n.shift(),s.nodes||(s.nodes=[]),this._deserializeNodesAttributes(s.nodes),Pc(s),s.__className=this._operationName,e.push(s)}_serializeNodesAttributes(e){for(const t of e){if(t.attributes){const e=t.attributes;this._areValuesBoolean(e)?t.attributesBoolean=e:t.attributesJson=JSON.stringify(e)}t.children&&this._serializeNodesAttributes(t.children)}}_deserializeNodesAttributes(e){for(const t of e)(t.attributesBoolean||t.attributesJson)&&(t.attributesBoolean?(t.attributes=t.attributesBoolean,delete t.attributesBoolean):(t.attributes=JSON.parse(t.attributesJson),delete t.attributesJson)),t.children&&this._deserializeNodesAttributes(t.children)}_areValuesBoolean(e){return Object.keys(e).every((t=>"boolean"==typeof e[t]))}}class Cc extends Ac{decompress(e,t){super.decompress(e,t);const n=e[e.length-1];n.oldRange||(n.oldRange=null),n.newRange||(n.newRange=null)}}class jc extends Ac{compress(e,t){return t.shift(),e.types.push(this._id),!0}decompress(e,t){t.types.shift(),e.push({__className:this._operationName})}}class Ec extends Cc{constructor(e,t,n,r){super(e,t,n),this._omittedNamespace=r+":"}compress(e,t){return!("MarkerOperation"!=t[0].__className||!t[0].name.startsWith(this._omittedNamespace))&&(t[0].name=t[0].name.replace(new RegExp("^"+this._omittedNamespace),""),super.compress(e,t),!0)}decompress(e,t){super.decompress(e,t);const n=e[e.length-1];n.name=this._omittedNamespace+n.name}}class Dc{constructor(e,t){this._id=e,this._context=t}compress(e,t){let n;for(;t.length>1&&this._compareOperations(t[0],t[1]);)n?(n=this._combineNext(t.shift(),n),e.types.push(0)):(n=Za(t.shift()),e.types.push(this._id));return!!n&&(n=this._combineNext(t.shift(),n),e.types.push(0),e.buffers.push(this._compressSingleOperation(n)),!0)}decompress(e,t){const n=this._decompressSingleOperation(t);for(;0==t.types[0];)t.types.shift(),e.push(this._splitCurrent(n));e.push(n)}}class xc extends Dc{_combineNext(e,t){return t.nodes[0].data+=e.nodes[0].data,t}_splitCurrent(e){const t=Za(e),n=t.nodes[0],r=e.nodes[0],s=r.data[Symbol.iterator]().next().value,o=s.length;return n.data=s,r.data=r.data.substr(o),e.position=vc(e.position,o),t}_compareOperations(e,t){if(this._checkOperation(e)&&this._checkOperation(t)){const n=e.nodes[0].data.length,r=Ic(vc(e.position,n),t.position),s=e.nodes[0],o=t.nodes[0];return r&&this._compareAttributes(s,o)}return!1}_compressSingleOperation(e){const t={types:[],buffers:[],baseVersion:0};return this._context._getCompressorByName("InsertOperation").compress(t,[e]),t.buffers[0]}_decompressSingleOperation(e){const t=[];return this._context._getCompressorByName("InsertOperation").decompress(t,e),t[0]}_checkOperation(e){return"InsertOperation"==e.__className&&1==e.nodes.length&&e.nodes[0].data&&!e.wasUndone&&1==Array.from(e.nodes[0].data).length}_compareAttributes(e,t){const n=Object.keys(e.attributes||{}),r=Object.keys(t.attributes||{});return n.length===r.length&&n.every((n=>t.attributes[n]&&t.attributes[n]===e.attributes[n]))}}class Rc extends Dc{_combineNext(e,t){return t.howMany++,t.sourcePosition=Za(e.sourcePosition),t}_splitCurrent(e){const t=Za(e);return e.howMany--,t.howMany=1,t.sourcePosition=vc(t.sourcePosition,e.howMany),t}_compareOperations(e,t){return!(!this._checkOperation(e)||!this._checkOperation(t))&&(Ic(vc(e.sourcePosition,-1),t.sourcePosition)&&Ic(e.targetPosition,t.targetPosition))}_compressSingleOperation(e){const t={types:[],buffers:[],baseVersion:0};return this._context._getCompressorByName("MoveOperation").compress(t,[e]),t.buffers[0]}_decompressSingleOperation(e){const t=[];return this._context._getCompressorByName("MoveOperation").decompress(t,e),t[0]}_checkOperation(e){return"MoveOperation"==e.__className&&"$graveyard"==e.targetPosition.root&&1==e.howMany&&!e.wasUndone}}class Nc extends Dc{_combineNext(e,t){return t.howMany++,t}_splitCurrent(e){const t=Za(e);return t.howMany=1,e.howMany--,t}_compareOperations(e,t){return!(!this._checkOperation(e)||!this._checkOperation(t))&&(Ic(e.sourcePosition,t.sourcePosition)&&Ic(e.targetPosition,t.targetPosition))}_compressSingleOperation(e){const t={types:[],buffers:[],baseVersion:0};return this._context._getCompressorByName("MoveOperation").compress(t,[e]),t.buffers[0]}_decompressSingleOperation(e){const t=[];return this._context._getCompressorByName("MoveOperation").decompress(t,e),t[0]}_checkOperation(e){return"MoveOperation"==e.__className&&"$graveyard"==e.targetPosition.root&&1==e.howMany&&!e.wasUndone}}class Vc extends Dc{compress(e,t){if(!this._compareOperations(t[0],t[1]))return!1;const n=t.shift();return n.oldRange=null,n.newRange&&Ic(n.newRange.start,n.newRange.end)&&(n.newRange.end=null),t.shift(),e.types.push(this._id),e.types.push(0),e.buffers.push(this._compressSingleOperation(n)),!0}decompress(e,t){const n=this._decompressSingleOperation(t);n.newRange&&!n.newRange.end&&(n.newRange.end=Za(n.newRange.start));const r=Za(n);r.newRange&&(r.newRange.start.stickiness="toNone",r.newRange.end=Za(r.newRange.start)),r.name="user:position:"+r.name.split(":")[2],t.types.shift(),e.push(n),e.push(r)}_compressSingleOperation(e){const t={types:[],buffers:[],baseVersion:0};return this._context._getCompressorByName("MarkerOperation").compress(t,[e]),t.buffers[0]}_decompressSingleOperation(e){const t=[];return this._context._getCompressorByName("MarkerOperation").decompress(t,e),t[0]}_compareOperations(e,t){return!(!e||!t)&&("MarkerOperation"==e.__className&&"MarkerOperation"==t.__className&&!(!e.name.startsWith("user:")||!t.name.startsWith("user:")||e.name==t.name))}}class Mc{constructor(){this._compressorById=new Map,this._compressorByName=new Map,this._protobufFactory=new Vs;const e=this._protobufFactory.getDescriptor("MarkerOperation");this._registerCompressor(1,"NoOperation",new jc(1,"NoOperation",void 0)),this._registerOperationCompressor(10,"AttributeOperation",_c),this._registerOperationCompressor(11,"InsertOperation",Tc),this._registerOperationCompressor(12,"MarkerOperation",Cc),this._registerOperationCompressor(13,"MergeOperation",Ac),this._registerOperationCompressor(14,"MoveOperation",Ac),this._registerOperationCompressor(15,"RenameOperation",Ac),this._registerOperationCompressor(16,"RootAttributeOperation",_c),this._registerOperationCompressor(17,"SplitOperation",Ac),this._registerCompressor(18,"CommentMarkerOperation",new Ec(18,"MarkerOperation",e,"comment")),this._registerCompressor(19,"SuggestionMarkerOperation",new Ec(19,"MarkerOperation",e,"suggestion")),this._registerOperationCompressor(20,"RootOperation",Ac),this._registerActionCompressor(100,"TypingAction",xc),this._registerActionCompressor(101,"DeletingAction",Rc),this._registerActionCompressor(102,"ForwardDeletingAction",Nc),this._registerActionCompressor(103,"UserSelectionAction",Vc)}compress(e){if(!e||!e[0])throw new n.CKEditorError("no-operations-provided",this);const t={types:[],buffers:[],baseVersion:e[0].baseVersion};for(;e.length;)this._getCompressorByName("UserSelectionAction").compress(t,e)||this._getCompressorByName("TypingAction").compress(t,e)||this._getCompressorByName("DeletingAction").compress(t,e)||this._getCompressorByName("ForwardDeletingAction").compress(t,e)||this._getCompressorByName("CommentMarkerOperation").compress(t,e)||this._getCompressorByName("SuggestionMarkerOperation").compress(t,e)||this._getCompressorByName(e[0].__className).compress(t,e);return t}decompress(e){const t=[];for(;e.types.length;){this._compressorById.get(e.types[0]).decompress(t,e)}return t.forEach(((t,n)=>t.baseVersion=e.baseVersion+n)),t}_getCompressorByName(e){return this._compressorByName.get(e)}_registerOperationCompressor(e,t,n){const r=new n(e,t,this._protobufFactory.getDescriptor(t));this._registerCompressor(e,t,r)}_registerActionCompressor(e,t,n){const r=new n(e,this);this._registerCompressor(e,t,r)}_registerCompressor(e,t,n){this._compressorById.set(e,n),this._compressorByName.set(t,n)}}const Bc=Lc;function Uc(){const e=["createUserMarkerOperations","compress","showWarning","_isPendingUpdate","realtimecollaborationclient-init-non-existent-root","move","realtimecollaborationclient-init-session-connection-error","rootName","createdAt","string","removeFromReconnectionStack","_knownRootNames","start","_isInit","_handleReceivedOperations","wereChangesApplied","initData","_hasSelectionChanged","rtc-offline","130stbEBB","createRoot","__className","_initThrowingOnDataSet","code","_handleInitialConnectionData","real-time-collaboration","_bufferedOperations","push","_baseBufferDelay","operationsReceived","roots","_clearPendingAction","marker","_isEditingAllowed","batch","add","realtimecollaborationclient-initservice-incorrect-server-operation","requires","view","realtimecollaborationclient-init-connection-failed","The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.","_currentBufferDelay","enableReadOnlyMode","sessionId","fire","9300IydyLU","_shouldSendUpdate","finally","entries","unregister","_handleSendingSelectionMarkers","register","_knownOperations","lastOperationId","_isAttached","CollaborativeEditingService","wasUndone","rootsAttributes","define","_channelId","history","3809vBZCCf","_refreshUserSelectionMarkers","_ignoredOperations","isOfficialPlugin","userId","apply","directChange","_operationToId","getConnectedSessions","init","_sendBufferedOperationsDelayId","44160HNLoEd","_setUpDataInit","realtimecollaborationclient-error","connect","22528aXnPkP","_handleExternalOperations","loadRoot","_offset","_authorId","isPremiumPlugin","affectedSelectable","_sendBufferedOperationsDelayed","from","forEach","lastDocumentSession","return","multi-root-editor-root-attributes-no-root","_fetchMissingUsers","collaboration-missing-channelid","change:_isEditingAllowed","sessionAdd:","_saveOperationInBuffer","417XvzNxR","editor","decompress","markers","serverHistory","setIdForTheLastOperation","11oeAlBk","Synchronization issue","error","permissions","locale","ready","metadata","stop","2001830uavbWS","data","offset","realtimecollaborationclient-init-document-already-initialized","isUndoneOperation","selection","editing","newRange","_lastServerVersion","50354TxsCBR","_document","_handleReconnectionError","realtimecollaborationclient-handleserverresponse","destroy","end","bind","Notification","insert","cloudServices.bundleVersion","clone","differ","disableReadOnlyMode","map","catch","isReadOnly","position","config","getUser","version","6WXepdL","_disconnectService","listenTo","_disconnectionOperations","createPositionFromPath","change:hasDomSelection","sendOperations","The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.","plugins","disconnect","addRootAttribute","_pendingAction","isEnabled","getIdOfTheLastOperation","currentDocumentSession","setPermissions","reconnect","off","_applyOperationsSet","createPositionAt","set","_setPendingAction","_getOperationsFromInitData","_service","lastOperationAcceptedAt","reconnection: flushed session","rtc-destroyed","model","stopListening","_compressor","has","RealTimeCollaborationClient","_sendBufferedOperations","get","length","sessionCreatedAt","cs:removeUser","_isLoaded","_decompressOperations","reset","round","change:_isPendingUpdate","cloudDocumentVersion","filter","_crash","Permissions","cloud-services-internal-error: Request timeout.","path","includes","connection","_connectAfterSessionHasBeenFlushed","_waitUntilSynced","document","keys","addUser","slice","collaboration","realtimecollaborationclient-editor-setdata-and-editor-data-set-are-forbidden-in-real-time-collaboration","collaboration.channelId","size","affectsData","_bufferRootLoad","_isConnected","_addKnownRoot","InsertOperation","409","245kdSZNI","_connectService","suppressErrorInCollaboration","connected","_lastSyncedOperationId","_handleServerResponse","_updateServerHistory","_isDisconnection","parse","message","createRange","_loadRoot","realtimecollaborationclient-initservice-internal-error","startsWith","mySessionId","toJSON","fromJSON","addRoot","lastSyncVersion","3000CRfvHw","The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.","cloud-services-internal-error: Collaborative Editing Service is not connected.","high","then","$root","getMany","attributes","_getAffectedRoot","enqueueChange","applyOperation","baseVersion","remove","PENDING_ACTION_SENDING_DATA","CommentsOnly","state","cloud-services-internal-error: Not connected.","isDocumentOperation","addToReconnectionStack","disconnected","getDocumentDetails","getOperationAuthor","realtimecollaborationclient-sendbufferedoperations","_handleReconnectionResponse","type","change:range","404","The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.","_initSessionsHandling","_hasSynchronizationProblem","targetPosition","getRoot","_shouldSendSelectionUpdate","pluginName","_operationIdentifier","addOperation","getOperations","channelSessions","_compressOperations","909693CKwRyq","document:write","root"];return(Uc=function(){return e})()}!function(e){const t=Lc,n=e();for(;;)try{if(115139===parseInt(t(169))/1*(-parseInt(t(149))/2)+parseInt(t(126))/3*(parseInt(t(254))/4)+-parseInt(t(315))/5*(-parseInt(t(368))/6)+-parseInt(t(235))/7*(-parseInt(t(372))/8)+-parseInt(t(293))/9+-parseInt(t(140))/10*(-parseInt(t(132))/11)+parseInt(t(341))/12*(-parseInt(t(357))/13))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Uc);let Jc=1;class qc extends t.Plugin{static get[Bc(333)](){return[ls,ms,Ds,t.PendingActions,ps.Users,r.Notification]}static get[Bc(287)](){return Bc(200)}static get[Bc(360)](){return!0}static get[Bc(113)](){return!0}get[Bc(211)](){const e=Bc;return this[e(148)]+this[e(111)]}get[Bc(148)](){const e=Bc;return this[e(130)][e(168)]-this[e(111)]}get[Bc(253)](){const e=Bc,t=this[e(130)][e(290)]();for(let n=t[e(203)]-1;n>=0;n--){const r=t[n];if(!this[e(172)][e(199)](r))return r[e(265)]+1-this[e(111)]}return 0}constructor(e){const t=Bc;if(super(e),this[t(111)]=0,this[t(339)]=null,this[t(130)]=new s.History,this[t(127)][t(166)][t(354)](t(225),{}),this[t(355)]=this[t(127)][t(166)][t(202)](t(227)),!this[t(355)])throw new n.CKEditorError(t(122),this);const r=e[t(166)][t(202)](t(158))||n.version;this[t(192)]=new(qc[t(351)])(r,this[t(355)]),this[t(150)]=this[t(127)][t(196)][t(221)],this[t(198)]=new Mc,this[t(322)]=[],this[t(348)]=new WeakSet,this[t(307)]=new Set,this[t(189)](t(299),!1),this[t(189)](t(283),!1),this[t(180)]=null,this[t(313)]=!1,this[t(367)]=null,this[t(324)]=300,this[t(337)]=this[t(324)],this[t(239)]=null,this[t(172)]=new WeakSet,this[t(288)]=new Hc(this[t(172)])}[Bc(366)](){const e=Bc,t=this[e(127)],n=t[e(177)][e(202)](ps.Users),r=t[e(177)][e(202)](ls);this[e(171)](n,e(275),((t,r)=>{const s=e,o=r[0];o[s(112)]&&(t[s(119)]=n[s(167)](o[s(112)]),t[s(139)]()),null===o[s(112)]&&(t[s(119)]=null,t[s(139)]())}),{priority:e(257)}),this[e(171)](t[e(196)][e(221)][e(145)],e(279),((t,n)=>{const r=e;n[r(363)]&&this[r(358)]()})),this[e(171)](t[e(146)][e(334)],e(174),(()=>{this[e(358)]()})),this[e(318)](),t[e(196)].on(e(264),((t,n)=>{const r=e,s=n[0];s[r(271)]&&(this[r(125)](s),this[r(342)]()&&this[r(115)]())})),this[e(369)](),this[e(155)](e(329)).to(r,e(269),this,e(283),((t,n)=>e(238)===t&&!n)),this.on(e(123),(()=>{const n=e;this[n(329)]?t[n(161)](n(314)):t[n(338)](n(314))})),this[e(329)]?t[e(161)](e(314)):t[e(338)](e(314)),this[e(189)](e(231),!1)}async[Bc(185)](){const e=Bc,t=this[e(127)][e(177)][e(202)](ms),n=this[e(127)][e(177)][e(202)](ls);try{this[e(299)]=!0,t[e(345)](this[e(355)]);const r=await this[e(192)][e(185)](n[e(218)],this[e(253)]);await this[e(277)](r)&&(this[e(299)]=!1,this[e(327)]());const s=await this[e(192)][e(365)]();t[e(347)](this[e(355)],s),this[e(346)](),this[e(231)]=!0}catch(t){if(function(t){const n=e;return n(280)===t[n(319)]}(t)&&this[e(339)])await this[e(219)]();else if(function(t){const n=e;return n(234)===t[n(319)]}(t)){const t=Rs(this[e(127)][e(136)],e(281));this[e(151)](t)}else{if(!(t instanceof Yc))throw t;this[e(151)]()}}}[Bc(153)](){const e=Bc,t=this[e(127)][e(177)][e(202)](ls),n=this[e(127)][e(177)][e(202)](ms);this[e(127)][e(338)](e(195)),n[e(291)][e(199)](this[e(355)])&&n[e(345)](this[e(355)]),t[e(306)](this),this[e(170)](),super[e(153)]()}async[Bc(277)](e){const t=Bc;if(this[t(339)]!==e[t(339)]&&this[t(239)]!==e[t(349)])throw new Yc;return this[t(339)]=e[t(339)],this[t(240)]([],{...e,wereChangesApplied:!1,data:e[t(141)]},t(185))}async[Bc(236)](e,t=!1){const n=Bc,{connection:r}=this[n(127)][n(177)][n(202)](ls);qc[n(351)][n(365)](r,this[n(355)])[n(258)]((e=>this[n(282)](e)))[n(163)]((e=>{const t=n;this[t(213)](t(302),e)})),this[n(171)](this[n(192)],n(325),this[n(310)][n(155)](this)),this[n(171)](this[n(192)],n(134),((e,t)=>{const r=n;this[r(213)](r(247),t)})),this[n(171)](this[n(192)],n(273),(()=>{this[n(231)]=!1}));const s=this[n(288)][n(182)](e);this[n(299)]=!0;const o=await this[n(192)][n(371)](r,this[n(292)](e),s);if(this[n(339)]=o[n(339)],t){if(!o[n(311)])return void this[n(151)]();this[n(299)]=!1,this[n(327)](),this[n(130)][n(208)](),this[n(111)]=o[n(142)],this[n(130)][n(168)]=this[n(111)],await this[n(240)](e,o,n(194))}else await this[n(320)](o,e);this[n(346)](),this[n(231)]=!0}[Bc(346)](){const e=Bc,t=this[e(127)][e(177)][e(202)](ms),n=this[e(127)][e(177)][e(202)](Ds),r=t[e(291)][e(202)](this[e(355)]);r&&r[e(203)]>1?n[e(296)]():this[e(171)](t,e(124)+this[e(355)],(()=>{const r=e;2===t[r(291)][r(202)](this[r(355)])[r(203)]&&n[r(296)]()}))}async[Bc(310)](e,t,n,r){const s=Bc;if(!this[s(299)]&&this[s(150)][s(168)]==t){const e=this[s(207)](n,r);await this[s(121)](e),this[s(373)](e,t,n[s(349)])||this[s(213)](s(332))}}async[Bc(219)](){const e=Bc;this[e(170)]();const{locale:t}=this[e(127)];let n;try{n=await this[e(192)][e(274)]()}catch(n){const r=Rs(t,e(255));return void this[e(151)](r)}const r=n[e(183)]||n[e(118)];if(this[e(239)]===r[e(349)])await this[e(236)](this[e(127)][e(196)][e(221)][e(356)][e(290)](),!0);else{const n=Rs(t,e(336));this[e(151)](n)}}[Bc(170)](){const e=Bc;this[e(192)][e(178)](),this[e(322)]=[],clearTimeout(this[e(367)]),this[e(197)](this[e(192)])}[Bc(282)](e){const t=Bc,n=this[t(127)][t(177)][t(202)](ms);this[t(171)](n,t(124)+this[t(355)],((e,{session:r})=>{const s=t;if(r.id===n[s(249)]){e[s(186)]();const t=this[s(127)][s(177)][s(199)](s(268))&&this[s(127)][s(177)][s(202)](s(268));let n=r[s(135)];t&&t[s(181)]&&(n=n[s(212)]((e=>s(294)!==e))),this[s(127)][s(177)][s(202)](s(214))[s(184)](n,this[s(355)])}})),n[t(347)](this[t(355)],e)}[Bc(318)](){const e=Bc,t=this[e(127)][e(141)][e(189)];this[e(127)][e(141)][e(189)]=(...r)=>{const s=e;if(!r[r[s(203)]-1][s(237)])throw new n.CKEditorError(s(226),this);t[s(362)](this[s(127)][s(141)],r)}}[Bc(369)](){const e=Bc;this[e(127)][e(141)].on(e(366),((t,[r])=>{const o=e;if(this[o(150)][o(168)])throw new n.CKEditorError(o(143),this);t[o(139)](),this[o(190)]();const i=this[o(127)][o(166)][o(202)](o(353)),a=this[o(191)](r,i);0==a[o(203)]&&a[o(323)](new s.NoOperation(0)),t[o(119)]=this[o(236)](a)[o(258)]((()=>{const e=o;this[e(127)][e(177)][e(202)](ls)[e(272)](this),this[e(127)][e(141)][e(340)](e(137))}))[o(163)]((e=>this[o(213)](o(335),e)))[o(343)]((()=>this[o(327)]()))}),{priority:e(257)}),this[e(127)].on(e(374),(async(t,[n,r])=>{const s=e;t[s(139)]();const o=this[s(127)][s(196)][s(221)][s(285)](n);if(!this[s(307)][s(199)](n)){const e=r&&r[s(141)]?r[s(141)]:"",t=r&&r[s(261)]?r[s(261)]:{};await this[s(246)](n,e,t)}this[s(127)][s(196)][s(263)]({isUndoable:!1},(()=>{const e=s;o[e(206)]=!0,this[e(127)][e(196)][e(221)][e(160)][e(230)](o)}))}),{priority:e(257)})}async[Bc(121)](e){const t=Bc,n=this[t(127)][t(177)][t(202)](ps.Users),{connection:r}=this[t(127)][t(177)][t(202)](ls),s=new Set;for(const r of e){const e=r[t(112)];e&&!n[t(167)](e)&&s[t(331)](e)}if(0===s[t(228)])return;const o=await S[t(260)](r,Array[t(116)](s));for(const e of o)n[t(167)](e.id)||n[t(223)](e)}[Bc(191)](e,t={}){const r=Bc,o=this[r(127)][r(196)],i=[];let a=0;const c=r(305)==typeof e?{main:e}:e;for(const e of Object[r(222)](c)){if(!this[r(150)][r(326)][r(199)](e))throw new n.CKEditorError(r(300),this);const t=this[r(127)][r(141)][r(243)](c[e]),d=this[r(150)][r(285)](e),u=new s.InsertOperation(o[r(188)](d,0),t,a++);i[r(323)](u);for(const[e,n]of t[r(129)]){const t=o[r(245)](o[r(173)](d,n[r(308)][r(216)][r(224)]()),o[r(173)](d,n[r(154)][r(216)][r(224)]())),c=new s.MarkerOperation(e,null,t,o[r(129)],!0,a++);i[r(323)](c)}}if(t)for(const[e,c]of Object[r(344)](t)){const t=o[r(221)][r(285)](e);if(!t)throw new n.CKEditorError(r(120),null);for(const[e,n]of Object[r(344)](c))if(null!==n){const o=new s.RootAttributeOperation(t,e,null,n,a++);i[r(323)](o)}}return i}async[Bc(246)](e,t,n){const r=Bc;this[r(191)]({[e]:t},{[e]:n})[r(117)](((e,t)=>{const n=r;e[n(265)]=this[n(150)][n(168)]+t,e[n(309)]=!0,this[n(125)](e)})),this[r(115)](),await this[r(220)]()}async[Bc(320)](e,t){const n=Bc;let r;this[n(111)]=e[n(142)];const s=e[n(311)]&&!e[n(312)],o=s?0:e[n(141)][n(265)];if(t[n(117)]((t=>{const r=n;t[r(309)]=!0,t[r(304)]=e[r(204)],t[r(112)]=null})),s)r=t,this[n(187)](r,s);else{if(e[n(312)]){const t=this[n(191)](e[n(312)]);this[n(150)][n(356)][n(168)]=-t[n(203)],t[n(117)]((r=>{const s=n;r[s(265)]-=t[s(203)],r[s(304)]=e[s(204)],r[s(309)]=!0,r[s(112)]=null})),this[n(187)](t,!0),this[n(130)][n(168)]=-t[n(203)]+this[n(111)],this[n(241)](t)}this[n(150)][n(356)][n(168)]=o,r=this[n(207)](e[n(141)],e[n(138)]),await this[n(121)](r),this[n(187)](r,s)}e[n(349)]&&(this[n(288)][n(131)](r,e[n(349)]),this[n(239)]=e[n(349)]),this[n(130)][n(168)]=o+this[n(111)],this[n(241)](r),t[n(212)]((e=>{const t=n,r=this[t(262)](e);return r&&!this[t(307)][t(199)](r)}))[n(117)](((e,t)=>{const r=n;e[r(265)]=this[r(150)][r(168)]+t,this[r(125)](e)})),this[n(342)]()?(this[n(337)]=0,this[n(115)](!0),await this[n(220)]()):(this[n(299)]=!1,this[n(327)]())}[Bc(213)](e,t,r){const s=Bc;throw this[s(299)]=!0,t&&console[s(134)](t),r&&this[s(127)][s(338)](s(370)),new n.CKEditorError(e,this[s(127)])}[Bc(125)](e){const t=Bc;this[t(348)][t(199)](e)||(this[t(348)][t(331)](e),this[t(322)][t(323)](e),this[t(180)]||t(328)==e[t(278)]&&!e[t(229)]||this[t(190)]())}[Bc(115)](e=!1){const t=Bc;!e&&this[t(299)]||(this[t(299)]=!0,clearTimeout(this[t(367)]),this[t(367)]=setTimeout((()=>{const e=t;this[e(201)]()[e(258)]((t=>{const n=e;t&&(this[n(327)](),this[n(299)]=!1)}))[e(163)]((t=>{const n=e;this[n(327)](),this[n(299)]=!1,function(e){const t=n;return e[t(244)][t(248)](t(270))||e[t(244)][t(248)](t(256))||e[t(244)][t(248)](t(215))}(t)||this[n(213)](t[n(244)],t,!0)}))}),this[t(337)]))}[Bc(220)](){return new Promise((e=>{const t=Lc;this.on(t(210),(()=>{e()}))}))}async[Bc(201)](){const e=Bc,t=this[e(127)][e(177)][e(202)](Ds);if(this[e(286)]()&&(t[e(296)](),this[e(313)]=!1),!this[e(342)]())return!0;const n=[...this[e(322)]];for(const t of n)t[e(352)]=this[e(150)][e(356)][e(144)](t);const r=this[e(288)][e(182)](n),s=Jc++,o=this[e(292)](n),i=await this[e(192)][e(175)](o,o[e(265)],r);try{return await this[e(240)](n,i,s)}catch(t){return this[e(213)](e(276),t)}}async[Bc(240)](e,t,n){const r=Bc;if(r(134)in t)throw t[r(134)];let s=!1;if(t[r(311)]){t[r(349)]&&(this[r(239)]=t[r(349)]),this[r(322)]=this[r(322)][r(212)]((t=>!e[r(217)](t)));for(const n of e)n[r(304)]=r(193)in t&&t[r(193)]||void 0;zc(e,t[r(168)]-e[r(203)]),this[r(241)](e);const n=e[r(212)]((e=>{const t=r;if(!e[t(309)])return!1;const n=this[t(262)](e);return n&&!this[t(307)][t(199)](n)}));zc(n,this[r(150)][r(168)]),this[r(187)](n),s=!0,this[r(337)]=this[r(324)]}else{const e=this[r(207)](t[r(141)],t[r(138)])[r(212)]((e=>e[r(265)]>=this[r(148)]));e[r(117)]((e=>this[r(232)](e))),this[r(322)]=this[r(322)][r(212)]((e=>!e[r(309)]||!this[r(307)][r(199)](this[r(262)](e)))),this[r(322)][r(203)]&&zc(this[r(322)],this[r(322)][0][r(265)]),await this[r(121)](e),s=this[r(373)](e,t[r(168)],t[r(349)]),this[r(337)]=Math[r(209)](this[r(337)]/2)}return s?!this[r(342)]()||(this[r(115)](!0),!1):this[r(213)](r(152))}[Bc(373)](e,t,n){const r=Bc;try{const o={document:this[r(150)],useRelations:!1,padWithNoOps:!0},{operationsA:i,operationsB:a,originalOperations:c}=(0,s.transformSets)(e,this[r(322)],o);zc(i,this[r(150)][r(168)]),zc(a,t);for(const e of i){const t=c[r(202)](e);e[r(112)]=t?t[r(112)]:null}n&&(this[r(288)][r(131)](e,n),this[r(239)]=n),this[r(322)]=[...a],this[r(187)](i),this[r(241)](e)}catch(e){return console[r(134)](e),!1}return!0}[Bc(187)](e,t=!1){const n=Bc;this[n(127)][n(196)][n(263)]({isUndoable:!1,isLocal:!1},(t=>{const r=n;for(const n of e)this[r(348)][r(331)](n),this[r(232)](n),t[r(330)][r(289)](n),this[r(127)][r(196)][r(264)](n)}))}[Bc(232)](e){const t=Bc,n=this[t(262)](e);n&&this[t(307)][t(331)](n)}[Bc(262)](e){const t=Bc;let n,r;switch(e[t(278)]){case t(157):n=e[t(165)][t(295)];break;case t(328):if(r=e[t(147)],!r)return null;n=r[t(295)];break;case t(179):n=e[t(295)];break;case t(252):n=e[t(114)];break;case t(301):n=e[t(284)][t(295)];break;default:return null}return n[t(303)]}[Bc(241)](e){const t=Bc;e[t(117)]((e=>{const n=t,r=e[n(159)]();r[n(112)]=e[n(112)],r[n(309)]=!!e[n(309)],r[n(304)]=e[n(304)],r[n(265)]+=this[n(111)],e[n(242)]&&this[n(172)][n(331)](r),this[n(130)][n(289)](r)}))}[Bc(151)](e){const t=Bc,n=this[t(127)][t(177)][t(202)](t(156)),r=this[t(127)][t(136)];e||(e=Rs(r,t(176))),n[t(298)](e,{title:Rs(r,t(133)),namespace:t(321)}),this[t(283)]=!0,clearTimeout(this[t(367)]),this[t(322)]=[],this[t(127)][t(177)][t(202)](ls)[t(153)]()}[Bc(190)](){const e=Bc;this[e(180)]||(this[e(180)]=this[e(127)][e(177)][e(202)](t.PendingActions)[e(331)](Rs(this[e(127)][e(136)],e(267))))}[Bc(327)](){const e=Bc;this[e(180)]&&(this[e(127)][e(177)][e(202)](t.PendingActions)[e(266)](this[e(180)]),this[e(180)]=null)}[Bc(292)](e){const t=Bc,n=e[t(162)]((e=>e[t(250)]()));return this[t(198)][t(297)](n)}[Bc(207)](e,t){const n=Bc;return this[n(198)][n(128)](e)[n(162)](((e,r)=>{const o=n,i=o(366)==t[r][o(278)];if(o(233)==e[o(317)]){const t=e[o(165)][o(295)];!this[o(150)][o(285)](t)&&(this[o(150)][o(316)](o(259),t)[o(350)]=!1)}const a=s.OperationFactory[o(251)](e,this[o(150)]);return a[o(352)]=e[o(352)],a[o(309)]=i,a[o(112)]=i?null:t[r][o(361)],a[o(242)]=o(205)===t[r][o(278)],a[o(304)]=t[r][o(304)],a}))}[Bc(358)](){const e=Bc;this[e(313)]=!0,this[e(286)]()?this[e(115)]():this[e(313)]=!1}[Bc(286)](){const e=Bc,t=this[e(127)][e(177)][e(202)](ms)[e(291)][e(202)](this[e(355)]);return!this[e(127)][e(164)]&&!!t&&t[e(203)]>1&&this[e(313)]}[Bc(342)](){const e=Bc;return this[e(322)][e(203)]>0||this[e(286)]()}}qc[Bc(351)]=br;const Gc=qc;function Lc(e,t){const n=Uc();return(Lc=function(e,t){return n[e-=111]})(e,t)}class Yc extends Error{}function zc(e,t){const n=Bc;for(const r of e)r[n(265)]=t++}class Hc{constructor(e){const t=Bc;this[t(359)]=e,this[t(364)]=new WeakMap}[Bc(182)](e){const t=Bc;let r=e[t(203)];for(;r--;){const s=e[r];if(!this[t(359)][t(199)](s)){if(!this[t(364)][t(199)](s)){const e=(0,n.uid)()[t(224)](1,18);this[t(364)][t(189)](s,e)}return this[t(364)][t(202)](s)}}}[Bc(131)](e,t){const n=Bc;if(!t)return;let r=e[n(203)];for(;r--;){const s=e[r];this[n(359)][n(199)](s)||this[n(364)][n(189)](s,t)}}}var Fc=Kc;function Kc(e,t){var n=Wc();return(Kc=function(e,t){return n[e-=240]})(e,t)}function Wc(){var e=["isOfficialPlugin","1009911HAoIYk","pluginName","8crSaHU","5dyrodF","2CYorVE","964596GwznLG","1188972xtRUSg","isPremiumPlugin","7781648xKGugQ","50BZmIdw","601329atNwKv","RealTimeCollaborativeEditing","3102684qogTVs","52789xEbfQE","requires"];return(Wc=function(){return e})()}!function(e){for(var t=Kc,n=e();;)try{if(557776===-parseInt(t(246))/1*(parseInt(t(240))/2)+-parseInt(t(252))/3+-parseInt(t(241))/4*(parseInt(t(255))/5)+parseInt(t(248))/6+-parseInt(t(244))/7*(-parseInt(t(254))/8)+parseInt(t(242))/9+parseInt(t(245))/10*(-parseInt(t(249))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Wc);class Qc extends t.Plugin{static get[Fc(250)](){return[Gc]}static get[Fc(253)](){return Fc(247)}static get[Fc(251)](){return!0}static get[Fc(243)](){return!0}}const $c=ed;function Xc(){const e=["commentUpdated","adapter","reconnect","isPremiumPlugin","update","_fetchMissingUsersForThreads","_setUpService","attributes","commentThreadAdded","addToReconnectionStack","commentThreadRemoved","updateCommentThread","comments","userId","3624JdPDNY","requires","addUser","resolvedAt","getConnectedSessions","code","814031EVeXAs","1067610GBMcrC","sessionAdd:","pluginName","reopen","init","_connectService","12649wepwfq","permissions","CommentsRepository","commentAdded","set","_services","1122LvcIua","_terminateService","config","cloudservicescommentsadapter-service-not-exist","connect","commentThreadResolved","keys","assign","delete","register","cloud-services-internal-error: Comments Service is not connected.","listenTo","remove","CommentsService","reopenCommentThread","get","25yzUieQ","Permissions","message","cloudservicescommentsadapter-connect-already-connected","removeCommentThread","5399808oiSLvW","commentId","from","2ftwfhv","commentThreadReopened","cloud-services-internal-error: Not connected.","authorId","map","context","destroy","getUser","createdAt","26590GThmbd","commentThreadUpdated","addCommentThread","removeComment","plugins","size","resolve","catch","has","getComment","getMany","commentRemoved","off","545924kfBTmW","isOfficialPlugin","resolvedBy","addComment","collaboration.channelId","deletedAt","add","getCommentThreads","cloudservicescommentsadapter-disconnect-not-exist","content","_getService","commentThreadId","8378226EREwkT","startsWith","CloudServicesCommentsAdapter","mySessionId","404","setPermissions","resolveCommentThread","updateComment","getCommentThread","unregister","disconnect","cloud-services-internal-error: Request timeout."];return(Xc=function(){return e})()}!function(e){const t=ed,n=e();for(;;)try{if(568777===parseInt(t(355))/1+-parseInt(t(392))/2*(-parseInt(t(356))/3)+-parseInt(t(311))/4*(-parseInt(t(384))/5)+-parseInt(t(389))/6+-parseInt(t(362))/7*(-parseInt(t(349))/8)+-parseInt(t(323))/9+parseInt(t(401))/10*(-parseInt(t(368))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Xc);class Zc extends t.ContextPlugin{static get[$c(350)](){return[ls,$c(364),ms,ps.Users]}static get[$c(358)](){return $c(325)}static get[$c(312)](){return!0}static get[$c(338)](){return!0}constructor(e){const t=$c;super(e),this[t(367)]=new Map}async[$c(360)](){const e=$c,n=this[e(397)],r=n[e(405)][e(383)](e(364));if(n[e(405)][e(383)](ls)[e(344)](this),r[e(336)]={addCommentThread:async({channelId:t,threadId:n,comments:r,resolvedAt:s,resolvedBy:o,context:i,attributes:a})=>{const c=e,d=await this[c(321)](t)[c(403)]({commentThreadId:n,comments:r[c(396)]((e=>function(e,t,n){const r=c;return{commentThreadId:n,commentId:e[r(390)],userId:e[r(395)],content:e[r(320)],documentId:t,createdAt:e[r(400)],attributes:e[r(342)]||{}}}(e,t,n))),resolvedAt:s,resolvedBy:o,context:i,attributes:a})[c(305)](rd);return{threadId:d[c(322)],comments:d[c(347)]}},getCommentThread:async({channelId:t,threadId:n})=>{const r=e,s=await this[r(321)](t)[r(331)](n)[r(305)](rd);return s[r(316)]?null:(await this[r(340)]([s]),{threadId:s[r(322)],comments:s[r(347)][r(396)](sd),context:s[r(397)],resolvedAt:s[r(352)],resolvedBy:s[r(313)],attributes:s[r(342)]||{}})},updateCommentThread:async({channelId:t,threadId:n,context:r,unlinkedAt:s,attributes:o})=>this[e(321)](t)[e(346)]({commentThreadId:n,context:r,attributes:o,unlinkedAt:s})[e(305)](nd)[e(305)](rd),resolveCommentThread:async({channelId:t,threadId:n})=>{const r=e,s=await this[r(321)](t)[r(329)](n)[r(305)](nd)[r(305)](rd);return{threadId:s[r(322)],resolvedAt:s[r(352)],resolvedBy:s[r(313)]}},reopenCommentThread:async({channelId:t,threadId:n})=>this[e(321)](t)[e(382)](n)[e(305)](nd)[e(305)](rd),removeCommentThread:({channelId:t,threadId:n})=>this[e(321)](t)[e(388)](n)[e(305)](nd)[e(305)](rd),addComment:({channelId:t,threadId:n,commentId:r,content:s,attributes:o})=>this[e(321)](t)[e(314)](n,r,s,o)[e(305)](rd),updateComment:({channelId:t,threadId:n,commentId:r,content:s,attributes:o})=>this[e(321)](t)[e(330)](n,r,s,o)[e(305)](nd)[e(305)](rd),removeComment:({channelId:t,threadId:n,commentId:r})=>this[e(321)](t)[e(404)](n,r)[e(305)](nd)[e(305)](rd)},n instanceof t.Context){const t=n[e(370)][e(383)](e(315)),r=n[e(405)][e(383)](ms);await this[e(341)](t);const s=await this[e(367)][e(383)](t)[e(353)]();this[e(379)](r,e(357)+t,((n,{session:s})=>{const o=e;s.id===r[o(326)]&&(n[o(310)](),this[o(397)][o(405)][o(383)](o(385))[o(328)](s[o(363)],t))})),r[e(377)](t,s)}}async[$c(341)](e){const t=$c;if(this[t(367)][t(306)](e))throw new n.CKEditorError(t(387),null,{channelId:e});const r=this[t(397)][t(405)][t(383)](t(364)),s=new(Zc[t(381)])(e);this[t(367)][t(366)](e,s),this[t(379)](s,t(343),((e,n)=>{const s=t,{commentThreadId:o,documentId:i,context:a,attributes:c,resolvedAt:d,resolvedBy:u,comments:l}=n;r[s(331)](o)||r[s(403)]({threadId:o,channelId:i,comments:l?l[s(396)](sd):[],context:a,attributes:c,resolvedAt:d,resolvedBy:u,isFromAdapter:!0})})),this[t(379)](s,t(402),((e,{commentThreadId:n,documentId:s,context:o,unlinkedAt:i,attributes:a})=>{const c=t;r[c(331)](n)&&r[c(346)]({threadId:n,channelId:s,context:o,unlinkedAt:i,attributes:a,isFromAdapter:!0})})),this[t(379)](s,t(373),((e,{commentThreadId:n,resolvedBy:s,resolvedAt:o})=>{const i=t,a=r[i(331)](n);a&&a[i(304)]({resolvedBy:s,resolvedAt:o,isFromAdapter:!0})})),this[t(379)](s,t(393),((e,{commentThreadId:n})=>{const s=t,o=r[s(331)](n);o&&o[s(359)]({isFromAdapter:!0})})),this[t(379)](s,t(345),((e,{commentThreadId:n})=>{const s=t,o=r[s(331)](n);o&&o[s(380)]({isFromAdapter:!0})})),this[t(379)](s,t(365),((e,n)=>{const s=t,o=n[s(322)],i=r[s(331)](o);i&&i[s(314)]({...sd(n),isFromAdapter:!0})})),this[t(379)](s,t(335),((e,{commentThreadId:n,commentId:s,content:o,attributes:i})=>{const a=t,c=r[a(331)](n);if(c){const e=c[a(307)](s);e&&e[a(339)]({content:o,attributes:i,isFromAdapter:!0})}})),this[t(379)](s,t(309),((e,{commentThreadId:n,commentId:s})=>{const o=t,i=r[o(331)](n);if(i){const e=i[o(307)](s);e&&e[o(380)]({isFromAdapter:!0})}})),await this[t(361)](e)}[$c(398)](){const e=$c;if(this[e(397)]instanceof t.Context){const t=this[e(397)][e(370)][e(383)](e(315));this[e(369)](t)}}[$c(369)](e){const t=$c;if(!this[t(367)][t(306)](e))throw new n.CKEditorError(t(319),null,{channelId:e});this[t(321)](e)[t(333)](),this[t(367)][t(376)](e)}async[$c(337)](){const e=$c;for(const t of this[e(367)][e(374)]())await this[e(361)](t);if(this[e(397)]instanceof t.Context){const t=this[e(397)][e(370)][e(383)](e(315)),n=this[e(397)][e(405)][e(383)](ms);n[e(332)](t);const r=await this[e(367)][e(383)](t)[e(353)]();n[e(377)](t,r)}}async[$c(361)](e){const t=$c,{connection:n}=this[t(397)][t(405)][t(383)](ls),r=this[t(397)][t(405)][t(383)](t(364)),s=this[t(367)][t(383)](e),o=await s[t(372)](n);await this[t(340)](o);const i=new Set(Array[t(391)](r[t(318)]({channelId:e}),(e=>e.id)));for(const e of o)e[t(316)]||i[t(376)](e[t(322)]);for(const e of i)r[t(331)](e)[t(380)]({isFromAdapter:!0});for(const n of o){let s=r[t(331)](n[t(322)]);const{commentThreadId:o,context:i,attributes:a,resolvedBy:c,resolvedAt:d,unlinkedAt:u,deletedAt:l}=n;if(l)continue;s||(s=r[t(403)]({channelId:e,threadId:o,context:i,attributes:a||{},resolvedBy:c,resolvedAt:d,unlinkedAt:u,isFromAdapter:!0}));const p=new Set(Array[t(391)](s[t(347)],(e=>e.id)));for(const e of n[t(347)])p[t(376)](e[t(390)]);for(const e of p)s[t(307)](e)[t(380)]({isFromAdapter:!0});for(const e of n[t(347)]){const n=s[t(307)](e[t(390)]);n?n[t(320)]!==e[t(320)]&&n[t(339)]({content:e[t(320)],isFromAdapter:!0}):s[t(314)](Object[t(375)](sd(e),{isFromAdapter:!0}))}}}[$c(321)](e){const t=$c;if(!this[t(367)][t(306)](e))throw new n.CKEditorError(t(371),null,{channelId:e});return this[t(367)][t(383)](e)}async[$c(340)](e){const t=$c,n=this[t(397)][t(405)][t(383)](ps.Users),{connection:r}=this[t(397)][t(405)][t(383)](ls),s=new Set;for(const{resolvedBy:r,comments:o}of e){r&&!n[t(399)](r)&&s[t(317)](r);for(const{userId:e}of o)n[t(399)](e)||s[t(317)](e)}if(0===s[t(406)])return;const o=await S[t(308)](r,Array[t(391)](s));for(const e of o)n[t(399)](e.id)||n[t(351)](e)}}function ed(e,t){const n=Xc();return(ed=function(e,t){return n[e-=304]})(e,t)}Zc[$c(381)]=is;const td=Zc;async function nd(e){const t=$c;if(t(327)!==e[t(354)])throw e}function rd(e){const t=$c;if((n=e)[t(386)][t(324)](t(378))||n[t(386)][t(324)](t(394))||n[t(386)][t(324)](t(334)))return new Promise((()=>{}));var n;throw e}function sd(e){const t=$c;return{threadId:e[t(322)],commentId:e[t(390)],content:e[t(320)],createdAt:e[t(400)],authorId:e[t(348)],attributes:e[t(342)]||{}}}const od=id;function id(e,t){const n=cd();return(id=function(e,t){return n[e-=451]})(e,t)}!function(e){const t=id,n=e();for(;;)try{if(421545===parseInt(t(511))/1+-parseInt(t(470))/2+parseInt(t(504))/3+parseInt(t(480))/4+-parseInt(t(477))/5*(parseInt(t(483))/6)+-parseInt(t(501))/7*(parseInt(t(496))/8)+parseInt(t(490))/9*(parseInt(t(505))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(cd);class ad extends t.Plugin{static get[od(486)](){return[td,od(474),ls]}static get[od(476)](){return od(487)}static get[od(479)](){return!0}static get[od(514)](){return!0}constructor(e){const t=od;super(e);const n=this[t(459)][t(484)][t(460)](t(503));this[t(494)]=new Map,this[t(502)]=new(ad[t(454)])(n)}[od(512)](){const e=od,t=this[e(459)][e(451)][e(460)](ls),n=this[e(459)][e(451)][e(460)](e(474));return n[e(464)]={getSuggestion:async t=>{const n=e;await this[n(473)]();const r=await this[n(502)][n(460)](t)[n(499)](ud);return await this[n(469)]([r]),r},addSuggestion:async({id:t,type:n,data:r,originalSuggestionId:s,attributes:o})=>{const i=e;await this[i(473)]();const a={id:t,type:n,data:r,originalSuggestionId:s,attributes:o},c=await this[i(502)][i(506)](t,n,r,s,o)[i(499)]((e=>{if(ld(e))return new Promise((e=>{const n=id;this[n(494)][n(497)](t,{resolve:e,suggestionData:a})}));throw e}));return this[i(494)][i(478)](t),c},updateSuggestion:async(t,n)=>{const r=e;if(await this[r(473)](),r(458)!==n[r(488)])return this[r(502)][r(463)](t,n)[r(499)](ud)}},this[e(482)](this[e(502)],e(475),((t,r)=>{const s=e;n[s(491)](r.id)&&(n[s(467)](r.id)[s(492)]=r[s(492)])})),this[e(502)][e(468)](t[e(493)])[e(495)]((r=>(t[e(471)](this),this[e(469)](r)[e(495)]((()=>{const t=e;for(const e of r)n[t(462)](e)[t(461)]=!0})))))}async[od(500)](){const e=od,t=this[e(459)][e(451)][e(460)](e(474)),{connection:n}=this[e(459)][e(451)][e(460)](ls),r=await this[e(502)][e(468)](n);await this[e(469)](r);for(const{suggestionData:t,resolve:n}of this[e(494)][e(465)]()){let s=r[e(457)]((e=>e.id===t.id));s||(s=await this[e(502)][e(506)](t.id,t[e(513)],t[e(481)],t[e(485)])),n(s)}for(const n of r)t[e(491)](n.id)||t[e(462)](n)}async[od(473)](){const e=od;this[e(502)][e(452)]||await new Promise((t=>{const n=e;this[n(482)](this[n(502)],n(510),(e=>{e[n(456)](),t()}))}))}async[od(469)](e){const t=od,n=this[t(459)][t(451)][t(460)](ps.Users),{connection:r}=this[t(459)][t(451)][t(460)](ls),s=new Set;for(const{authorId:r}of e)n[t(509)](r)||s[t(506)](r);if(0===s[t(466)])return;const o=await S[t(498)](r,Array[t(455)](s));for(const e of o)n[t(509)](e.id)||n[t(507)](e)}}function cd(){const e=["1596576UEjgEo","data","listenTo","72yXpXwt","config","originalSuggestionId","requires","CloudServicesTrackChangesAdapter","state","cloud-services-internal-error: Not connected.","66303USeCit","hasSuggestion","attributes","connection","_bufferedRequests","then","1256gtNAOV","set","getMany","catch","reconnect","25109VImndm","_trackChangesService","collaboration.channelId","2450016zrzzWt","580bHFkLj","add","addUser","message","getUser","connected","179233NWZifk","init","type","isPremiumPlugin","plugins","isConnected","cloud-services-internal-error: Request timeout.","TrackChangesService","from","off","find","open","editor","get","_saved","addSuggestionData","update","adapter","values","size","getSuggestion","connect","_fetchMissingUsersForThreads","1128806fAJyFd","addToReconnectionStack","startsWith","_waitForServiceReady","TrackChangesEditing","suggestionUpdated","pluginName","113845FOgksz","delete","isOfficialPlugin"];return(cd=function(){return e})()}ad[od(454)]=Vn;const dd=ad;function ud(e){if(ld(e))return new Promise((()=>{}));throw e}function ld(e){const t=od;return e[t(508)][t(472)](t(489))||e[t(508)][t(472)](t(453))}const pd=fd;function hd(){const e=["listenTo","CommentsRepository","plugins","get","7531056EYwvQS","editor","2441196hXqQeG","change:state","requires","isPremiumPlugin","14CgKhPd","CommentsEditing","connected","_setUpService","data","3199315saHSBn","ready","init","destroy","once","pluginName","1628uwCwZD","_terminateService","isThreadsLoadingPaused","collaboration.channelId","823672GVAPvN","config","561309jmniRh","11595tITBJQ","Comments","6242172EZJqVp","isOfficialPlugin","RealTimeCollaborativeComments","switchReadOnly"];return(hd=function(){return e})()}function fd(e,t){const n=hd();return(fd=function(e,t){return n[e-=296]})(e,t)}!function(e){const t=fd,n=e();for(;;)try{if(737663===parseInt(t(310))/1+-parseInt(t(329))/2*(parseInt(t(312))/3)+-parseInt(t(306))/4*(parseInt(t(313))/5)+parseInt(t(315))/6+parseInt(t(300))/7+parseInt(t(323))/8+-parseInt(t(325))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(hd);class md extends t.Plugin{static get[pd(327)](){return[pd(314),td,Qc,ls]}static get[pd(305)](){return pd(317)}static get[pd(316)](){return!0}static get[pd(328)](){return!0}[pd(302)](){const e=pd,t=this[e(324)][e(321)][e(322)](ls),n=this[e(324)][e(321)][e(322)](e(296)),r=this[e(324)][e(321)][e(322)](td);return this[e(324)][e(299)][e(304)](e(301),(()=>{const r=e;this[r(319)](t,r(326),((e,t,s)=>{const o=r;n[o(308)]=o(297)!==s}))})),this[e(319)](t,e(326),((t,n,r)=>{const s=e;this[s(324)][s(321)][s(322)](s(320))[s(318)](s(297)!==r)})),r[e(298)](this[e(324)][e(311)][e(322)](e(309)))}[pd(303)](){const e=pd;this[e(324)][e(321)][e(322)](td)[e(307)](this[e(324)][e(311)][e(322)](e(309))),super[e(303)]()}}var yd=gd;function gd(e,t){var n=bd();return(gd=function(e,t){return n[e-=106]})(e,t)}function bd(){var e=["isPremiumPlugin","128985iDxZYS","requires","isOfficialPlugin","TrackChanges","RealTimeCollaborativeTrackChanges","2520624oVPgKF","273832khMJVs","1987206PfUWcH","29337138AwEujf","48eZTaZz","1481318ovZAdB","9538837FttMPV","pluginName","30yOTFvE"];return(bd=function(){return e})()}!function(e){for(var t=gd,n=e();;)try{if(741056===parseInt(t(114))/1+parseInt(t(111))/2+parseInt(t(117))/3*(parseInt(t(110))/4)+parseInt(t(119))/5*(-parseInt(t(113))/6)+parseInt(t(115))/7+-parseInt(t(109))/8+-parseInt(t(112))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(bd);class Od extends t.Plugin{static get[yd(120)](){return[md,dd,yd(107)]}static get[yd(116)](){return yd(108)}static get[yd(106)](){return!0}static get[yd(118)](){return!0}}const wd=vd;function vd(e,t){const n=Id();return(vd=function(e,t){return n[e-=311]})(e,t)}function Id(){const e=["affectsData","size","1166wIrqwT","CloudServicesRevisionHistoryAdapter","3973996PgdiTS","creatorId","addRevisionData","62450qQxPjP","connected","config","addUser","45942BYwNcM","pluginName","state","off","isEmptyCurrent","_getLatestVersion","_preventResendingRevisionData","keys","getRevision","fromVersion","then","_isPendingUpdate","map","3XKTVaW","currentRevision","startsWith","max","baseVersion","getMany","requires","_getLatestVersionFromServerOperations","sendBufferedUpdates","_createCurrentRevision","get","getOperations","getUser","diffData","authors","10596KjDODi","from","isEnabled","destroy","toVersion","type","getRevisions","connection","serverHistory","reverse","plugins","400","_fixRevision","1CLHhie","_handleRevisionsUpdate","sessionId","cloud-services-internal-error: Request timeout.","_lastRequestId","1855259UgGrZq","1469215XKFYUu","listenTo","change:_isPendingUpdate","isOfficialPlugin","_waitForServiceReady","_isConnected","844442PnoPNB","data","12LKFDxf","length","_revisionDataBuilder","catch","setRevisionData","revisionsUpdated","CONNECTED","_bufferedUpdates","marker","isConnected","cloudServices.bundleVersion","reInit","updateRevisions","_oldOffset","reconnect","_revisionTracker","setSource","_revisionHistoryService","collaboration.channelId","_startingVersion","cloud-services-internal-error: Revision History Service is not connected.","isBundleUploaded","repository","connect","has","_offset","_update","createdAt","message","cloud-services-internal-error: Not connected.","_revisions","RevisionTracker","add","152IPpYsW","wrongRequestId","addToReconnectionStack","once","authorsIds","change:_isConnected","RevisionHistoryService","adapter","_bufferUpdate","init","buildRevisionData","editor","isPremiumPlugin","_fetchMissingUsers","480393mbibCz","code","bind","remove","_handleReconnectionError"];return(Id=function(){return e})()}!function(e){const t=vd,n=e();for(;;)try{if(550462===-parseInt(t(353))/1*(-parseInt(t(365))/2)+parseInt(t(325))/3*(-parseInt(t(423))/4)+parseInt(t(359))/5*(-parseInt(t(367))/6)+parseInt(t(358))/7+parseInt(t(400))/8*(-parseInt(t(414))/9)+-parseInt(t(426))/10*(parseInt(t(421))/11)+-parseInt(t(340))/12*(-parseInt(t(312))/13))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Id);class Sd extends t.Plugin{static get[wd(331)](){return[ls,Gc,wd(398),ms,ps.Users]}static get[wd(313)](){return wd(422)}static get[wd(362)](){return!0}static get[wd(412)](){return!0}constructor(e){const t=wd;super(e);const n=this[t(411)][t(428)][t(335)](t(385));this[t(357)]=null,this[t(382)]=this[t(411)][t(350)][t(335)](t(398)),this[t(384)]=new(Sd[t(406)])(n)}async[wd(409)](){const e=wd,t=this[e(411)][e(350)][e(335)](Gc),r=t[e(348)],s=this[e(411)][e(350)][e(335)](ls);this[e(382)][e(383)]({history:r,getLatestVersion:()=>this[e(317)](),getCurrentRevisionId:()=>t[e(355)]});const o=this[e(411)][e(428)][e(335)](e(377))||n.version,i=await zt[e(388)](s[e(347)],o);this[e(382)][e(407)]={getRevision:async({revisionId:t})=>(await this[e(363)](),await this[e(384)][e(320)](t)),updateRevisions:async t=>{const n=e;await this[n(363)]();const r=this[n(382)][n(326)];if(i&&1===t[n(368)]&&t[0].id===r.id)return t;for(const e of t)e.id===r.id&&(e[n(316)]=e[n(321)]===e[n(344)]);return this[n(384)][n(379)](t,this[n(357)])[n(322)]((e=>(this[n(357)]=e,t)))[n(370)]((e=>{const r=n;if(kd(e)||r(351)===e[r(415)]&&void 0!==e[r(366)][r(401)]){for(const e of t)!this[r(382)][r(389)][r(320)](e.id)||this[r(382)][r(408)](e.id,e,!1);if(kd(e))throw e;return t}throw e}))}},this[e(360)](this[e(384)],e(372),((t,{revisionsData:n,requestId:r})=>{const s=e;Math[s(328)](...n[s(324)]((e=>e[s(344)])))>this[s(332)]()-1?this[s(317)]()[s(322)]((()=>{this[s(354)](n,r)})):this[s(354)](n,r)}));const{revisions:a,requestId:c}=await this[e(384)][e(390)](s[e(347)]);s[e(402)](this),this[e(357)]=c,await this[e(413)](a);for(const t of a)this[e(382)][e(425)](t);this[e(360)](t,e(405),((n,r,s)=>{const o=e;s&&(this[o(380)]=t[o(392)],n[o(315)]())})),this[e(382)][e(416)](e(342)).to(s,e(314),(t=>t===Mt[e(373)]))}async[wd(381)](){const e=wd,t=this[e(411)][e(350)][e(335)](ls),n=this[e(411)][e(350)][e(335)](Gc),r=async()=>{const r=e,s=this[r(382)][r(326)],o=s.id,i=o!==n[r(355)];if(i){const e=n[r(392)]-this[r(380)],t=this[r(332)]();if(this[r(382)][r(369)][r(378)](),s[r(344)]+e!==t){const n=s[r(321)]+e,o=this[r(411)][r(350)][r(335)](ps.Users),i=this[r(382)][r(410)]({revision:s,from:n,to:t});i.id=s.id;const a=i[r(404)][r(324)]((e=>o[r(337)](e)));s[r(393)]({...i,authors:a},!0),this[r(382)][r(408)](s.id,i,!0)}this[r(382)][r(386)]=t,s[r(344)]===s[r(321)]&&!this[r(382)][r(374)][r(391)](o)&&this[r(382)][r(389)][r(397)][r(417)](o),this[r(382)][r(334)](t)}const{revisions:a,requestId:c}=await this[r(384)][r(381)](t[r(347)],this[r(357)]);i&&a[r(368)]>0?n[r(418)]():(await this[r(413)](a),this[r(354)](a,c),this[r(382)][r(333)]())};return n[e(364)]?r():new Promise(((t,s)=>{const o=e;n[o(403)](o(405),(()=>{const e=o;r()[e(322)](t)[e(370)](s)}))}))}[wd(343)](){super[wd(343)]()}async[wd(363)](){const e=wd;this[e(384)][e(376)]||await new Promise((t=>{const n=e;this[n(360)](this[n(384)],n(427),(e=>{e[n(315)](),t()}))}))}[wd(332)](){const e=wd,t=this[e(411)][e(350)][e(335)](Gc)[e(348)][e(336)]()[e(349)]();for(const n of t)if(e(375)!==n[e(345)]||n[e(419)])return n[e(329)]+1}[wd(317)](){const e=wd,t=this[e(411)][e(350)][e(335)](Gc);return new Promise((n=>{const r=e;t[r(323)]?t[r(403)](r(361),(()=>{n(this[r(332)]())})):n(this[r(332)]())}))}[wd(354)](e,t){const n=wd,r=this[n(382)][n(389)];this[n(357)]=t;for(const t of e){const e=r[n(320)](t.id);if(e){if((t[n(321)]||t[n(344)])&&(t[n(338)]=null),e===this[n(382)][n(326)]){const r=Math[n(328)](e[n(344)],t[n(344)]),s=Math[n(328)](e[n(321)],t[n(321)]);let o;e[n(344)]===t[n(344)]&&e[n(321)]===t[n(321)]?(o=!0,this[n(318)](t)):t[n(344)]===r&&t[n(321)]===s?o=!1:(e[n(344)]===r&&e[n(321)]===s||this[n(352)]({revision:e,from:s,to:r}),o=!0),o&&(delete t[n(321)],delete t[n(344)],delete t[n(338)],delete t[n(394)],delete t[n(404)])}this[n(382)][n(371)](t),this[n(318)](t)}else this[n(382)][n(425)](t)}const s=r[n(346)]();s[n(349)]();for(let e=0;e<s[n(368)]-1;e++){const t=s[e],r=s[e+1];if(t[n(321)]<r[n(344)]){const e=r[n(344)],s=Math[n(328)](e,t[n(344)]);this[n(352)]({revision:t,from:e,to:s})}}}[wd(352)]({revision:e,from:t,to:n}={}){const r=wd,s=this[r(411)][r(350)][r(335)](ps.Users),o=this[r(382)][r(410)]({revision:e,from:t,to:n});o[r(339)]=o[r(404)][r(324)]((e=>s[r(337)](e))),e[r(393)](o)}[wd(318)](e){const t=wd,n={};n.id=e.id;for(const r of Object[t(319)](e))"id"!==r&&(n[r]=void 0);this[t(382)][t(408)](n.id,n,!0)}async[wd(413)](e){const t=wd,n=this[t(411)][t(350)][t(335)](ps.Users),{connection:r}=this[t(411)][t(350)][t(335)](ls),s=new Set;for(const n of e){for(const e of n[t(404)])i(e);n[t(424)]&&i(n[t(424)])}if(0===s[t(420)])return;const o=await S[t(330)](r,Array[t(341)](s));for(const e of o)n[t(337)](e.id)||n[t(311)](e);function i(e){const r=t;n[r(337)](e)||s[r(399)](e)}}}Sd[wd(406)]=ln;const Pd=Sd;function kd(e){const t=wd;return e[t(395)][t(327)](t(387))||e[t(395)][t(327)](t(396))||e[t(395)][t(327)](t(356))}function Ad(e,t){var n=Cd();return(Ad=function(e,t){return n[e-=430]})(e,t)}var _d=Ad;!function(e){for(var t=Ad,n=e();;)try{if(427201===-parseInt(t(443))/1*(parseInt(t(439))/2)+-parseInt(t(430))/3*(parseInt(t(442))/4)+-parseInt(t(447))/5*(-parseInt(t(438))/6)+-parseInt(t(441))/7+parseInt(t(434))/8*(-parseInt(t(445))/9)+-parseInt(t(431))/10*(parseInt(t(433))/11)+parseInt(t(437))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Cd);class Td extends t.Plugin{static get[_d(436)](){return[_d(432),Pd,Qc]}static get[_d(446)](){return _d(440)}static get[_d(444)](){return!0}static get[_d(435)](){return!0}}function Cd(){var e=["2680onLcVG","2382dxgHUR","114310hnqWdx","RevisionHistory","649qXsjMF","137920RhvnbB","isPremiumPlugin","requires","35217600BSxmzB","6906edFQtu","1451854cQVEOz","RealTimeCollaborativeRevisionHistory","3245851oqMpkn","2876OTGtCP","1BhRuXm","isOfficialPlugin","360aiTjUV","pluginName"];return(Cd=function(){return e})()}var jd=Function.prototype,Ed=Object.prototype,Dd=jd.toString,xd=Ed.hasOwnProperty,Rd=Dd.call(Object);const Nd=function(e){if(!oi(e)||"[object Object]"!=lo(e))return!1;var t=oa(e);if(null===t)return!0;var n=xd.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Dd.call(n)==Rd};const Vd=function(e){return oi(e)&&1===e.nodeType&&!Nd(e)};function Md(){const e=["40DVOKQG","20RRfdeL","CONNECTED_USERS","isHidden","2217912dDHrdA","ck-presence-list__counter","42040wlpsgM","29292sgqTWS","usersCount","setTemplate","ck-presence-list__counter--hidden","52815MseqXB","bindTemplate","set","div","144sPvTrS","49rtLqjD","218438kVqqSi","110748Sevqnn","20nVuyyY","105724ammyJN"];return(Md=function(){return e})()}function Bd(e,t){const n=Md();return(Bd=function(e,t){return n[e-=488]})(e,t)}!function(e){const t=Bd,n=e();for(;;)try{if(105659===parseInt(t(488))/1+parseInt(t(499))/2*(parseInt(t(505))/3)+parseInt(t(497))/4*(parseInt(t(496))/5)+-parseInt(t(495))/6*(parseInt(t(493))/7)+-parseInt(t(504))/8*(-parseInt(t(492))/9)+-parseInt(t(498))/10*(-parseInt(t(494))/11)+-parseInt(t(502))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Md);class Ud extends r.View{constructor(e){const t=Bd;super(e);const n=this[t(489)];this[t(490)](t(506),0),this[t(490)](t(501),!0),this[t(507)]({tag:t(491),attributes:{class:["ck",t(503),n.if(t(501),t(508))]},children:[{text:n.to(t(506),(n=>Rs(e,t(500),n)))}]})}}const Jd=Gd;function qd(){const e=["items","setAttribute","div","change:hasPopup","Connected users list","element","81SIhsiH","setTemplate","execute","list","isExpanded","20lbkMAI","keystrokes","listenTo","render","3563351QLbbed","hasPopup","Collapsed connected users list (press ENTER to open it)","aria-expanded","374626HjXSEc","766968FBFzaO","1297633OEonxB","150PpeaoE","22iIhtTy","fire","createCollection","ck-presence-list__list","278405WmfCYt","removeAttribute","focus","set","4411164QFxIfq","264165jnzJUB","bindTemplate"];return(qd=function(){return e})()}function Gd(e,t){const n=qd();return(Gd=function(e,t){return n[e-=108]})(e,t)}!function(e){const t=Gd,n=e();for(;;)try{if(838941===-parseInt(t(129))/1+-parseInt(t(131))/2*(-parseInt(t(140))/3)+parseInt(t(139))/4+parseInt(t(135))/5*(-parseInt(t(130))/6)+-parseInt(t(127))/7+parseInt(t(128))/8*(parseInt(t(114))/9)+parseInt(t(119))/10*(parseInt(t(123))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(qd);class Ld extends r.View{constructor(e){const t=Gd;super(e);const r=this[t(141)];this[t(108)]=this[t(133)](),this[t(120)]=new n.KeystrokeHandler,this[t(138)]({hasPopup:!1,isExpanded:!1}),this[t(115)]({tag:t(110),attributes:{"aria-haspopup":r.if(t(124)),"aria-expanded":r.to(t(118),(e=>this[t(124)]&&String(e))),"aria-label":r.to(t(124),(n=>Rs(e,t(n?125:112)))),role:t(117),tabindex:r.to(t(124),(e=>!!e&&0)),class:["ck",t(134)]},children:this[t(108)],on:{click:r.to((()=>this[t(132)](t(116))))}}),this.on(t(111),((e,n,r)=>{const s=t;this[s(113)]&&(r?this[s(113)][s(109)](s(126),String(this[s(118)])):this[s(113)][s(136)](s(126)))}))}[Jd(137)](){const e=Jd;this[e(113)][e(137)]()}[Jd(122)](){const e=Jd;super[e(122)](),this[e(120)][e(121)](this[e(113)])}}var Yd=__webpack_require__(106),zd={attributes:{"data-cke":!0}};zd.setAttributes=Ps(),zd.insert=Is().bind(null,"head"),zd.domAPI=ws(),zd.insertStyleElement=As();bs()(Yd.A,zd);Yd.A&&Yd.A.locals&&Yd.A.locals;function Hd(){const e=["tooltipPosition","ck-reset","setTemplate","1896642yYipbn","inlineListView","33dfhddB","ck-rounded-corners","listenTo","ck-presence-list","change","isCollapsed","2052048SwYPnp","5aQwOjG","bind","hasPopup","900UilyZX","547249SilAYD","432126sUxbcw","ck-presence-list--collapsed","7290647ntyeLb","first","items","div","counterView","locale","3009104MKpxkK","bindTemplate","set","160144vYJMhm"];return(Hd=function(){return e})()}function Fd(e,t){const n=Hd();return(Fd=function(e,t){return n[e-=461]})(e,t)}!function(e){const t=Fd,n=e();for(;;)try{if(526809===-parseInt(t(482))/1+parseInt(t(465))/2*(-parseInt(t(471))/3)+-parseInt(t(462))/4+parseInt(t(478))/5*(-parseInt(t(469))/6)+-parseInt(t(485))/7+-parseInt(t(477))/8+-parseInt(t(483))/9*(-parseInt(t(481))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Hd);class Kd extends r.View{constructor(e){const t=Fd;super(e);const n=this[t(463)];this[t(464)](t(476),!0),this[t(489)]=new Ud(this[t(461)]),this[t(470)]=new Ld(e),this[t(470)][t(479)](t(480)).to(this,t(476)),this[t(473)](this[t(470)][t(487)],t(475),(()=>{const e=t;for(const t of this[e(470)][e(487)])t[e(466)]="s";this[e(470)][e(487)][e(486)]&&(this[e(470)][e(487)][e(486)][e(466)]="se")})),this[t(468)]({tag:t(488),attributes:{class:["ck",t(474),t(467),t(472),n.if(t(476),t(484))]},children:[this[t(489)],this[t(470)]]})}}const Wd=Qd;function Qd(e,t){const n=Zd();return(Qd=function(e,t){return n[e-=115]})(e,t)}!function(e){const t=Qd,n=e();for(;;)try{if(863545===parseInt(t(137))/1*(-parseInt(t(138))/2)+-parseInt(t(149))/3+parseInt(t(126))/4+parseInt(t(150))/5*(-parseInt(t(128))/6)+parseInt(t(153))/7*(-parseInt(t(140))/8)+-parseInt(t(124))/9*(-parseInt(t(147))/10)+parseInt(t(142))/11)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(Zd);class $d extends r.View{constructor(e,t){const n=Qd;super(e),this[n(131)]=new Xd(e,t),this[n(133)]({tag:n(122),attributes:{tabindex:-1,role:n(129),class:["ck",n(141)],"aria-label":Rs(e,n(127))},children:[this[n(131)]]})}}class Xd extends r.ListView{constructor(e,t){const r=Qd;super(e);const s=this[r(148)];this[r(125)](r(121),!1),this[r(133)]({tag:t?r(122):"ul",attributes:{class:["ck",r(144),r(118),r(151),s.if(r(121),r(139))],role:s.to(r(120)),"aria-label":s.to(r(146)),"aria-labelledby":s.to(r(143))},children:this[r(116)]}),this[r(117)](n.global[r(145)],r(152),(()=>this[r(134)]())),this[r(116)].on(r(132),(()=>this[r(134)]()))}[Wd(119)](){const e=Wd;super[e(119)](),this[e(134)]()}[Wd(134)](){const e=Wd,t=this[e(130)];t&&(this[e(121)]=Math[e(123)](t[e(136)],t[e(115)])>.8*window[e(135)])}}function Zd(){const e=["Connected users list dropdown menu","18714FFOKsb","application","element","listWrapperView","change","setTemplate","checkIfScrollable","innerHeight","scrollHeight","3iBHvJk","97718ftzpVz","ck-presence-list__dropdown-list-wrapper_scrollable","88rqDJfY","ck-presence-list__dropdown-list","12943238WZypiq","ariaLabelledBy","ck-reset","window","ariaLabel","1432430hAJeqS","bindTemplate","3551115ATltRK","355Ukqisr","ck-presence-list__dropdown-list-wrapper","resize","932981aXqUat","clientHeight","items","listenTo","ck-list","render","role","_isScrollable","div","max","72akxZxw","set","6235148qfWeJu"];return(Zd=function(){return e})()}function eu(e,t){const n=nu();return(eu=function(e,t){return n[e-=283]})(e,t)}const tu=eu;function nu(){const e=["userView","color","16654872AIMdVx","68fwLPYb","element","14077ZOUOpG","4966010TBMZJg","presentation","span","9610YkGZyc","2eoyFBX","name","execute","6oOUmPU","tag","focus","getBackgroundColorClass","ck-presence-list__dropdown-list-item","button","ck-user__full-name","setTemplate","3956571tuOziw","2200QFpQSu","3303BxtydC","bindTemplate","true","ck-presence-list__marker","fire","9119jOHqOj","867362wucxjT"];return(nu=function(){return e})()}!function(e){const t=eu,n=e();for(;;)try{if(597520===-parseInt(t(287))/1*(-parseInt(t(298))/2)+parseInt(t(311))/3*(parseInt(t(291))/4)+parseInt(t(294))/5*(-parseInt(t(301))/6)+-parseInt(t(293))/7*(-parseInt(t(310))/8)+-parseInt(t(309))/9+parseInt(t(297))/10*(-parseInt(t(286))/11)+parseInt(t(290))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(nu);class ru extends r.ListItemView{constructor(e,t,n){const r=eu;super(e);const s=this[r(312)];this[r(288)]=new ps.UserView(e,t);const o={tag:"li",attributes:{class:["ck",r(305)],tabindex:-1,role:r(295),"aria-label":t[r(299)]},children:[this[r(288)],{tag:r(296),attributes:{class:["ck",r(307)]},children:[{text:t[r(299)]}]},{tag:r(296),attributes:{class:["ck",r(284),t[r(289)][r(304)]()],"aria-hidden":r(283)}}]};n&&(o[r(302)]=r(306),o.on={click:s.to((()=>this[r(285)](r(300))))}),this[r(308)](o)}[tu(303)](){const e=tu;this[e(292)][e(303)]()}}function su(){const e=["true","isFocusable","text","332030StMkgq","getBackgroundColorClass","hasTooltip","span","tooltipPosition","color","459333CLVQXA","38blnhvs","execute","template","2426142pzUjyY","16384hRchkY","5hNKyDJ","ck-presence-list__list-item","ck-presence-list__list-item__tooltip","div","tag","setTemplate","fire","ck-presence-list__marker","bindTemplate","set","1604164HKzpfC","userView","button","markerView","name","16VAjDLQ","listitem","1429821XiXSay","354069zacTYj"];return(su=function(){return e})()}function ou(e,t){const n=su();return(ou=function(e,t){return n[e-=261]})(e,t)}!function(e){const t=ou,n=e();for(;;)try{if(279725===-parseInt(t(292))/1*(parseInt(t(262))/2)+parseInt(t(280))/3+-parseInt(t(273))/4+-parseInt(t(263))/5*(-parseInt(t(261))/6)+parseInt(t(291))/7+parseInt(t(278))/8*(parseInt(t(281))/9)+-parseInt(t(285))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(su);class iu extends r.View{constructor(e,t,n){const s=ou;super(e);const o=this[s(271)];this[s(272)](s(283),!1),this[s(272)](s(287),!0),this[s(272)](s(289),""),this[s(274)]=new ps.UserView(e,t),this[s(276)]=new au(e,t);const i=new r.LabelView(e);i[s(294)][s(267)]=s(288),i[s(284)]=t[s(277)];const a={tag:s(266),attributes:{class:["ck",s(264)],role:s(279),tabindex:o.to(s(283),(e=>!!e&&0)),"aria-labelledby":i.id,"data-cke-tooltip-text":this[s(274)][s(277)],"data-cke-tooltip-position":o.to(s(289)),"data-cke-tooltip-disabled":o.to(s(287),(e=>!e)),"data-cke-tooltip-class":s(265)},children:[this[s(274)],this[s(276)],i]};n&&(a[s(267)]=s(275),a.on={click:o.to((()=>this[s(269)](s(293))))}),this[s(268)](a)}}class au extends r.View{constructor(e,t){const n=ou;super(e),this[n(268)]({tag:n(288),attributes:{class:["ck",n(270),t[n(290)][n(286)]()],"aria-hidden":n(282)}})}}function cu(e,t){const n=uu();return(cu=function(e,t){return n[e-=128]})(e,t)}const du=cu;function uu(){const e=["_createView","items","onClick","unpin","define","ck ck-presence-list__balloon","config","select","4Zggjds","appendChild","class","Tab","view","showDropdown","80cOOpiS","context","offsetHeight","number","indexOf","8WPoMll","button","checkIfScrollable","element","activeElement","join","remove","_bodyCollection","presenceDropdownView","inlineListView","content","querySelectorAll","add","requires","map","_allConnectedUsers","sort","presencelist-collapseat-invalid-format","set","Enter","destroy","focusTracker","attachToDom","init","plugins","using","Shift+Tab","isFocusable","displayMe","keystrokes","hasTooltip","presencelist-missing-container","allConnectedUsers","balloonPanelView","min","length","reverse","isCollapsed","pin","change:isFocused","usersCount","get","_handleUserAdd","focus","[contenteditable]","detachFromDom","input","bind","render","textarea","bindTo","_handleUserRemove","isRendered","presenceList.container","14UWiTUD","presenceList.displayMe","1040974yjqSpc","tabIndex","2335615CGKfyi","2664204nUVWHN","counterView","Esc","body","presenceList","isExpanded",':not([disabled]):not([tabindex="-1"])',"hideDropdown","isVisible","isHidden","locale","filter","listenTo","presenceList.collapseAt","21753finuQK","427584FwJeBi","from","2897650jdDtRr","isMe","execute","[tabindex]","4319091jAUPNx","currentDisplayedUsers","offsetWidth"];return(uu=function(){return e})()}!function(e){const t=cu,n=e();for(;;)try{if(658291===-parseInt(t(186))/1*(parseInt(t(167))/2)+parseInt(t(187))/3+-parseInt(t(204))/4*(parseInt(t(171))/5)+parseInt(t(172))/6+parseInt(t(189))/7+parseInt(t(215))/8*(-parseInt(t(193))/9)+parseInt(t(210))/10*(parseInt(t(169))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(uu);const lu={collapseAt:6,displayMe:!0};class pu extends t.ContextPlugin{constructor(e){const t=cu;super(e),this[t(222)]=null,this[t(211)][t(202)][t(200)](t(176),lu);const s=e[t(202)][t(154)](t(185));if(t(213)!=typeof s)throw new n.CKEditorError(t(130),this);if(s<1)throw new n.CKEditorError(t(130),this);this[t(128)]=this[t(211)][t(137)][t(154)](ms)[t(145)],this[t(131)](t(153),0),this[t(194)]=new n.Collection,this[t(146)]=new r.BalloonPanelView,this[t(146)][t(206)]=t(201),this[t(208)]=this[t(196)](),this[t(223)]=void 0}static get[du(228)](){return[ms]}[du(136)](){const e=du;for(const t of this[e(128)])this[e(155)](t);this[e(184)](this[e(128)],e(227),((t,n)=>{this[e(155)](n)})),this[e(184)](this[e(128)],e(221),((t,n)=>{this[e(164)](n)}))}[du(196)](){const e=du,t=this[e(211)],s=new Kd(this[e(211)][e(182)]),o=this[e(146)];if(!Vd(t[e(202)][e(154)](e(166))))throw new n.CKEditorError(e(144),this);return s[e(173)][e(160)](e(153)).to(this),s[e(160)](e(150)).to(this,e(153),(n=>{const r=e,{collapseAt:o,displayMe:i}=t[r(202)][r(154)](r(176)),a=n>=o;return s[r(173)][r(181)]=!(1==n&&i||a),a||this[r(179)](),a})),s[e(224)][e(197)][e(163)](this[e(194)])[e(138)]((n=>{const r=e,o=t[r(202)][r(154)](r(176)),i=new iu(t[r(182)],n,!!o[r(198)]);return i[r(160)](r(143)).to(s,r(150),(e=>!e)),i[r(160)](r(140)).to(s,r(150),(e=>!e)),o[r(198)]&&this[r(184)](i,r(191),(()=>{const e=r;this[e(208)][e(150)]||o[e(198)](n,i[e(218)])})),i})),this[e(184)](s[e(224)],e(191),(()=>{const t=e;this[t(223)]?this[t(179)]():this[t(208)][t(150)]&&this[t(209)]()})),s[e(224)][e(142)][e(131)](e(132),((t,n)=>{const r=e;this[r(208)][r(150)]&&(this[r(209)](),n())})),s[e(161)](),o[e(161)](),(0,r.clickOutsideHandler)({emitter:s,activator:()=>o[e(180)],contextElements:[o[e(218)],s[e(224)][e(218)]],callback:()=>this[e(179)]()}),t[e(202)][e(154)](e(166))[e(205)](s[e(218)]),this[e(222)]=new r.BodyCollection(this[e(211)][e(182)]),this[e(222)][e(135)](),this[e(222)][e(227)](this[e(146)]),s}[du(155)](e){const t=du;if(!this[t(211)][t(202)][t(154)](t(168))&&e[t(190)])return;const n=this[t(211)][t(202)][t(154)](t(185))-1;this[t(153)]++,this[t(194)][t(148)]==n&&this[t(194)][t(148)]>1&&this[t(194)][t(221)](1);const r=e[t(190)]?0:this[t(194)][t(148)];this[t(194)][t(227)](e,r)}[du(164)](e){const t=du;if(this[t(153)]--,this[t(194)][t(154)](e.id)&&(this[t(194)][t(221)](e.id),this[t(194)][t(148)]<this[t(153)]))for(const e of Array[t(188)](this[t(128)])[t(149)]())if(!this[t(194)][t(154)](e.id))return void this[t(194)][t(227)](e,Math[t(147)](this[t(194)][t(148)],1))}[du(209)](){const e=du;if(this[e(223)])return;const t=this[e(211)][e(202)][e(154)](e(176));this[e(223)]=new $d(this[e(211)][e(182)],!!t[e(198)]),this[e(208)][e(224)][e(177)]=!0;const{listWrapperView:n}=this[e(223)];n[e(197)][e(163)](this[e(128)])[e(138)]((n=>{const r=e;if(!t[r(141)]&&n[r(190)])return null;const s=new ru(this[r(211)][r(182)],n,!!t[r(198)]);return t[r(198)]&&this[r(184)](s,r(191),(()=>{const e=r;t[e(198)](n,s[e(218)])})),s})),this[e(146)][e(225)][e(227)](this[e(223)]),this[e(146)][e(151)]({target:this[e(208)][e(224)][e(218)]}),n[e(156)](),n[e(217)]();const r=(t,n)=>{const r=e;this[r(179)](),this[r(208)][r(224)][r(156)](),n()};n[e(142)][e(131)](e(174),r),n[e(142)][e(131)](e(139),r),n[e(142)][e(131)](e(207),((t,n)=>{const r=e;!function(e){const t=cu,n=["a",t(216),t(159),t(203),t(162),t(192),t(157)][t(229)]((e=>e+t(178)))[t(220)](","),r=[...document[t(175)][t(226)](n)][t(183)]((e=>e===document[t(219)]||e[t(195)]+e[t(212)]>0))[t(129)](((e,n)=>(e[t(170)]||0)-(n[t(170)]||0))),s=r[t(214)](e),o=r[(s+1)%r[t(148)]];o&&o[t(156)]()}(this[r(208)][r(218)]),this[r(179)](),n()})),n[e(134)][e(227)](this[e(208)][e(218)]),n[e(134)].on(e(152),((t,n,r)=>{r||this[e(179)]()}))}[du(179)](){const e=du;this[e(223)]&&(this[e(208)][e(224)][e(177)]=!1,this[e(146)][e(199)](),this[e(146)][e(225)][e(221)](this[e(223)]),this[e(223)][e(133)](),this[e(223)]=void 0)}[du(133)](){const e=du;super[e(133)](),this[e(208)]&&this[e(208)][e(165)]&&this[e(208)][e(133)](),this[e(222)]&&(this[e(222)][e(158)](),this[e(222)][e(133)](),this[e(222)]=null)}}var hu=mu;function fu(){var e=["PresenceList","512QcuOhz","10960BYaFLH","23814300yknWWz","6118ghgJnb","pluginName","3704166gEAQmH","2714580RahOCl","isPremiumPlugin","requires","951401ReIoVh","isOfficialPlugin","28ZbaVDp","61569MipCHt","20245ZpTBCK"];return(fu=function(){return e})()}function mu(e,t){var n=fu();return(mu=function(e,t){return n[e-=443]})(e,t)}!function(e){for(var t=mu,n=e();;)try{if(722502===-parseInt(t(448))/1+parseInt(t(450))/2*(parseInt(t(451))/3)+parseInt(t(454))/4*(parseInt(t(452))/5)+-parseInt(t(444))/6+parseInt(t(457))/7*(-parseInt(t(455))/8)+parseInt(t(445))/9+parseInt(t(456))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}(fu);class yu extends t.ContextPlugin{static get[hu(447)](){return[ms,pu]}static get[hu(443)](){return hu(453)}static get[hu(449)](){return!0}static get[hu(446)](){return!0}}function gu(e,t){var n=bu();return(gu=function(e,t){return n[e-=282]})(e,t)}function bu(){var e=["161335jaOlHE","175BKFioA","15474gKpBKP","44AOPlHy","5137WxxARg","12222yBBSAR","12410oOFqKO","9298548TmNMGy","23199QkDQIg","49LxzyIr","2299504UhrqmF"];return(bu=function(){return e})()}!function(e){for(var t=gu,n=e();;)try{if(611055===-parseInt(t(291))/1*(-parseInt(t(284))/2)+-parseInt(t(290))/3+-parseInt(t(285))/4*(-parseInt(t(282))/5)+-parseInt(t(287))/6*(-parseInt(t(283))/7)+parseInt(t(292))/8+-parseInt(t(289))/9+-parseInt(t(288))/10*(-parseInt(t(286))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}(bu)})(),(window.CKEditor5=window.CKEditor5||{}).realTimeCollaboration=__webpack_exports__})();